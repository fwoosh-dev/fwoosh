var Zc=Object.defineProperty;var Jc=(e,t,n)=>t in e?Zc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var la=(e,t,n)=>(Jc(e,typeof t!="symbol"?t+"":t,n),n);import{g as so,d as Vn,a as gi,l as mi,s as Q,b as ed,c as lo,e as td,C as nd}from"./index-49f43349.js";import{R as g,r as c,j as X,a as vn,F as Pl}from"./jsx-runtime-45b8ed70.js";import{r as rd,_ as oe,p as k,a as $l,$ as kl,E as Et,R as id,S as Ee,b as yn,c as Gn,d as uo,m as se,e as Rl,f as Al,g as Ml,h as vi,T as Nl,i as an,I as sn,H as Ll,j as zl,k as yr,l as br,n as Er,C as wr,o as ua,P as co,D as Hl,q as et,Q as De,s as od,t as ad,u as fo,v as sd,w as ld,x as ud,y as cd,z as yi,A as dd,B as Zn,F as Te,G as fd,J as Fl,K as jl}from"./index-2769b282.js";import{i as Jn,s as hd,a as bi,f as pd,r as Ei,n as Me,t as Bl,e as gd,g as Kl,b as er,c as Oe,h as Ul,p as pt,m as ca,d as da,j as Ln,k as Cn,l as fa,o as md,q as vd,_ as Fe,u as St,v as ho,w as ot,x as bn,y as yd,z as bd,P as po,A as Sr,B as je,C as Wl,D as Ed,E as wd,F as tr,G as Sd,H as Od,I as Id,J as ql}from"./useParams-21d99adc.js";import{M as Yl}from"./index-c00c2ae7.js";import{E as _d}from"./external-link-34072cc7.js";import{P as Cd}from"./plus-76396f80.js";function xd(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();so()==="dark"?(document.body.classList.add(Vn),gi&&document.body.classList.add(gi)):mi&&document.body.classList.add(mi);var nr={},Xl,go,ha=rd;go=nr.createRoot=ha.createRoot,Xl=nr.hydrateRoot=ha.hydrateRoot;const Td=xd({__proto__:null,get createRoot(){return go},default:nr,get hydrateRoot(){return Xl}},[nr]);function wi(e,t){return wi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wi(e,t)}function qt(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,wi(e,t)}var En=function(){function e(){this.listeners=[]}var t=e.prototype;return t.subscribe=function(r){var i=this,o=r||function(){};return this.listeners.push(o),this.onSubscribe(),function(){i.listeners=i.listeners.filter(function(a){return a!==o}),i.onUnsubscribe()}},t.hasListeners=function(){return this.listeners.length>0},t.onSubscribe=function(){},t.onUnsubscribe=function(){},e}(),Dd=function(e){qt(t,e);function t(){var r;return r=e.call(this)||this,r.setup=function(i){var o;if(!Jn&&((o=window)!=null&&o.addEventListener)){var a=function(){return i()};return window.addEventListener("visibilitychange",a,!1),window.addEventListener("focus",a,!1),function(){window.removeEventListener("visibilitychange",a),window.removeEventListener("focus",a)}}},r}var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var o,a=this;this.setup=i,(o=this.cleanup)==null||o.call(this),this.cleanup=i(function(s){typeof s=="boolean"?a.setFocused(s):a.onFocus()})},n.setFocused=function(i){this.focused=i,i&&this.onFocus()},n.onFocus=function(){this.listeners.forEach(function(i){i()})},n.isFocused=function(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)},t}(En),ln=new Dd,Pd=function(e){qt(t,e);function t(){var r;return r=e.call(this)||this,r.setup=function(i){var o;if(!Jn&&((o=window)!=null&&o.addEventListener)){var a=function(){return i()};return window.addEventListener("online",a,!1),window.addEventListener("offline",a,!1),function(){window.removeEventListener("online",a),window.removeEventListener("offline",a)}}},r}var n=t.prototype;return n.onSubscribe=function(){this.cleanup||this.setEventListener(this.setup)},n.onUnsubscribe=function(){if(!this.hasListeners()){var i;(i=this.cleanup)==null||i.call(this),this.cleanup=void 0}},n.setEventListener=function(i){var o,a=this;this.setup=i,(o=this.cleanup)==null||o.call(this),this.cleanup=i(function(s){typeof s=="boolean"?a.setOnline(s):a.onOnline()})},n.setOnline=function(i){this.online=i,i&&this.onOnline()},n.onOnline=function(){this.listeners.forEach(function(i){i()})},n.isOnline=function(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine},t}(En),zn=new Pd;function $d(e){return Math.min(1e3*Math.pow(2,e),3e4)}function rr(e){return typeof(e==null?void 0:e.cancel)=="function"}var Ql=function(t){this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent};function Hn(e){return e instanceof Ql}var Vl=function(t){var n=this,r=!1,i,o,a,s;this.abort=t.abort,this.cancel=function(h){return i==null?void 0:i(h)},this.cancelRetry=function(){r=!0},this.continueRetry=function(){r=!1},this.continue=function(){return o==null?void 0:o()},this.failureCount=0,this.isPaused=!1,this.isResolved=!1,this.isTransportCancelable=!1,this.promise=new Promise(function(h,v){a=h,s=v});var l=function(v){n.isResolved||(n.isResolved=!0,t.onSuccess==null||t.onSuccess(v),o==null||o(),a(v))},u=function(v){n.isResolved||(n.isResolved=!0,t.onError==null||t.onError(v),o==null||o(),s(v))},d=function(){return new Promise(function(v){o=v,n.isPaused=!0,t.onPause==null||t.onPause()}).then(function(){o=void 0,n.isPaused=!1,t.onContinue==null||t.onContinue()})},f=function h(){if(!n.isResolved){var v;try{v=t.fn()}catch(y){v=Promise.reject(y)}i=function(p){if(!n.isResolved&&(u(new Ql(p)),n.abort==null||n.abort(),rr(v)))try{v.cancel()}catch{}},n.isTransportCancelable=rr(v),Promise.resolve(v).then(l).catch(function(y){var p,m;if(!n.isResolved){var b=(p=t.retry)!=null?p:3,E=(m=t.retryDelay)!=null?m:$d,O=typeof E=="function"?E(n.failureCount,y):E,x=b===!0||typeof b=="number"&&n.failureCount<b||typeof b=="function"&&b(n.failureCount,y);if(r||!x){u(y);return}n.failureCount++,t.onFail==null||t.onFail(n.failureCount,y),hd(O).then(function(){if(!ln.isFocused()||!zn.isOnline())return d()}).then(function(){r?u(y):h()})}})}};f()},kd=function(){function e(n){this.abortSignalConsumed=!1,this.hadObservers=!1,this.defaultOptions=n.defaultOptions,this.setOptions(n.options),this.observers=[],this.cache=n.cache,this.queryKey=n.queryKey,this.queryHash=n.queryHash,this.initialState=n.state||this.getDefaultState(this.options),this.state=this.initialState,this.meta=n.meta,this.scheduleGc()}var t=e.prototype;return t.setOptions=function(r){var i;this.options=oe({},this.defaultOptions,r),this.meta=r==null?void 0:r.meta,this.cacheTime=Math.max(this.cacheTime||0,(i=this.options.cacheTime)!=null?i:5*60*1e3)},t.setDefaultOptions=function(r){this.defaultOptions=r},t.scheduleGc=function(){var r=this;this.clearGcTimeout(),bi(this.cacheTime)&&(this.gcTimeout=setTimeout(function(){r.optionalRemove()},this.cacheTime))},t.clearGcTimeout=function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)},t.optionalRemove=function(){this.observers.length||(this.state.isFetching?this.hadObservers&&this.scheduleGc():this.cache.remove(this))},t.setData=function(r,i){var o,a,s=this.state.data,l=pd(r,s);return(o=(a=this.options).isDataEqual)!=null&&o.call(a,s,l)?l=s:this.options.structuralSharing!==!1&&(l=Ei(s,l)),this.dispatch({data:l,type:"success",dataUpdatedAt:i==null?void 0:i.updatedAt}),l},t.setState=function(r,i){this.dispatch({type:"setState",state:r,setStateOptions:i})},t.cancel=function(r){var i,o=this.promise;return(i=this.retryer)==null||i.cancel(r),o?o.then(Me).catch(Me):Promise.resolve()},t.destroy=function(){this.clearGcTimeout(),this.cancel({silent:!0})},t.reset=function(){this.destroy(),this.setState(this.initialState)},t.isActive=function(){return this.observers.some(function(r){return r.options.enabled!==!1})},t.isFetching=function(){return this.state.isFetching},t.isStale=function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(function(r){return r.getCurrentResult().isStale})},t.isStaleByTime=function(r){return r===void 0&&(r=0),this.state.isInvalidated||!this.state.dataUpdatedAt||!Bl(this.state.dataUpdatedAt,r)},t.onFocus=function(){var r,i=this.observers.find(function(o){return o.shouldFetchOnWindowFocus()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},t.onOnline=function(){var r,i=this.observers.find(function(o){return o.shouldFetchOnReconnect()});i&&i.refetch(),(r=this.retryer)==null||r.continue()},t.addObserver=function(r){this.observers.indexOf(r)===-1&&(this.observers.push(r),this.hadObservers=!0,this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:r}))},t.removeObserver=function(r){this.observers.indexOf(r)!==-1&&(this.observers=this.observers.filter(function(i){return i!==r}),this.observers.length||(this.retryer&&(this.retryer.isTransportCancelable||this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.cacheTime?this.scheduleGc():this.cache.remove(this)),this.cache.notify({type:"observerRemoved",query:this,observer:r}))},t.getObserversCount=function(){return this.observers.length},t.invalidate=function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})},t.fetch=function(r,i){var o=this,a,s,l;if(this.state.isFetching){if(this.state.dataUpdatedAt&&(i!=null&&i.cancelRefetch))this.cancel({silent:!0});else if(this.promise){var u;return(u=this.retryer)==null||u.continueRetry(),this.promise}}if(r&&this.setOptions(r),!this.options.queryFn){var d=this.observers.find(function(E){return E.options.queryFn});d&&this.setOptions(d.options)}var f=gd(this.queryKey),h=Kl(),v={queryKey:f,pageParam:void 0,meta:this.meta};Object.defineProperty(v,"signal",{enumerable:!0,get:function(){if(h)return o.abortSignalConsumed=!0,h.signal}});var y=function(){return o.options.queryFn?(o.abortSignalConsumed=!1,o.options.queryFn(v)):Promise.reject("Missing queryFn")},p={fetchOptions:i,options:this.options,queryKey:f,state:this.state,fetchFn:y,meta:this.meta};if((a=this.options.behavior)!=null&&a.onFetch){var m;(m=this.options.behavior)==null||m.onFetch(p)}if(this.revertState=this.state,!this.state.isFetching||this.state.fetchMeta!==((s=p.fetchOptions)==null?void 0:s.meta)){var b;this.dispatch({type:"fetch",meta:(b=p.fetchOptions)==null?void 0:b.meta})}return this.retryer=new Vl({fn:p.fetchFn,abort:h==null||(l=h.abort)==null?void 0:l.bind(h),onSuccess:function(O){o.setData(O),o.cache.config.onSuccess==null||o.cache.config.onSuccess(O,o),o.cacheTime===0&&o.optionalRemove()},onError:function(O){Hn(O)&&O.silent||o.dispatch({type:"error",error:O}),Hn(O)||(o.cache.config.onError==null||o.cache.config.onError(O,o),er().error(O)),o.cacheTime===0&&o.optionalRemove()},onFail:function(){o.dispatch({type:"failed"})},onPause:function(){o.dispatch({type:"pause"})},onContinue:function(){o.dispatch({type:"continue"})},retry:p.options.retry,retryDelay:p.options.retryDelay}),this.promise=this.retryer.promise,this.promise},t.dispatch=function(r){var i=this;this.state=this.reducer(this.state,r),Oe.batch(function(){i.observers.forEach(function(o){o.onQueryUpdate(r)}),i.cache.notify({query:i,type:"queryUpdated",action:r})})},t.getDefaultState=function(r){var i=typeof r.initialData=="function"?r.initialData():r.initialData,o=typeof r.initialData<"u",a=o?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0,s=typeof i<"u";return{data:i,dataUpdateCount:0,dataUpdatedAt:s?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchMeta:null,isFetching:!1,isInvalidated:!1,isPaused:!1,status:s?"success":"idle"}},t.reducer=function(r,i){var o,a;switch(i.type){case"failed":return oe({},r,{fetchFailureCount:r.fetchFailureCount+1});case"pause":return oe({},r,{isPaused:!0});case"continue":return oe({},r,{isPaused:!1});case"fetch":return oe({},r,{fetchFailureCount:0,fetchMeta:(o=i.meta)!=null?o:null,isFetching:!0,isPaused:!1},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return oe({},r,{data:i.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(a=i.dataUpdatedAt)!=null?a:Date.now(),error:null,fetchFailureCount:0,isFetching:!1,isInvalidated:!1,isPaused:!1,status:"success"});case"error":var s=i.error;return Hn(s)&&s.revert&&this.revertState?oe({},this.revertState):oe({},r,{error:s,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,isFetching:!1,isPaused:!1,status:"error"});case"invalidate":return oe({},r,{isInvalidated:!0});case"setState":return oe({},r,i.state);default:return r}},e}(),Rd=function(e){qt(t,e);function t(r){var i;return i=e.call(this)||this,i.config=r||{},i.queries=[],i.queriesMap={},i}var n=t.prototype;return n.build=function(i,o,a){var s,l=o.queryKey,u=(s=o.queryHash)!=null?s:Ul(l,o),d=this.get(u);return d||(d=new kd({cache:this,queryKey:l,queryHash:u,options:i.defaultQueryOptions(o),state:a,defaultOptions:i.getQueryDefaults(l),meta:o.meta}),this.add(d)),d},n.add=function(i){this.queriesMap[i.queryHash]||(this.queriesMap[i.queryHash]=i,this.queries.push(i),this.notify({type:"queryAdded",query:i}))},n.remove=function(i){var o=this.queriesMap[i.queryHash];o&&(i.destroy(),this.queries=this.queries.filter(function(a){return a!==i}),o===i&&delete this.queriesMap[i.queryHash],this.notify({type:"queryRemoved",query:i}))},n.clear=function(){var i=this;Oe.batch(function(){i.queries.forEach(function(o){i.remove(o)})})},n.get=function(i){return this.queriesMap[i]},n.getAll=function(){return this.queries},n.find=function(i,o){var a=pt(i,o),s=a[0];return typeof s.exact>"u"&&(s.exact=!0),this.queries.find(function(l){return ca(s,l)})},n.findAll=function(i,o){var a=pt(i,o),s=a[0];return Object.keys(s).length>0?this.queries.filter(function(l){return ca(s,l)}):this.queries},n.notify=function(i){var o=this;Oe.batch(function(){o.listeners.forEach(function(a){a(i)})})},n.onFocus=function(){var i=this;Oe.batch(function(){i.queries.forEach(function(o){o.onFocus()})})},n.onOnline=function(){var i=this;Oe.batch(function(){i.queries.forEach(function(o){o.onOnline()})})},t}(En),Ad=function(){function e(n){this.options=oe({},n.defaultOptions,n.options),this.mutationId=n.mutationId,this.mutationCache=n.mutationCache,this.observers=[],this.state=n.state||Md(),this.meta=n.meta}var t=e.prototype;return t.setState=function(r){this.dispatch({type:"setState",state:r})},t.addObserver=function(r){this.observers.indexOf(r)===-1&&this.observers.push(r)},t.removeObserver=function(r){this.observers=this.observers.filter(function(i){return i!==r})},t.cancel=function(){return this.retryer?(this.retryer.cancel(),this.retryer.promise.then(Me).catch(Me)):Promise.resolve()},t.continue=function(){return this.retryer?(this.retryer.continue(),this.retryer.promise):this.execute()},t.execute=function(){var r=this,i,o=this.state.status==="loading",a=Promise.resolve();return o||(this.dispatch({type:"loading",variables:this.options.variables}),a=a.then(function(){r.mutationCache.config.onMutate==null||r.mutationCache.config.onMutate(r.state.variables,r)}).then(function(){return r.options.onMutate==null?void 0:r.options.onMutate(r.state.variables)}).then(function(s){s!==r.state.context&&r.dispatch({type:"loading",context:s,variables:r.state.variables})})),a.then(function(){return r.executeMutation()}).then(function(s){i=s,r.mutationCache.config.onSuccess==null||r.mutationCache.config.onSuccess(i,r.state.variables,r.state.context,r)}).then(function(){return r.options.onSuccess==null?void 0:r.options.onSuccess(i,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(i,null,r.state.variables,r.state.context)}).then(function(){return r.dispatch({type:"success",data:i}),i}).catch(function(s){return r.mutationCache.config.onError==null||r.mutationCache.config.onError(s,r.state.variables,r.state.context,r),er().error(s),Promise.resolve().then(function(){return r.options.onError==null?void 0:r.options.onError(s,r.state.variables,r.state.context)}).then(function(){return r.options.onSettled==null?void 0:r.options.onSettled(void 0,s,r.state.variables,r.state.context)}).then(function(){throw r.dispatch({type:"error",error:s}),s})})},t.executeMutation=function(){var r=this,i;return this.retryer=new Vl({fn:function(){return r.options.mutationFn?r.options.mutationFn(r.state.variables):Promise.reject("No mutationFn found")},onFail:function(){r.dispatch({type:"failed"})},onPause:function(){r.dispatch({type:"pause"})},onContinue:function(){r.dispatch({type:"continue"})},retry:(i=this.options.retry)!=null?i:0,retryDelay:this.options.retryDelay}),this.retryer.promise},t.dispatch=function(r){var i=this;this.state=Nd(this.state,r),Oe.batch(function(){i.observers.forEach(function(o){o.onMutationUpdate(r)}),i.mutationCache.notify(i)})},e}();function Md(){return{context:void 0,data:void 0,error:null,failureCount:0,isPaused:!1,status:"idle",variables:void 0}}function Nd(e,t){switch(t.type){case"failed":return oe({},e,{failureCount:e.failureCount+1});case"pause":return oe({},e,{isPaused:!0});case"continue":return oe({},e,{isPaused:!1});case"loading":return oe({},e,{context:t.context,data:void 0,error:null,isPaused:!1,status:"loading",variables:t.variables});case"success":return oe({},e,{data:t.data,error:null,status:"success",isPaused:!1});case"error":return oe({},e,{data:void 0,error:t.error,failureCount:e.failureCount+1,isPaused:!1,status:"error"});case"setState":return oe({},e,t.state);default:return e}}var Ld=function(e){qt(t,e);function t(r){var i;return i=e.call(this)||this,i.config=r||{},i.mutations=[],i.mutationId=0,i}var n=t.prototype;return n.build=function(i,o,a){var s=new Ad({mutationCache:this,mutationId:++this.mutationId,options:i.defaultMutationOptions(o),state:a,defaultOptions:o.mutationKey?i.getMutationDefaults(o.mutationKey):void 0,meta:o.meta});return this.add(s),s},n.add=function(i){this.mutations.push(i),this.notify(i)},n.remove=function(i){this.mutations=this.mutations.filter(function(o){return o!==i}),i.cancel(),this.notify(i)},n.clear=function(){var i=this;Oe.batch(function(){i.mutations.forEach(function(o){i.remove(o)})})},n.getAll=function(){return this.mutations},n.find=function(i){return typeof i.exact>"u"&&(i.exact=!0),this.mutations.find(function(o){return da(i,o)})},n.findAll=function(i){return this.mutations.filter(function(o){return da(i,o)})},n.notify=function(i){var o=this;Oe.batch(function(){o.listeners.forEach(function(a){a(i)})})},n.onFocus=function(){this.resumePausedMutations()},n.onOnline=function(){this.resumePausedMutations()},n.resumePausedMutations=function(){var i=this.mutations.filter(function(o){return o.state.isPaused});return Oe.batch(function(){return i.reduce(function(o,a){return o.then(function(){return a.continue().catch(Me)})},Promise.resolve())})},t}(En);function zd(){return{onFetch:function(t){t.fetchFn=function(){var n,r,i,o,a,s,l=(n=t.fetchOptions)==null||(r=n.meta)==null?void 0:r.refetchPage,u=(i=t.fetchOptions)==null||(o=i.meta)==null?void 0:o.fetchMore,d=u==null?void 0:u.pageParam,f=(u==null?void 0:u.direction)==="forward",h=(u==null?void 0:u.direction)==="backward",v=((a=t.state.data)==null?void 0:a.pages)||[],y=((s=t.state.data)==null?void 0:s.pageParams)||[],p=Kl(),m=p==null?void 0:p.signal,b=y,E=!1,O=t.options.queryFn||function(){return Promise.reject("Missing queryFn")},x=function(Z,ue,le,M){return b=M?[ue].concat(b):[].concat(b,[ue]),M?[le].concat(Z):[].concat(Z,[le])},C=function(Z,ue,le,M){if(E)return Promise.reject("Cancelled");if(typeof le>"u"&&!ue&&Z.length)return Promise.resolve(Z);var q={queryKey:t.queryKey,signal:m,pageParam:le,meta:t.meta},W=O(q),V=Promise.resolve(W).then(function(j){return x(Z,le,j,M)});if(rr(W)){var A=V;A.cancel=W.cancel}return V},S;if(!v.length)S=C([]);else if(f){var w=typeof d<"u",I=w?d:pa(t.options,v);S=C(v,w,I)}else if(h){var T=typeof d<"u",P=T?d:Hd(t.options,v);S=C(v,T,P,!0)}else(function(){b=[];var ee=typeof t.options.getNextPageParam>"u",Z=l&&v[0]?l(v[0],0,v):!0;S=Z?C([],ee,y[0]):Promise.resolve(x([],y[0],v[0]));for(var ue=function(q){S=S.then(function(W){var V=l&&v[q]?l(v[q],q,v):!0;if(V){var A=ee?y[q]:pa(t.options,W);return C(W,ee,A)}return Promise.resolve(x(W,y[q],v[q]))})},le=1;le<v.length;le++)ue(le)})();var $=S.then(function(ee){return{pages:ee,pageParams:b}}),z=$;return z.cancel=function(){E=!0,p==null||p.abort(),rr(S)&&S.cancel()},$}}}}function pa(e,t){return e.getNextPageParam==null?void 0:e.getNextPageParam(t[t.length-1],t)}function Hd(e,t){return e.getPreviousPageParam==null?void 0:e.getPreviousPageParam(t[0],t)}var Fd=function(){function e(n){n===void 0&&(n={}),this.queryCache=n.queryCache||new Rd,this.mutationCache=n.mutationCache||new Ld,this.defaultOptions=n.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[]}var t=e.prototype;return t.mount=function(){var r=this;this.unsubscribeFocus=ln.subscribe(function(){ln.isFocused()&&zn.isOnline()&&(r.mutationCache.onFocus(),r.queryCache.onFocus())}),this.unsubscribeOnline=zn.subscribe(function(){ln.isFocused()&&zn.isOnline()&&(r.mutationCache.onOnline(),r.queryCache.onOnline())})},t.unmount=function(){var r,i;(r=this.unsubscribeFocus)==null||r.call(this),(i=this.unsubscribeOnline)==null||i.call(this)},t.isFetching=function(r,i){var o=pt(r,i),a=o[0];return a.fetching=!0,this.queryCache.findAll(a).length},t.isMutating=function(r){return this.mutationCache.findAll(oe({},r,{fetching:!0})).length},t.getQueryData=function(r,i){var o;return(o=this.queryCache.find(r,i))==null?void 0:o.state.data},t.getQueriesData=function(r){return this.getQueryCache().findAll(r).map(function(i){var o=i.queryKey,a=i.state,s=a.data;return[o,s]})},t.setQueryData=function(r,i,o){var a=Ln(r),s=this.defaultQueryOptions(a);return this.queryCache.build(this,s).setData(i,o)},t.setQueriesData=function(r,i,o){var a=this;return Oe.batch(function(){return a.getQueryCache().findAll(r).map(function(s){var l=s.queryKey;return[l,a.setQueryData(l,i,o)]})})},t.getQueryState=function(r,i){var o;return(o=this.queryCache.find(r,i))==null?void 0:o.state},t.removeQueries=function(r,i){var o=pt(r,i),a=o[0],s=this.queryCache;Oe.batch(function(){s.findAll(a).forEach(function(l){s.remove(l)})})},t.resetQueries=function(r,i,o){var a=this,s=pt(r,i,o),l=s[0],u=s[1],d=this.queryCache,f=oe({},l,{active:!0});return Oe.batch(function(){return d.findAll(l).forEach(function(h){h.reset()}),a.refetchQueries(f,u)})},t.cancelQueries=function(r,i,o){var a=this,s=pt(r,i,o),l=s[0],u=s[1],d=u===void 0?{}:u;typeof d.revert>"u"&&(d.revert=!0);var f=Oe.batch(function(){return a.queryCache.findAll(l).map(function(h){return h.cancel(d)})});return Promise.all(f).then(Me).catch(Me)},t.invalidateQueries=function(r,i,o){var a,s,l,u=this,d=pt(r,i,o),f=d[0],h=d[1],v=oe({},f,{active:(a=(s=f.refetchActive)!=null?s:f.active)!=null?a:!0,inactive:(l=f.refetchInactive)!=null?l:!1});return Oe.batch(function(){return u.queryCache.findAll(f).forEach(function(y){y.invalidate()}),u.refetchQueries(v,h)})},t.refetchQueries=function(r,i,o){var a=this,s=pt(r,i,o),l=s[0],u=s[1],d=Oe.batch(function(){return a.queryCache.findAll(l).map(function(h){return h.fetch(void 0,oe({},u,{meta:{refetchPage:l==null?void 0:l.refetchPage}}))})}),f=Promise.all(d).then(Me);return u!=null&&u.throwOnError||(f=f.catch(Me)),f},t.fetchQuery=function(r,i,o){var a=Ln(r,i,o),s=this.defaultQueryOptions(a);typeof s.retry>"u"&&(s.retry=!1);var l=this.queryCache.build(this,s);return l.isStaleByTime(s.staleTime)?l.fetch(s):Promise.resolve(l.state.data)},t.prefetchQuery=function(r,i,o){return this.fetchQuery(r,i,o).then(Me).catch(Me)},t.fetchInfiniteQuery=function(r,i,o){var a=Ln(r,i,o);return a.behavior=zd(),this.fetchQuery(a)},t.prefetchInfiniteQuery=function(r,i,o){return this.fetchInfiniteQuery(r,i,o).then(Me).catch(Me)},t.cancelMutations=function(){var r=this,i=Oe.batch(function(){return r.mutationCache.getAll().map(function(o){return o.cancel()})});return Promise.all(i).then(Me).catch(Me)},t.resumePausedMutations=function(){return this.getMutationCache().resumePausedMutations()},t.executeMutation=function(r){return this.mutationCache.build(this,r).execute()},t.getQueryCache=function(){return this.queryCache},t.getMutationCache=function(){return this.mutationCache},t.getDefaultOptions=function(){return this.defaultOptions},t.setDefaultOptions=function(r){this.defaultOptions=r},t.setQueryDefaults=function(r,i){var o=this.queryDefaults.find(function(a){return Cn(r)===Cn(a.queryKey)});o?o.defaultOptions=i:this.queryDefaults.push({queryKey:r,defaultOptions:i})},t.getQueryDefaults=function(r){var i;return r?(i=this.queryDefaults.find(function(o){return fa(r,o.queryKey)}))==null?void 0:i.defaultOptions:void 0},t.setMutationDefaults=function(r,i){var o=this.mutationDefaults.find(function(a){return Cn(r)===Cn(a.mutationKey)});o?o.defaultOptions=i:this.mutationDefaults.push({mutationKey:r,defaultOptions:i})},t.getMutationDefaults=function(r){var i;return r?(i=this.mutationDefaults.find(function(o){return fa(r,o.mutationKey)}))==null?void 0:i.defaultOptions:void 0},t.defaultQueryOptions=function(r){if(r!=null&&r._defaulted)return r;var i=oe({},this.defaultOptions.queries,this.getQueryDefaults(r==null?void 0:r.queryKey),r,{_defaulted:!0});return!i.queryHash&&i.queryKey&&(i.queryHash=Ul(i.queryKey,i)),i},t.defaultQueryObserverOptions=function(r){return this.defaultQueryOptions(r)},t.defaultMutationOptions=function(r){return r!=null&&r._defaulted?r:oe({},this.defaultOptions.mutations,this.getMutationDefaults(r==null?void 0:r.mutationKey),r,{_defaulted:!0})},t.clear=function(){this.queryCache.clear(),this.mutationCache.clear()},e}(),jd=function(e){qt(t,e);function t(r,i){var o;return o=e.call(this)||this,o.client=r,o.options=i,o.trackedProps=[],o.selectError=null,o.bindMethods(),o.setOptions(i),o}var n=t.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),ga(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return Si(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return Si(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(i,o){var a=this.options,s=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(i),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=a.queryKey),this.updateQuery();var l=this.hasListeners();l&&ma(this.currentQuery,s,this.options,a)&&this.executeFetch(),this.updateResult(o),l&&(this.currentQuery!==s||this.options.enabled!==a.enabled||this.options.staleTime!==a.staleTime)&&this.updateStaleTimeout();var u=this.computeRefetchInterval();l&&(this.currentQuery!==s||this.options.enabled!==a.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)},n.getOptimisticResult=function(i){var o=this.client.defaultQueryObserverOptions(i),a=this.client.getQueryCache().build(this.client,o);return this.createResult(a,o)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(i,o){var a=this,s={},l=function(d){a.trackedProps.includes(d)||a.trackedProps.push(d)};return Object.keys(i).forEach(function(u){Object.defineProperty(s,u,{configurable:!1,enumerable:!0,get:function(){return l(u),i[u]}})}),(o.useErrorBoundary||o.suspense)&&l("error"),s},n.getNextResult=function(i){var o=this;return new Promise(function(a,s){var l=o.subscribe(function(u){u.isFetching||(l(),u.isError&&(i!=null&&i.throwOnError)?s(u.error):a(u))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(i){return this.fetch(oe({},i,{meta:{refetchPage:i==null?void 0:i.refetchPage}}))},n.fetchOptimistic=function(i){var o=this,a=this.client.defaultQueryObserverOptions(i),s=this.client.getQueryCache().build(this.client,a);return s.fetch().then(function(){return o.createResult(s,a)})},n.fetch=function(i){var o=this;return this.executeFetch(i).then(function(){return o.updateResult(),o.currentResult})},n.executeFetch=function(i){this.updateQuery();var o=this.currentQuery.fetch(this.options,i);return i!=null&&i.throwOnError||(o=o.catch(Me)),o},n.updateStaleTimeout=function(){var i=this;if(this.clearStaleTimeout(),!(Jn||this.currentResult.isStale||!bi(this.options.staleTime))){var o=Bl(this.currentResult.dataUpdatedAt,this.options.staleTime),a=o+1;this.staleTimeoutId=setTimeout(function(){i.currentResult.isStale||i.updateResult()},a)}},n.computeRefetchInterval=function(){var i;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(i=this.options.refetchInterval)!=null?i:!1},n.updateRefetchInterval=function(i){var o=this;this.clearRefetchInterval(),this.currentRefetchInterval=i,!(Jn||this.options.enabled===!1||!bi(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(o.options.refetchIntervalInBackground||ln.isFocused())&&o.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(i,o){var a=this.currentQuery,s=this.options,l=this.currentResult,u=this.currentResultState,d=this.currentResultOptions,f=i!==a,h=f?i.state:this.currentQueryInitialState,v=f?this.currentResult:this.previousQueryResult,y=i.state,p=y.dataUpdatedAt,m=y.error,b=y.errorUpdatedAt,E=y.isFetching,O=y.status,x=!1,C=!1,S;if(o.optimisticResults){var w=this.hasListeners(),I=!w&&ga(i,o),T=w&&ma(i,a,o,s);(I||T)&&(E=!0,p||(O="loading"))}if(o.keepPreviousData&&!y.dataUpdateCount&&(v!=null&&v.isSuccess)&&O!=="error")S=v.data,p=v.dataUpdatedAt,O=v.status,x=!0;else if(o.select&&typeof y.data<"u")if(l&&y.data===(u==null?void 0:u.data)&&o.select===this.selectFn)S=this.selectResult;else try{this.selectFn=o.select,S=o.select(y.data),o.structuralSharing!==!1&&(S=Ei(l==null?void 0:l.data,S)),this.selectResult=S,this.selectError=null}catch(z){er().error(z),this.selectError=z}else S=y.data;if(typeof o.placeholderData<"u"&&typeof S>"u"&&(O==="loading"||O==="idle")){var P;if(l!=null&&l.isPlaceholderData&&o.placeholderData===(d==null?void 0:d.placeholderData))P=l.data;else if(P=typeof o.placeholderData=="function"?o.placeholderData():o.placeholderData,o.select&&typeof P<"u")try{P=o.select(P),o.structuralSharing!==!1&&(P=Ei(l==null?void 0:l.data,P)),this.selectError=null}catch(z){er().error(z),this.selectError=z}typeof P<"u"&&(O="success",S=P,C=!0)}this.selectError&&(m=this.selectError,S=this.selectResult,b=Date.now(),O="error");var $={status:O,isLoading:O==="loading",isSuccess:O==="success",isError:O==="error",isIdle:O==="idle",data:S,dataUpdatedAt:p,error:m,errorUpdatedAt:b,failureCount:y.fetchFailureCount,errorUpdateCount:y.errorUpdateCount,isFetched:y.dataUpdateCount>0||y.errorUpdateCount>0,isFetchedAfterMount:y.dataUpdateCount>h.dataUpdateCount||y.errorUpdateCount>h.errorUpdateCount,isFetching:E,isRefetching:E&&O!=="loading",isLoadingError:O==="error"&&y.dataUpdatedAt===0,isPlaceholderData:C,isPreviousData:x,isRefetchError:O==="error"&&y.dataUpdatedAt!==0,isStale:mo(i,o),refetch:this.refetch,remove:this.remove};return $},n.shouldNotifyListeners=function(i,o){if(!o)return!0;var a=this.options,s=a.notifyOnChangeProps,l=a.notifyOnChangePropsExclusions;if(!s&&!l||s==="tracked"&&!this.trackedProps.length)return!0;var u=s==="tracked"?this.trackedProps:s;return Object.keys(i).some(function(d){var f=d,h=i[f]!==o[f],v=u==null?void 0:u.some(function(p){return p===d}),y=l==null?void 0:l.some(function(p){return p===d});return h&&!y&&(!u||v)})},n.updateResult=function(i){var o=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!md(this.currentResult,o)){var a={cache:!0};(i==null?void 0:i.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,o)&&(a.listeners=!0),this.notify(oe({},a,i))}},n.updateQuery=function(){var i=this.client.getQueryCache().build(this.client,this.options);if(i!==this.currentQuery){var o=this.currentQuery;this.currentQuery=i,this.currentQueryInitialState=i.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(o==null||o.removeObserver(this),i.addObserver(this))}},n.onQueryUpdate=function(i){var o={};i.type==="success"?o.onSuccess=!0:i.type==="error"&&!Hn(i.error)&&(o.onError=!0),this.updateResult(o),this.hasListeners()&&this.updateTimers()},n.notify=function(i){var o=this;Oe.batch(function(){i.onSuccess?(o.options.onSuccess==null||o.options.onSuccess(o.currentResult.data),o.options.onSettled==null||o.options.onSettled(o.currentResult.data,null)):i.onError&&(o.options.onError==null||o.options.onError(o.currentResult.error),o.options.onSettled==null||o.options.onSettled(void 0,o.currentResult.error)),i.listeners&&o.listeners.forEach(function(a){a(o.currentResult)}),i.cache&&o.client.getQueryCache().notify({query:o.currentQuery,type:"observerResultsUpdated"})})},t}(En);function Bd(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function ga(e,t){return Bd(e,t)||e.state.dataUpdatedAt>0&&Si(e,t,t.refetchOnMount)}function Si(e,t,n){if(t.enabled!==!1){var r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&mo(e,t)}return!1}function ma(e,t,n,r){return n.enabled!==!1&&(e!==t||r.enabled===!1)&&(!n.suspense||e.state.status!=="error")&&mo(e,n)}function mo(e,t){return e.isStaleByTime(t.staleTime)}var va=g.createContext(void 0),Gl=g.createContext(!1);function Zl(e){return e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=va),window.ReactQueryClientContext):va}var Kd=function(){var t=g.useContext(Zl(g.useContext(Gl)));if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Ud=function(t){var n=t.client,r=t.contextSharing,i=r===void 0?!1:r,o=t.children;g.useEffect(function(){return n.mount(),function(){n.unmount()}},[n]);var a=Zl(i);return g.createElement(Gl.Provider,{value:i},g.createElement(a.Provider,{value:n},o))};function Wd(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var qd=g.createContext(Wd()),Yd=function(){return g.useContext(qd)};function Xd(e,t,n){return typeof t=="function"?t.apply(void 0,n):typeof t=="boolean"?t:!!e}function Qd(e,t){var n=g.useRef(!1),r=g.useState(0),i=r[1],o=Kd(),a=Yd(),s=o.defaultQueryObserverOptions(e);s.optimisticResults=!0,s.onError&&(s.onError=Oe.batchCalls(s.onError)),s.onSuccess&&(s.onSuccess=Oe.batchCalls(s.onSuccess)),s.onSettled&&(s.onSettled=Oe.batchCalls(s.onSettled)),s.suspense&&(typeof s.staleTime!="number"&&(s.staleTime=1e3),s.cacheTime===0&&(s.cacheTime=1)),(s.suspense||s.useErrorBoundary)&&(a.isReset()||(s.retryOnMount=!1));var l=g.useState(function(){return new t(o,s)}),u=l[0],d=u.getOptimisticResult(s);if(g.useEffect(function(){n.current=!0,a.clearReset();var f=u.subscribe(Oe.batchCalls(function(){n.current&&i(function(h){return h+1})}));return u.updateResult(),function(){n.current=!1,f()}},[a,u]),g.useEffect(function(){u.setOptions(s,{listeners:!1})},[s,u]),s.suspense&&d.isLoading)throw u.fetchOptimistic(s).then(function(f){var h=f.data;s.onSuccess==null||s.onSuccess(h),s.onSettled==null||s.onSettled(h,null)}).catch(function(f){a.clearReset(),s.onError==null||s.onError(f),s.onSettled==null||s.onSettled(void 0,f)});if(d.isError&&!a.isReset()&&!d.isFetching&&Xd(s.suspense,s.useErrorBoundary,[d.error,u.getCurrentQuery()]))throw d.error;return s.notifyOnChangeProps==="tracked"&&(d=u.trackResult(d,s)),d}function vo(e,t,n){var r=Ln(e,t,n);return Qd(r,jd)}var Vd=typeof Element<"u",Gd=typeof Map=="function",Zd=typeof Set=="function",Jd=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function Fn(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;var n,r,i;if(Array.isArray(e)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(!Fn(e[r],t[r]))return!1;return!0}var o;if(Gd&&e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;for(o=e.entries();!(r=o.next()).done;)if(!Fn(r.value[1],t.get(r.value[0])))return!1;return!0}if(Zd&&e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(o=e.entries();!(r=o.next()).done;)if(!t.has(r.value[0]))return!1;return!0}if(Jd&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){if(n=e.length,n!=t.length)return!1;for(r=n;r--!==0;)if(e[r]!==t[r])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(t,i[r]))return!1;if(Vd&&e instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&e.$$typeof)&&!Fn(e[i[r]],t[i[r]]))return!1;return!0}return e!==e&&t!==t}var ef=function(t,n){try{return Fn(t,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}},tf=function(e,t,n,r,i,o,a,s){if(!e){var l;if(t===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],d=0;l=new Error(t.replace(/%s/g,function(){return u[d++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},ya=tf,nf=function(t,n,r,i){var o=r?r.call(i,t,n):void 0;if(o!==void 0)return!!o;if(t===n)return!0;if(typeof t!="object"||!t||typeof n!="object"||!n)return!1;var a=Object.keys(t),s=Object.keys(n);if(a.length!==s.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),u=0;u<a.length;u++){var d=a[u];if(!l(d))return!1;var f=t[d],h=n[d];if(o=r?r.call(i,f,h,d):void 0,o===!1||o===void 0&&f!==h)return!1}return!0};function Se(){return Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Se.apply(this,arguments)}function yo(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Oi(e,t)}function Oi(e,t){return Oi=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n},Oi(e,t)}function ba(e,t){if(e==null)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}var L={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title",FRAGMENT:"Symbol(react.fragment)"},rf={rel:["amphtml","canonical","alternate"]},of={type:["application/ld+json"]},af={charset:"",name:["robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},Ea=Object.keys(L).map(function(e){return L[e]}),ir={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},sf=Object.keys(ir).reduce(function(e,t){return e[ir[t]]=t,e},{}),zt=function(e,t){for(var n=e.length-1;n>=0;n-=1){var r=e[n];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},lf=function(e){var t=zt(e,L.TITLE),n=zt(e,"titleTemplate");if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,function(){return t});var r=zt(e,"defaultTitle");return t||r||void 0},uf=function(e){return zt(e,"onChangeClientState")||function(){}},jr=function(e,t){return t.filter(function(n){return n[e]!==void 0}).map(function(n){return n[e]}).reduce(function(n,r){return Se({},n,r)},{})},cf=function(e,t){return t.filter(function(n){return n[L.BASE]!==void 0}).map(function(n){return n[L.BASE]}).reverse().reduce(function(n,r){if(!n.length)for(var i=Object.keys(r),o=0;o<i.length;o+=1){var a=i[o].toLowerCase();if(e.indexOf(a)!==-1&&r[a])return n.concat(r)}return n},[])},Vt=function(e,t,n){var r={};return n.filter(function(i){return!!Array.isArray(i[e])||(i[e]!==void 0&&console&&typeof console.warn=="function"&&console.warn("Helmet: "+e+' should be of type "Array". Instead found type "'+typeof i[e]+'"'),!1)}).map(function(i){return i[e]}).reverse().reduce(function(i,o){var a={};o.filter(function(f){for(var h,v=Object.keys(f),y=0;y<v.length;y+=1){var p=v[y],m=p.toLowerCase();t.indexOf(m)===-1||h==="rel"&&f[h].toLowerCase()==="canonical"||m==="rel"&&f[m].toLowerCase()==="stylesheet"||(h=m),t.indexOf(p)===-1||p!=="innerHTML"&&p!=="cssText"&&p!=="itemprop"||(h=p)}if(!h||!f[h])return!1;var b=f[h].toLowerCase();return r[h]||(r[h]={}),a[h]||(a[h]={}),!r[h][b]&&(a[h][b]=!0,!0)}).reverse().forEach(function(f){return i.push(f)});for(var s=Object.keys(a),l=0;l<s.length;l+=1){var u=s[l],d=Se({},r[u],a[u]);r[u]=d}return i},[]).reverse()},df=function(e,t){if(Array.isArray(e)&&e.length){for(var n=0;n<e.length;n+=1)if(e[n][t])return!0}return!1},Jl=function(e){return Array.isArray(e)?e.join(""):e},Br=function(e,t){return Array.isArray(e)?e.reduce(function(n,r){return function(i,o){for(var a=Object.keys(i),s=0;s<a.length;s+=1)if(o[a[s]]&&o[a[s]].includes(i[a[s]]))return!0;return!1}(r,t)?n.priority.push(r):n.default.push(r),n},{priority:[],default:[]}):{default:e}},wa=function(e,t){var n;return Se({},e,((n={})[t]=void 0,n))},ff=[L.NOSCRIPT,L.SCRIPT,L.STYLE],Kr=function(e,t){return t===void 0&&(t=!0),t===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},Sa=function(e){return Object.keys(e).reduce(function(t,n){var r=e[n]!==void 0?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r},"")},Oa=function(e,t){return t===void 0&&(t={}),Object.keys(e).reduce(function(n,r){return n[ir[r]||r]=e[r],n},t)},jn=function(e,t){return t.map(function(n,r){var i,o=((i={key:r})["data-rh"]=!0,i);return Object.keys(n).forEach(function(a){var s=ir[a]||a;s==="innerHTML"||s==="cssText"?o.dangerouslySetInnerHTML={__html:n.innerHTML||n.cssText}:o[s]=n[a]}),g.createElement(e,o)})},qe=function(e,t,n){switch(e){case L.TITLE:return{toComponent:function(){return i=t.titleAttributes,(o={key:r=t.title})["data-rh"]=!0,a=Oa(i,o),[g.createElement(L.TITLE,a,r)];var r,i,o,a},toString:function(){return function(r,i,o,a){var s=Sa(o),l=Jl(i);return s?"<"+r+' data-rh="true" '+s+">"+Kr(l,a)+"</"+r+">":"<"+r+' data-rh="true">'+Kr(l,a)+"</"+r+">"}(e,t.title,t.titleAttributes,n)}};case"bodyAttributes":case"htmlAttributes":return{toComponent:function(){return Oa(t)},toString:function(){return Sa(t)}};default:return{toComponent:function(){return jn(e,t)},toString:function(){return function(r,i,o){return i.reduce(function(a,s){var l=Object.keys(s).filter(function(f){return!(f==="innerHTML"||f==="cssText")}).reduce(function(f,h){var v=s[h]===void 0?h:h+'="'+Kr(s[h],o)+'"';return f?f+" "+v:v},""),u=s.innerHTML||s.cssText||"",d=ff.indexOf(r)===-1;return a+"<"+r+' data-rh="true" '+l+(d?"/>":">"+u+"</"+r+">")},"")}(e,t,n)}}}},Ii=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,o=e.noscriptTags,a=e.styleTags,s=e.title,l=s===void 0?"":s,u=e.titleAttributes,d=e.linkTags,f=e.metaTags,h=e.scriptTags,v={toComponent:function(){},toString:function(){return""}};if(e.prioritizeSeoTags){var y=function(p){var m=p.linkTags,b=p.scriptTags,E=p.encode,O=Br(p.metaTags,af),x=Br(m,rf),C=Br(b,of);return{priorityMethods:{toComponent:function(){return[].concat(jn(L.META,O.priority),jn(L.LINK,x.priority),jn(L.SCRIPT,C.priority))},toString:function(){return qe(L.META,O.priority,E)+" "+qe(L.LINK,x.priority,E)+" "+qe(L.SCRIPT,C.priority,E)}},metaTags:O.default,linkTags:x.default,scriptTags:C.default}}(e);v=y.priorityMethods,d=y.linkTags,f=y.metaTags,h=y.scriptTags}return{priority:v,base:qe(L.BASE,t,r),bodyAttributes:qe("bodyAttributes",n,r),htmlAttributes:qe("htmlAttributes",i,r),link:qe(L.LINK,d,r),meta:qe(L.META,f,r),noscript:qe(L.NOSCRIPT,o,r),script:qe(L.SCRIPT,h,r),style:qe(L.STYLE,a,r),title:qe(L.TITLE,{title:l,titleAttributes:u},r)}},xn=[],_i=function(e,t){var n=this;t===void 0&&(t=typeof document<"u"),this.instances=[],this.value={setHelmet:function(r){n.context.helmet=r},helmetInstances:{get:function(){return n.canUseDOM?xn:n.instances},add:function(r){(n.canUseDOM?xn:n.instances).push(r)},remove:function(r){var i=(n.canUseDOM?xn:n.instances).indexOf(r);(n.canUseDOM?xn:n.instances).splice(i,1)}}},this.context=e,this.canUseDOM=t,t||(e.helmet=Ii({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))},eu=g.createContext({}),hf=k.shape({setHelmet:k.func,helmetInstances:k.shape({get:k.func,add:k.func,remove:k.func})}),pf=typeof document<"u",Lt=function(e){function t(n){var r;return(r=e.call(this,n)||this).helmetData=new _i(r.props.context,t.canUseDOM),r}return yo(t,e),t.prototype.render=function(){return g.createElement(eu.Provider,{value:this.helmetData.value},this.props.children)},t}(c.Component);Lt.canUseDOM=pf,Lt.propTypes={context:k.shape({helmet:k.shape()}),children:k.node.isRequired},Lt.defaultProps={context:{}},Lt.displayName="HelmetProvider";var Tt=function(e,t){var n,r=document.head||document.querySelector(L.HEAD),i=r.querySelectorAll(e+"[data-rh]"),o=[].slice.call(i),a=[];return t&&t.length&&t.forEach(function(s){var l=document.createElement(e);for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(u==="innerHTML"?l.innerHTML=s.innerHTML:u==="cssText"?l.styleSheet?l.styleSheet.cssText=s.cssText:l.appendChild(document.createTextNode(s.cssText)):l.setAttribute(u,s[u]===void 0?"":s[u]));l.setAttribute("data-rh","true"),o.some(function(d,f){return n=f,l.isEqualNode(d)})?o.splice(n,1):a.push(l)}),o.forEach(function(s){return s.parentNode.removeChild(s)}),a.forEach(function(s){return r.appendChild(s)}),{oldTags:o,newTags:a}},Ur=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute("data-rh"),i=r?r.split(","):[],o=[].concat(i),a=Object.keys(t),s=0;s<a.length;s+=1){var l=a[s],u=t[l]||"";n.getAttribute(l)!==u&&n.setAttribute(l,u),i.indexOf(l)===-1&&i.push(l);var d=o.indexOf(l);d!==-1&&o.splice(d,1)}for(var f=o.length-1;f>=0;f-=1)n.removeAttribute(o[f]);i.length===o.length?n.removeAttribute("data-rh"):n.getAttribute("data-rh")!==a.join(",")&&n.setAttribute("data-rh",a.join(","))}},Ia=function(e,t){var n=e.baseTag,r=e.htmlAttributes,i=e.linkTags,o=e.metaTags,a=e.noscriptTags,s=e.onChangeClientState,l=e.scriptTags,u=e.styleTags,d=e.title,f=e.titleAttributes;Ur(L.BODY,e.bodyAttributes),Ur(L.HTML,r),function(p,m){p!==void 0&&document.title!==p&&(document.title=Jl(p)),Ur(L.TITLE,m)}(d,f);var h={baseTag:Tt(L.BASE,n),linkTags:Tt(L.LINK,i),metaTags:Tt(L.META,o),noscriptTags:Tt(L.NOSCRIPT,a),scriptTags:Tt(L.SCRIPT,l),styleTags:Tt(L.STYLE,u)},v={},y={};Object.keys(h).forEach(function(p){var m=h[p],b=m.newTags,E=m.oldTags;b.length&&(v[p]=b),E.length&&(y[p]=h[p].oldTags)}),t&&t(),s(e,v,y)},Gt=null,or=function(e){function t(){for(var r,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(r=e.call.apply(e,[this].concat(o))||this).rendered=!1,r}yo(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(r){return!nf(r,this.props)},n.componentDidUpdate=function(){this.emitChange()},n.componentWillUnmount=function(){this.props.context.helmetInstances.remove(this),this.emitChange()},n.emitChange=function(){var r,i,o=this.props.context,a=o.setHelmet,s=null,l=(r=o.helmetInstances.get().map(function(u){var d=Se({},u.props);return delete d.context,d}),{baseTag:cf(["href"],r),bodyAttributes:jr("bodyAttributes",r),defer:zt(r,"defer"),encode:zt(r,"encodeSpecialCharacters"),htmlAttributes:jr("htmlAttributes",r),linkTags:Vt(L.LINK,["rel","href"],r),metaTags:Vt(L.META,["name","charset","http-equiv","property","itemprop"],r),noscriptTags:Vt(L.NOSCRIPT,["innerHTML"],r),onChangeClientState:uf(r),scriptTags:Vt(L.SCRIPT,["src","innerHTML"],r),styleTags:Vt(L.STYLE,["cssText"],r),title:lf(r),titleAttributes:jr("titleAttributes",r),prioritizeSeoTags:df(r,"prioritizeSeoTags")});Lt.canUseDOM?(i=l,Gt&&cancelAnimationFrame(Gt),i.defer?Gt=requestAnimationFrame(function(){Ia(i,function(){Gt=null})}):(Ia(i),Gt=null)):Ii&&(s=Ii(l)),a(s)},n.init=function(){this.rendered||(this.rendered=!0,this.props.context.helmetInstances.add(this),this.emitChange())},n.render=function(){return this.init(),null},t}(c.Component);or.propTypes={context:hf.isRequired},or.displayName="HelmetDispatcher";var gf=["children"],mf=["children"],un=function(e){function t(){return e.apply(this,arguments)||this}yo(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(r){return!ef(wa(this.props,"helmetData"),wa(r,"helmetData"))},n.mapNestedChildrenToProps=function(r,i){if(!i)return null;switch(r.type){case L.SCRIPT:case L.NOSCRIPT:return{innerHTML:i};case L.STYLE:return{cssText:i};default:throw new Error("<"+r.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")}},n.flattenArrayTypeChildren=function(r){var i,o=r.child,a=r.arrayTypeChildren;return Se({},a,((i={})[o.type]=[].concat(a[o.type]||[],[Se({},r.newChildProps,this.mapNestedChildrenToProps(o,r.nestedChildren))]),i))},n.mapObjectTypeChildren=function(r){var i,o,a=r.child,s=r.newProps,l=r.newChildProps,u=r.nestedChildren;switch(a.type){case L.TITLE:return Se({},s,((i={})[a.type]=u,i.titleAttributes=Se({},l),i));case L.BODY:return Se({},s,{bodyAttributes:Se({},l)});case L.HTML:return Se({},s,{htmlAttributes:Se({},l)});default:return Se({},s,((o={})[a.type]=Se({},l),o))}},n.mapArrayTypeChildrenToProps=function(r,i){var o=Se({},i);return Object.keys(r).forEach(function(a){var s;o=Se({},o,((s={})[a]=r[a],s))}),o},n.warnOnInvalidChildren=function(r,i){return ya(Ea.some(function(o){return r.type===o}),typeof r.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":"Only elements types "+Ea.join(", ")+" are allowed. Helmet does not support rendering <"+r.type+"> elements. Refer to our API for more information."),ya(!i||typeof i=="string"||Array.isArray(i)&&!i.some(function(o){return typeof o!="string"}),"Helmet expects a string as a child of <"+r.type+">. Did you forget to wrap your children in braces? ( <"+r.type+">{``}</"+r.type+"> ) Refer to our API for more information."),!0},n.mapChildrenToProps=function(r,i){var o=this,a={};return g.Children.forEach(r,function(s){if(s&&s.props){var l=s.props,u=l.children,d=ba(l,gf),f=Object.keys(d).reduce(function(v,y){return v[sf[y]||y]=d[y],v},{}),h=s.type;switch(typeof h=="symbol"?h=h.toString():o.warnOnInvalidChildren(s,u),h){case L.FRAGMENT:i=o.mapChildrenToProps(u,i);break;case L.LINK:case L.META:case L.NOSCRIPT:case L.SCRIPT:case L.STYLE:a=o.flattenArrayTypeChildren({child:s,arrayTypeChildren:a,newChildProps:f,nestedChildren:u});break;default:i=o.mapObjectTypeChildren({child:s,newProps:i,newChildProps:f,nestedChildren:u})}}}),this.mapArrayTypeChildrenToProps(a,i)},n.render=function(){var r=this.props,i=r.children,o=ba(r,mf),a=Se({},o),s=o.helmetData;return i&&(a=this.mapChildrenToProps(i,a)),!s||s instanceof _i||(s=new _i(s.context,s.instances)),s?g.createElement(or,Se({},a,{context:s.value,helmetData:void 0})):g.createElement(eu.Consumer,null,function(l){return g.createElement(or,Se({},a,{context:l}))})},t}(c.Component);un.propTypes={base:k.object,bodyAttributes:k.object,children:k.oneOfType([k.arrayOf(k.node),k.node]),defaultTitle:k.string,defer:k.bool,encodeSpecialCharacters:k.bool,htmlAttributes:k.object,link:k.arrayOf(k.object),meta:k.arrayOf(k.object),noscript:k.arrayOf(k.object),onChangeClientState:k.func,script:k.arrayOf(k.object),style:k.arrayOf(k.object),title:k.string,titleAttributes:k.object,titleTemplate:k.string,prioritizeSeoTags:k.bool,helmetData:k.object},un.defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1},un.displayName="Helmet";const ar="h1, h2, h3, h4, h5, h6",Yt="content-scroll-area";function vf(e){return Boolean(e&&"title"in e&&e.title)}async function tu(e){if(e){if(vf(e)||e instanceof Promise)return e;if(typeof e=="function")return(await e()).default}}function yf(e){return e.charAt(0).toUpperCase()+e.substr(1)}function bf(e){return yf(e.toLowerCase())}function bo(e,t){return t===void 0&&(t={}),vd(e,$l({delimiter:" ",transform:bf},t))}function Ef(e,t){return t===void 0&&(t={}),bo(e,$l({delimiter:"-"},t))}function cn(){const e=document.querySelector(`#${Yt}`);e&&(e.scrollTop=0)}function Eo(e){let t;if(e.nodeName.match(/^H\d$/)?t=e.nodeName.replace("H",""):t=e.getAttribute("data-level")||"",!!t)return parseInt(t)}const wf=(e,t)=>{const n=[];for(;e.nextElementSibling;){e=e.nextElementSibling;const r=Eo(e);if(r===t)break;r===t+1&&n.push(e)}return n},Sf=e=>{let t="";for(;e.nextElementSibling&&(e=e.nextElementSibling,!(typeof Eo(e)<"u"));)e.nodeName==="PRE"||e.nodeName==="SCRIPT"||(t+=`
${e.textContent}`);return t.trim()},nu=(e,t)=>{var n;const r=Eo(t),i=r?wf(t,r):[],o=[...e,((n=t.querySelector(ar))===null||n===void 0?void 0:n.textContent)||t.textContent||""],a=t.getAttribute("data-level-id");return[{path:o,url:`${location.pathname}${a?`#${a}`:""}`,content:Sf(t)},...i.reduce((l,u)=>[...l,...nu(o,u)],[])]};function Ci(){return Ci=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ci.apply(this,arguments)}function Of(e,t){if(e==null)return{};var n=If(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function If(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var wo=c.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=e.size,o=i===void 0?24:i,a=Of(e,["color","size"]);return g.createElement("svg",Ci({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),g.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),g.createElement("polyline",{points:"12 5 19 12 12 19"}))});wo.propTypes={color:k.string,size:k.oneOfType([k.string,k.number])};wo.displayName="ArrowRight";const Bn=wo;function xi(){return xi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xi.apply(this,arguments)}function _f(e,t){if(e==null)return{};var n=Cf(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Cf(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var So=c.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=e.size,o=i===void 0?24:i,a=_f(e,["color","size"]);return g.createElement("svg",xi({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),g.createElement("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z"}))});So.propTypes={color:k.string,size:k.oneOfType([k.string,k.number])};So.displayName="Bookmark";const ru=So;function Ti(){return Ti=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ti.apply(this,arguments)}function xf(e,t){if(e==null)return{};var n=Tf(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Tf(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Oo=c.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=e.size,o=i===void 0?24:i,a=xf(e,["color","size"]);return g.createElement("svg",Ti({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),g.createElement("polyline",{points:"16 18 22 12 16 6"}),g.createElement("polyline",{points:"8 6 2 12 8 18"}))});Oo.propTypes={color:k.string,size:k.oneOfType([k.string,k.number])};Oo.displayName="Code";const Df=Oo;function Di(){return Di=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Di.apply(this,arguments)}function Pf(e,t){if(e==null)return{};var n=$f(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $f(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Io=c.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=e.size,o=i===void 0?24:i,a=Pf(e,["color","size"]);return g.createElement("svg",Di({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),g.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});Io.propTypes={color:k.string,size:k.oneOfType([k.string,k.number])};Io.displayName="Minus";const kf=Io;function Pi(){return Pi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pi.apply(this,arguments)}function Rf(e,t){if(e==null)return{};var n=Af(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Af(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var _o=c.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=e.size,o=i===void 0?24:i,a=Rf(e,["color","size"]);return g.createElement("svg",Pi({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),g.createElement("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}))});_o.propTypes={color:k.string,size:k.oneOfType([k.string,k.number])};_o.displayName="Moon";const Mf=_o;function $i(){return $i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$i.apply(this,arguments)}function Nf(e,t){if(e==null)return{};var n=Lf(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Lf(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var Co=c.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=e.size,o=i===void 0?24:i,a=Nf(e,["color","size"]);return g.createElement("svg",$i({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),g.createElement("polyline",{points:"23 4 23 10 17 10"}),g.createElement("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"}))});Co.propTypes={color:k.string,size:k.oneOfType([k.string,k.number])};Co.displayName="RotateCw";const zf=Co;function ki(){return ki=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ki.apply(this,arguments)}function Hf(e,t){if(e==null)return{};var n=Ff(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ff(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var xo=c.forwardRef(function(e,t){var n=e.color,r=n===void 0?"currentColor":n,i=e.size,o=i===void 0?24:i,a=Hf(e,["color","size"]);return g.createElement("svg",ki({ref:t,xmlns:"http://www.w3.org/2000/svg",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),g.createElement("circle",{cx:"12",cy:"12",r:"5"}),g.createElement("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),g.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),g.createElement("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),g.createElement("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),g.createElement("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),g.createElement("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),g.createElement("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),g.createElement("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}))});xo.propTypes={color:k.string,size:k.oneOfType([k.string,k.number])};xo.displayName="Sun";const jf=xo;function Wr(e){return e.slice().reverse()}function Bf(e){const[t,n]=c.useState();return c.useLayoutEffect(()=>{async function r(){const[i,o]=await Promise.all([e.meta,e.component._payload._result]),a=o.default||o;n([...Wr(a.decorators||[]),...Wr(i.decorators||[]),...Wr(window.__FWOOSH_DECORATORS__||[])])}r()},[e]),t}function Kf({slug:e,params:t}){const n=St[e],r=Bf(n);let i=n.component;if(r!=null&&r.length)for(const a of r)i=a(i,e,t);const o=i;return c.createElement(o,null)}const qr={};function Uf(e,t,n,r,i){if(!e)return;function o(){return c.useEffect(()=>(r(),()=>{i()})),c.createElement(Ee,{delay:300})}function a(){return c.useEffect(()=>{i()}),c.createElement(c.Fragment,null)}const s=c.createElement(kl,null,c.createElement(c.Suspense,{fallback:c.createElement(o,null)},c.createElement(Et,null,c.createElement(Kf,{slug:t,params:n}),c.createElement(a,null))));try{Fe(()=>Promise.resolve().then(()=>Td),void 0).then(({createRoot:l})=>{const u=l(e);qr[t]&&(qr[t].unmount(),qr[t]=u),u.render(s)}).catch(()=>{id.render(s,e)})}catch(l){console.error("error",l)}}const Wf=({code:e})=>e;function qf(e){const t=c.useRef(e);return e!==t.current?(t.current=e,!0):!1}const To=({id:e,slug:t})=>{const[n,r]=g.useState(!1),i=g.useRef(null),o=ho();return g.useEffect(()=>{if(!(!e||!i.current)){if(!St[t])throw new Error(`Story not found: ${t}`);i.current.id=e,r(!0),Uf(i.current,t,o,()=>r(!1),()=>r(!0))}},[e,o,t]),{ref:i,hasRendered:n}},Or=g.createContext(void 0),Yf=Q("div",{position:"relative",flex:1,overflow:"auto",height:"100%",width:"100%"}),Xf=g.memo(({slug:e,id:t})=>{const{ref:n}=To({id:t,slug:e}),r=St[e],i=r.grouping.split("/");return g.createElement(g.Fragment,null,g.createElement(un,null,g.createElement("title",null,r.title," - ",i.slice(-2).join("/"))),g.createElement(Yf,{ref:n}))}),iu=()=>{const e=ot(),t=g.useContext(Or),n=yn();return g.createElement(g.Fragment,null,e?g.createElement(Xf,{slug:e,id:t||n}):g.createElement("div",null,"Story not found"))};function Ri(e,t,n){var r,i,o,a,s;t==null&&(t=100);function l(){var d=Date.now()-a;d<t&&d>=0?r=setTimeout(l,t-d):(r=null,n||(s=e.apply(o,i),o=i=null))}var u=function(){o=this,i=arguments,a=Date.now();var d=n&&!r;return r||(r=setTimeout(l,t)),d&&(s=e.apply(o,i),o=i=null),s};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(s=e.apply(o,i),o=i=null,clearTimeout(r),r=null)},u}Ri.debounce=Ri;var _a=Ri;function Qf(e){let{debounce:t,scroll:n,polyfill:r,offsetSize:i}=e===void 0?{debounce:0,scroll:!1,offsetSize:!1}:e;const o=r||(typeof window>"u"?class{}:window.ResizeObserver);if(!o)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,s]=c.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),l=c.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a}),u=t?typeof t=="number"?t:t.scroll:null,d=t?typeof t=="number"?t:t.resize:null,f=c.useRef(!1);c.useEffect(()=>(f.current=!0,()=>void(f.current=!1)));const[h,v,y]=c.useMemo(()=>{const E=()=>{if(!l.current.element)return;const{left:O,top:x,width:C,height:S,bottom:w,right:I,x:T,y:P}=l.current.element.getBoundingClientRect(),$={left:O,top:x,width:C,height:S,bottom:w,right:I,x:T,y:P};l.current.element instanceof HTMLElement&&i&&($.height=l.current.element.offsetHeight,$.width=l.current.element.offsetWidth),Object.freeze($),f.current&&!Jf(l.current.lastBounds,$)&&s(l.current.lastBounds=$)};return[E,d?_a(E,d):E,u?_a(E,u):E]},[s,i,u,d]);function p(){l.current.scrollContainers&&(l.current.scrollContainers.forEach(E=>E.removeEventListener("scroll",y,!0)),l.current.scrollContainers=null),l.current.resizeObserver&&(l.current.resizeObserver.disconnect(),l.current.resizeObserver=null)}function m(){l.current.element&&(l.current.resizeObserver=new o(y),l.current.resizeObserver.observe(l.current.element),n&&l.current.scrollContainers&&l.current.scrollContainers.forEach(E=>E.addEventListener("scroll",y,{capture:!0,passive:!0})))}const b=E=>{!E||E===l.current.element||(p(),l.current.element=E,l.current.scrollContainers=ou(E),m())};return Gf(y,Boolean(n)),Vf(v),c.useEffect(()=>{p(),m()},[n,y,v]),c.useEffect(()=>p,[]),[b,a,h]}function Vf(e){c.useEffect(()=>{const t=e;return window.addEventListener("resize",t),()=>void window.removeEventListener("resize",t)},[e])}function Gf(e,t){c.useEffect(()=>{if(t){const n=e;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[e,t])}function ou(e){const t=[];if(!e||e===document.body)return t;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(e);return[n,r,i].some(o=>o==="auto"||o==="scroll")&&t.push(e),[...t,...ou(e.parentElement)]}const Zf=["x","y","top","bottom","left","right","width","height"],Jf=(e,t)=>Zf.every(n=>e[n]===t[n]);var Ai={},eh={get exports(){return Ai},set exports(e){Ai=e}},au={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jt=c;function th(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nh=typeof Object.is=="function"?Object.is:th,rh=jt.useState,ih=jt.useEffect,oh=jt.useLayoutEffect,ah=jt.useDebugValue;function sh(e,t){var n=t(),r=rh({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return oh(function(){i.value=n,i.getSnapshot=t,Yr(i)&&o({inst:i})},[e,n,t]),ih(function(){return Yr(i)&&o({inst:i}),e(function(){Yr(i)&&o({inst:i})})},[e]),ah(n),n}function Yr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nh(e,n)}catch{return!0}}function lh(e,t){return t()}var uh=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?lh:sh;au.useSyncExternalStore=jt.useSyncExternalStore!==void 0?jt.useSyncExternalStore:uh;(function(e){e.exports=au})(eh);function su(e){var t=null,n=function(){return t==null&&(t=e()),t};return n}function ch(e,t){return e.filter(function(n){return n!==t})}function dh(e,t){var n=new Set,r=function(a){return n.add(a)};e.forEach(r),t.forEach(r);var i=[];return n.forEach(function(o){return i.push(o)}),i}function fh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ca(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function hh(e,t,n){return t&&Ca(e.prototype,t),n&&Ca(e,n),e}function xa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ph=function(){function e(t){fh(this,e),xa(this,"entered",[]),xa(this,"isNodeInDocument",void 0),this.isNodeInDocument=t}return hh(e,[{key:"enter",value:function(n){var r=this,i=this.entered.length,o=function(s){return r.isNodeInDocument(s)&&(!s.contains||s.contains(n))};return this.entered=dh(this.entered.filter(o),[n]),i===0&&this.entered.length>0}},{key:"leave",value:function(n){var r=this.entered.length;return this.entered=ch(this.entered.filter(this.isNodeInDocument),n),r>0&&this.entered.length===0}},{key:"reset",value:function(){this.entered=[]}}]),e}(),gh=su(function(){return/firefox/i.test(navigator.userAgent)}),lu=su(function(){return Boolean(window.safari)});function mh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ta(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vh(e,t,n){return t&&Ta(e.prototype,t),n&&Ta(e,n),e}function Zt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Da=function(){function e(t,n){mh(this,e),Zt(this,"xs",void 0),Zt(this,"ys",void 0),Zt(this,"c1s",void 0),Zt(this,"c2s",void 0),Zt(this,"c3s",void 0);for(var r=t.length,i=[],o=0;o<r;o++)i.push(o);i.sort(function(I,T){return t[I]<t[T]?-1:1});for(var a=[],s=[],l,u,d=0;d<r-1;d++)l=t[d+1]-t[d],u=n[d+1]-n[d],a.push(l),s.push(u/l);for(var f=[s[0]],h=0;h<a.length-1;h++){var v=s[h],y=s[h+1];if(v*y<=0)f.push(0);else{l=a[h];var p=a[h+1],m=l+p;f.push(3*m/((m+p)/v+(m+l)/y))}}f.push(s[s.length-1]);for(var b=[],E=[],O,x=0;x<f.length-1;x++){O=s[x];var C=f[x],S=1/a[x],w=C+f[x+1]-O-O;b.push((O-C-w)*S),E.push(w*S*S)}this.xs=t,this.ys=n,this.c1s=f,this.c2s=b,this.c3s=E}return vh(e,[{key:"interpolate",value:function(n){var r=this.xs,i=this.ys,o=this.c1s,a=this.c2s,s=this.c3s,l=r.length-1;if(n===r[l])return i[l];for(var u=0,d=s.length-1,f;u<=d;){f=Math.floor(.5*(u+d));var h=r[f];if(h<n)u=f+1;else if(h>n)d=f-1;else return i[f]}l=Math.max(0,d);var v=n-r[l],y=v*v;return i[l]+o[l]*v+a[l]*y+s[l]*v*y}}]),e}(),yh=1;function uu(e){var t=e.nodeType===yh?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top,i=n.left;return{x:i,y:r}}function Tn(e){return{x:e.clientX,y:e.clientY}}function bh(e){var t;return e.nodeName==="IMG"&&(gh()||!((t=document.documentElement)!==null&&t!==void 0&&t.contains(e)))}function Eh(e,t,n,r){var i=e?t.width:n,o=e?t.height:r;return lu()&&e&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}function wh(e,t,n,r,i){var o=bh(t),a=o?e:t,s=uu(a),l={x:n.x-s.x,y:n.y-s.y},u=e.offsetWidth,d=e.offsetHeight,f=r.anchorX,h=r.anchorY,v=Eh(o,t,u,d),y=v.dragPreviewWidth,p=v.dragPreviewHeight,m=function(){var w=new Da([0,.5,1],[l.y,l.y/d*p,l.y+p-d]),I=w.interpolate(h);return lu()&&o&&(I+=(window.devicePixelRatio-1)*p),I},b=function(){var w=new Da([0,.5,1],[l.x,l.x/u*y,l.x+y-u]);return w.interpolate(f)},E=i.offsetX,O=i.offsetY,x=E===0||E,C=O===0||O;return{x:x?E:b(),y:C?O:m()}}var cu="__NATIVE_FILE__",du="__NATIVE_URL__",fu="__NATIVE_TEXT__",hu="__NATIVE_HTML__";const Pa=Object.freeze(Object.defineProperty({__proto__:null,FILE:cu,HTML:hu,TEXT:fu,URL:du},Symbol.toStringTag,{value:"Module"}));function Xr(e,t,n){var r=t.reduce(function(i,o){return i||e.getData(o)},"");return r??n}var Dt;function Dn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mi=(Dt={},Dn(Dt,cu,{exposeProperties:{files:function(t){return Array.prototype.slice.call(t.files)},items:function(t){return t.items},dataTransfer:function(t){return t}},matchesTypes:["Files"]}),Dn(Dt,hu,{exposeProperties:{html:function(t,n){return Xr(t,n,"")},dataTransfer:function(t){return t}},matchesTypes:["Html","text/html"]}),Dn(Dt,du,{exposeProperties:{urls:function(t,n){return Xr(t,n,"").split(`
`)},dataTransfer:function(t){return t}},matchesTypes:["Url","text/uri-list"]}),Dn(Dt,fu,{exposeProperties:{text:function(t,n){return Xr(t,n,"")},dataTransfer:function(t){return t}},matchesTypes:["Text","text/plain"]}),Dt);function Sh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oh(e,t,n){return t&&$a(e.prototype,t),n&&$a(e,n),e}function ka(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ih=function(){function e(t){Sh(this,e),ka(this,"item",void 0),ka(this,"config",void 0),this.config=t,this.item={},this.initializeExposedProperties()}return Oh(e,[{key:"initializeExposedProperties",value:function(){var n=this;Object.keys(this.config.exposeProperties).forEach(function(r){Object.defineProperty(n.item,r,{configurable:!0,enumerable:!0,get:function(){return console.warn(`Browser doesn't allow reading "`.concat(r,'" until the drop event.')),null}})})}},{key:"loadDataTransfer",value:function(n){var r=this;if(n){var i={};Object.keys(this.config.exposeProperties).forEach(function(o){i[o]={value:r.config.exposeProperties[o](n,r.config.matchesTypes),configurable:!0,enumerable:!0}}),Object.defineProperties(this.item,i)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(n,r){return r===n.getSourceId()}},{key:"endDrag",value:function(){}}]),e}();function _h(e,t){var n=new Ih(Mi[e]);return n.loadDataTransfer(t),n}function Qr(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(Mi).filter(function(n){var r=Mi[n].matchesTypes;return r.some(function(i){return t.indexOf(i)>-1})})[0]||null}function Ch(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ra(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xh(e,t,n){return t&&Ra(e.prototype,t),n&&Ra(e,n),e}function Vr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Th=function(){function e(t,n){Ch(this,e),Vr(this,"ownerDocument",null),Vr(this,"globalContext",void 0),Vr(this,"optionsArgs",void 0),this.globalContext=t,this.optionsArgs=n}return xh(e,[{key:"window",get:function(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}},{key:"document",get:function(){var n;return(n=this.globalContext)!==null&&n!==void 0&&n.document?this.globalContext.document:this.window?this.window.document:void 0}},{key:"rootElement",get:function(){var n;return((n=this.optionsArgs)===null||n===void 0?void 0:n.rootElement)||this.window}}]),e}();function Aa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ma(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Aa(Object(n),!0).forEach(function(r){Y(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Aa(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Na(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ph(e,t,n){return t&&Na(e.prototype,t),n&&Na(e,n),e}function Y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $h=function(){function e(t,n,r){var i=this;Dh(this,e),Y(this,"options",void 0),Y(this,"actions",void 0),Y(this,"monitor",void 0),Y(this,"registry",void 0),Y(this,"enterLeaveCounter",void 0),Y(this,"sourcePreviewNodes",new Map),Y(this,"sourcePreviewNodeOptions",new Map),Y(this,"sourceNodes",new Map),Y(this,"sourceNodeOptions",new Map),Y(this,"dragStartSourceIds",null),Y(this,"dropTargetIds",[]),Y(this,"dragEnterTargetIds",[]),Y(this,"currentNativeSource",null),Y(this,"currentNativeHandle",null),Y(this,"currentDragSourceNode",null),Y(this,"altKeyPressed",!1),Y(this,"mouseMoveTimeoutTimer",null),Y(this,"asyncEndDragFrameId",null),Y(this,"dragOverTargetIds",null),Y(this,"lastClientOffset",null),Y(this,"hoverRafId",null),Y(this,"getSourceClientOffset",function(o){var a=i.sourceNodes.get(o);return a&&uu(a)||null}),Y(this,"endDragNativeItem",function(){i.isDraggingNativeItem()&&(i.actions.endDrag(),i.currentNativeHandle&&i.registry.removeSource(i.currentNativeHandle),i.currentNativeHandle=null,i.currentNativeSource=null)}),Y(this,"isNodeInDocument",function(o){return Boolean(o&&i.document&&i.document.body&&i.document.body.contains(o))}),Y(this,"endDragIfSourceWasRemovedFromDOM",function(){var o=i.currentDragSourceNode;o==null||i.isNodeInDocument(o)||i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()}),Y(this,"handleTopDragStartCapture",function(){i.clearCurrentDragSourceNode(),i.dragStartSourceIds=[]}),Y(this,"handleTopDragStart",function(o){if(!o.defaultPrevented){var a=i.dragStartSourceIds;i.dragStartSourceIds=null;var s=Tn(o);i.monitor.isDragging()&&i.actions.endDrag(),i.actions.beginDrag(a||[],{publishSource:!1,getSourceClientOffset:i.getSourceClientOffset,clientOffset:s});var l=o.dataTransfer,u=Qr(l);if(i.monitor.isDragging()){if(l&&typeof l.setDragImage=="function"){var d=i.monitor.getSourceId(),f=i.sourceNodes.get(d),h=i.sourcePreviewNodes.get(d)||f;if(h){var v=i.getCurrentSourcePreviewNodeOptions(),y=v.anchorX,p=v.anchorY,m=v.offsetX,b=v.offsetY,E={anchorX:y,anchorY:p},O={offsetX:m,offsetY:b},x=wh(f,h,s,E,O);l.setDragImage(h,x.x,x.y)}}try{l==null||l.setData("application/json",{})}catch{}i.setCurrentDragSourceNode(o.target);var C=i.getCurrentSourcePreviewNodeOptions(),S=C.captureDraggingState;S?i.actions.publishDragSource():setTimeout(function(){return i.actions.publishDragSource()},0)}else if(u)i.beginDragNativeItem(u);else{if(l&&!l.types&&(o.target&&!o.target.hasAttribute||!o.target.hasAttribute("draggable")))return;o.preventDefault()}}}),Y(this,"handleTopDragEndCapture",function(){i.clearCurrentDragSourceNode()&&i.monitor.isDragging()&&i.actions.endDrag()}),Y(this,"handleTopDragEnterCapture",function(o){i.dragEnterTargetIds=[];var a=i.enterLeaveCounter.enter(o.target);if(!(!a||i.monitor.isDragging())){var s=o.dataTransfer,l=Qr(s);l&&i.beginDragNativeItem(l,s)}}),Y(this,"handleTopDragEnter",function(o){var a=i.dragEnterTargetIds;if(i.dragEnterTargetIds=[],!!i.monitor.isDragging()){i.altKeyPressed=o.altKey,a.length>0&&i.actions.hover(a,{clientOffset:Tn(o)});var s=a.some(function(l){return i.monitor.canDropOnTarget(l)});s&&(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=i.getCurrentDropEffect()))}}),Y(this,"handleTopDragOverCapture",function(){i.dragOverTargetIds=[]}),Y(this,"handleTopDragOver",function(o){var a=i.dragOverTargetIds;if(i.dragOverTargetIds=[],!i.monitor.isDragging()){o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none");return}i.altKeyPressed=o.altKey,i.lastClientOffset=Tn(o),i.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(i.hoverRafId=requestAnimationFrame(function(){i.monitor.isDragging()&&i.actions.hover(a||[],{clientOffset:i.lastClientOffset}),i.hoverRafId=null}));var s=(a||[]).some(function(l){return i.monitor.canDropOnTarget(l)});s?(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=i.getCurrentDropEffect())):i.isDraggingNativeItem()?o.preventDefault():(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none"))}),Y(this,"handleTopDragLeaveCapture",function(o){i.isDraggingNativeItem()&&o.preventDefault();var a=i.enterLeaveCounter.leave(o.target);a&&i.isDraggingNativeItem()&&setTimeout(function(){return i.endDragNativeItem()},0)}),Y(this,"handleTopDropCapture",function(o){if(i.dropTargetIds=[],i.isDraggingNativeItem()){var a;o.preventDefault(),(a=i.currentNativeSource)===null||a===void 0||a.loadDataTransfer(o.dataTransfer)}else Qr(o.dataTransfer)&&o.preventDefault();i.enterLeaveCounter.reset()}),Y(this,"handleTopDrop",function(o){var a=i.dropTargetIds;i.dropTargetIds=[],i.actions.hover(a,{clientOffset:Tn(o)}),i.actions.drop({dropEffect:i.getCurrentDropEffect()}),i.isDraggingNativeItem()?i.endDragNativeItem():i.monitor.isDragging()&&i.actions.endDrag()}),Y(this,"handleSelectStart",function(o){var a=o.target;typeof a.dragDrop=="function"&&(a.tagName==="INPUT"||a.tagName==="SELECT"||a.tagName==="TEXTAREA"||a.isContentEditable||(o.preventDefault(),a.dragDrop()))}),this.options=new Th(n,r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new ph(this.isNodeInDocument)}return Ph(e,[{key:"profile",value:function(){var n,r;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((n=this.dragStartSourceIds)===null||n===void 0?void 0:n.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((r=this.dragOverTargetIds)===null||r===void 0?void 0:r.length)||0}}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}},{key:"rootElement",get:function(){return this.options.rootElement}},{key:"setup",value:function(){var n=this.rootElement;if(n!==void 0){if(n.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");n.__isReactDndBackendSetUp=!0,this.addEventListeners(n)}}},{key:"teardown",value:function(){var n=this.rootElement;if(n!==void 0&&(n.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var r;(r=this.window)===null||r===void 0||r.cancelAnimationFrame(this.asyncEndDragFrameId)}}},{key:"connectDragPreview",value:function(n,r,i){var o=this;return this.sourcePreviewNodeOptions.set(n,i),this.sourcePreviewNodes.set(n,r),function(){o.sourcePreviewNodes.delete(n),o.sourcePreviewNodeOptions.delete(n)}}},{key:"connectDragSource",value:function(n,r,i){var o=this;this.sourceNodes.set(n,r),this.sourceNodeOptions.set(n,i);var a=function(u){return o.handleDragStart(u,n)},s=function(u){return o.handleSelectStart(u)};return r.setAttribute("draggable","true"),r.addEventListener("dragstart",a),r.addEventListener("selectstart",s),function(){o.sourceNodes.delete(n),o.sourceNodeOptions.delete(n),r.removeEventListener("dragstart",a),r.removeEventListener("selectstart",s),r.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(n,r){var i=this,o=function(u){return i.handleDragEnter(u,n)},a=function(u){return i.handleDragOver(u,n)},s=function(u){return i.handleDrop(u,n)};return r.addEventListener("dragenter",o),r.addEventListener("dragover",a),r.addEventListener("drop",s),function(){r.removeEventListener("dragenter",o),r.removeEventListener("dragover",a),r.removeEventListener("drop",s)}}},{key:"addEventListeners",value:function(n){n.addEventListener&&(n.addEventListener("dragstart",this.handleTopDragStart),n.addEventListener("dragstart",this.handleTopDragStartCapture,!0),n.addEventListener("dragend",this.handleTopDragEndCapture,!0),n.addEventListener("dragenter",this.handleTopDragEnter),n.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),n.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),n.addEventListener("dragover",this.handleTopDragOver),n.addEventListener("dragover",this.handleTopDragOverCapture,!0),n.addEventListener("drop",this.handleTopDrop),n.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(n){n.removeEventListener&&(n.removeEventListener("dragstart",this.handleTopDragStart),n.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),n.removeEventListener("dragend",this.handleTopDragEndCapture,!0),n.removeEventListener("dragenter",this.handleTopDragEnter),n.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),n.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),n.removeEventListener("dragover",this.handleTopDragOver),n.removeEventListener("dragover",this.handleTopDragOverCapture,!0),n.removeEventListener("drop",this.handleTopDrop),n.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var n=this.monitor.getSourceId(),r=this.sourceNodeOptions.get(n);return Ma({dropEffect:this.altKeyPressed?"copy":"move"},r||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var n=this.monitor.getSourceId(),r=this.sourcePreviewNodeOptions.get(n);return Ma({anchorX:.5,anchorY:.5,captureDraggingState:!1},r||{})}},{key:"isDraggingNativeItem",value:function(){var n=this.monitor.getItemType();return Object.keys(Pa).some(function(r){return Pa[r]===n})}},{key:"beginDragNativeItem",value:function(n,r){this.clearCurrentDragSourceNode(),this.currentNativeSource=_h(n,r),this.currentNativeHandle=this.registry.addSource(n,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(n){var r=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=n;var i=1e3;this.mouseMoveTimeoutTimer=setTimeout(function(){var o;return(o=r.rootElement)===null||o===void 0?void 0:o.addEventListener("mousemove",r.endDragIfSourceWasRemovedFromDOM,!0)},i)}},{key:"clearCurrentDragSourceNode",value:function(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var n;(n=this.window)===null||n===void 0||n.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}},{key:"handleDragStart",value:function(n,r){n.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(r))}},{key:"handleDragEnter",value:function(n,r){this.dragEnterTargetIds.unshift(r)}},{key:"handleDragOver",value:function(n,r){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(r)}},{key:"handleDrop",value:function(n,r){this.dropTargetIds.unshift(r)}}]),e}(),Pn;function kh(){return Pn||(Pn=new Image,Pn.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),Pn}var Rh=function(t,n,r){return new $h(t,n,r)},pu=c.createContext({dragDropManager:void 0}),Qe;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(Qe||(Qe={}));function B(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(!e){var o;if(t===void 0)o=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;o=new Error(t.replace(/%s/g,function(){return r[a++]})),o.name="Invariant Violation"}throw o.framesToPop=1,o}}var Do="dnd-core/INIT_COORDS",Ir="dnd-core/BEGIN_DRAG",Po="dnd-core/PUBLISH_DRAG_SOURCE",_r="dnd-core/HOVER",Cr="dnd-core/DROP",xr="dnd-core/END_DRAG";function La(e,t){return{type:Do,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}function Kn(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Kn=function(n){return typeof n}:Kn=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Kn(e)}function Ah(e,t,n){return t.split(".").reduce(function(r,i){return r&&r[i]?r[i]:n||null},e)}function Mh(e,t){return e.filter(function(n){return n!==t})}function gu(e){return Kn(e)==="object"}function Nh(e,t){var n=new Map,r=function(a){n.set(a,n.has(a)?n.get(a)+1:1)};e.forEach(r),t.forEach(r);var i=[];return n.forEach(function(o,a){o===1&&i.push(a)}),i}function Lh(e,t){return e.filter(function(n){return t.indexOf(n)>-1})}var zh={type:Do,payload:{clientOffset:null,sourceClientOffset:null}};function Hh(e){return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{publishSource:!0},i=r.publishSource,o=i===void 0?!0:i,a=r.clientOffset,s=r.getSourceClientOffset,l=e.getMonitor(),u=e.getRegistry();e.dispatch(La(a)),Fh(n,l,u);var d=Kh(n,l);if(d===null){e.dispatch(zh);return}var f=null;if(a){if(!s)throw new Error("getSourceClientOffset must be defined");jh(s),f=s(d)}e.dispatch(La(a,f));var h=u.getSource(d),v=h.beginDrag(l,d);if(v!=null){Bh(v),u.pinSource(d);var y=u.getSourceType(d);return{type:Ir,payload:{itemType:y,item:v,sourceId:d,clientOffset:a||null,sourceClientOffset:f||null,isSourcePublic:!!o}}}}}function Fh(e,t,n){B(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(r){B(n.getSource(r),"Expected sourceIds to be registered.")})}function jh(e){B(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Bh(e){B(gu(e),"Item must be an object.")}function Kh(e,t){for(var n=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function Uh(e){return function(){var n=e.getMonitor();if(n.isDragging())return{type:Po}}}function Ni(e,t){return t===null?e===null:Array.isArray(e)?e.some(function(n){return n===t}):e===t}function Wh(e){return function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.clientOffset;qh(n);var o=n.slice(0),a=e.getMonitor(),s=e.getRegistry();Yh(o,a,s);var l=a.getItemType();return Xh(o,s,l),Qh(o,a,s),{type:_r,payload:{targetIds:o,clientOffset:i||null}}}}function qh(e){B(Array.isArray(e),"Expected targetIds to be an array.")}function Yh(e,t,n){B(t.isDragging(),"Cannot call hover while not dragging."),B(!t.didDrop(),"Cannot call hover after drop.");for(var r=0;r<e.length;r++){var i=e[r];B(e.lastIndexOf(i)===r,"Expected targetIds to be unique in the passed array.");var o=n.getTarget(i);B(o,"Expected targetIds to be registered.")}}function Xh(e,t,n){for(var r=e.length-1;r>=0;r--){var i=e[r],o=t.getTargetType(i);Ni(o,n)||e.splice(r,1)}}function Qh(e,t,n){e.forEach(function(r){var i=n.getTarget(r);i.hover(t,r)})}function za(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ha(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?za(Object(n),!0).forEach(function(r){Vh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):za(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vh(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gh(e){return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.getMonitor(),i=e.getRegistry();Zh(r);var o=tp(r);o.forEach(function(a,s){var l=Jh(a,s,i,r),u={type:Cr,payload:{dropResult:Ha(Ha({},n),l)}};e.dispatch(u)})}}function Zh(e){B(e.isDragging(),"Cannot call drop while not dragging."),B(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function Jh(e,t,n,r){var i=n.getTarget(e),o=i?i.drop(r,e):void 0;return ep(o),typeof o>"u"&&(o=t===0?{}:r.getDropResult()),o}function ep(e){B(typeof e>"u"||gu(e),"Drop result must either be an object or undefined.")}function tp(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function np(e){return function(){var n=e.getMonitor(),r=e.getRegistry();rp(n);var i=n.getSourceId();if(i!=null){var o=r.getSource(i,!0);o.endDrag(n,i),r.unpinSource()}return{type:xr}}}function rp(e){B(e.isDragging(),"Cannot call endDrag while not dragging.")}function ip(e){return{beginDrag:Hh(e),publishDragSource:Uh(e),hover:Wh(e),drop:Gh(e),endDrag:np(e)}}function op(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ap(e,t,n){return t&&Fa(e.prototype,t),n&&Fa(e,n),e}function Jt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sp=function(){function e(t,n){var r=this;op(this,e),Jt(this,"store",void 0),Jt(this,"monitor",void 0),Jt(this,"backend",void 0),Jt(this,"isSetUp",!1),Jt(this,"handleRefCountChange",function(){var i=r.store.getState().refCount>0;r.backend&&(i&&!r.isSetUp?(r.backend.setup(),r.isSetUp=!0):!i&&r.isSetUp&&(r.backend.teardown(),r.isSetUp=!1))}),this.store=t,this.monitor=n,t.subscribe(this.handleRefCountChange)}return ap(e,[{key:"receiveBackend",value:function(n){this.backend=n}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var n=this,r=this.store.dispatch;function i(a){return function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var d=a.apply(n,l);typeof d<"u"&&r(d)}}var o=ip(this);return Object.keys(o).reduce(function(a,s){var l=o[s];return a[s]=i(l),a},{})}},{key:"dispatch",value:function(n){this.store.dispatch(n)}}]),e}();function He(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var ja=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),Gr=function(){return Math.random().toString(36).substring(7).split("").join(".")},sr={INIT:"@@redux/INIT"+Gr(),REPLACE:"@@redux/REPLACE"+Gr(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+Gr()}};function lp(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function $o(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(He(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(He(1));return n($o)(e,t)}if(typeof e!="function")throw new Error(He(2));var i=e,o=t,a=[],s=a,l=!1;function u(){s===a&&(s=a.slice())}function d(){if(l)throw new Error(He(3));return o}function f(p){if(typeof p!="function")throw new Error(He(4));if(l)throw new Error(He(5));var m=!0;return u(),s.push(p),function(){if(m){if(l)throw new Error(He(6));m=!1,u();var E=s.indexOf(p);s.splice(E,1),a=null}}}function h(p){if(!lp(p))throw new Error(He(7));if(typeof p.type>"u")throw new Error(He(8));if(l)throw new Error(He(9));try{l=!0,o=i(o,p)}finally{l=!1}for(var m=a=s,b=0;b<m.length;b++){var E=m[b];E()}return p}function v(p){if(typeof p!="function")throw new Error(He(10));i=p,h({type:sr.REPLACE})}function y(){var p,m=f;return p={subscribe:function(E){if(typeof E!="object"||E===null)throw new Error(He(11));function O(){E.next&&E.next(d())}O();var x=m(O);return{unsubscribe:x}}},p[ja]=function(){return this},p}return h({type:sr.INIT}),r={dispatch:h,subscribe:f,getState:d,replaceReducer:v},r[ja]=y,r}function up(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:sr.INIT});if(typeof r>"u")throw new Error(He(12));if(typeof n(void 0,{type:sr.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(He(13))})}function Ba(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];typeof e[i]=="function"&&(n[i]=e[i])}var o=Object.keys(n),a;try{up(n)}catch(s){a=s}return function(l,u){if(l===void 0&&(l={}),a)throw a;for(var d=!1,f={},h=0;h<o.length;h++){var v=o[h],y=n[v],p=l[v],m=y(p,u);if(typeof m>"u")throw u&&u.type,new Error(He(14));f[v]=m,d=d||m!==p}return d=d||o.length!==Object.keys(l).length,d?f:l}}var cp=function(t,n){return t===n};function dp(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function fp(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:cp;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function Ka(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ua(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ka(Object(n),!0).forEach(function(r){hp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ka(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wa={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function pp(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Wa,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case Do:case Ir:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case _r:return dp(e.clientOffset,n.clientOffset)?e:Ua(Ua({},e),{},{clientOffset:n.clientOffset});case xr:case Cr:return Wa;default:return e}}var ko="dnd-core/ADD_SOURCE",Ro="dnd-core/ADD_TARGET",Ao="dnd-core/REMOVE_SOURCE",Tr="dnd-core/REMOVE_TARGET";function gp(e){return{type:ko,payload:{sourceId:e}}}function mp(e){return{type:Ro,payload:{targetId:e}}}function vp(e){return{type:Ao,payload:{sourceId:e}}}function yp(e){return{type:Tr,payload:{targetId:e}}}function qa(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qa(Object(n),!0).forEach(function(r){bp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qa(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function bp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ep={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function wp(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ep,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case Ir:return Ye(Ye({},e),{},{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case Po:return Ye(Ye({},e),{},{isSourcePublic:!0});case _r:return Ye(Ye({},e),{},{targetIds:n.targetIds});case Tr:return e.targetIds.indexOf(n.targetId)===-1?e:Ye(Ye({},e),{},{targetIds:Mh(e.targetIds,n.targetId)});case Cr:return Ye(Ye({},e),{},{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case xr:return Ye(Ye({},e),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function Sp(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ko:case Ro:return e+1;case Ao:case Tr:return e-1;default:return e}}var lr=[],Mo=[];lr.__IS_NONE__=!0;Mo.__IS_ALL__=!0;function Op(e,t){if(e===lr)return!1;if(e===Mo||typeof t>"u")return!0;var n=Lh(t,e);return n.length>0}function Ip(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case _r:break;case ko:case Ro:case Tr:case Ao:return lr;case Ir:case Po:case xr:case Cr:default:return Mo}var t=e.payload,n=t.targetIds,r=n===void 0?[]:n,i=t.prevTargetIds,o=i===void 0?[]:i,a=Nh(r,o),s=a.length>0||!fp(r,o);if(!s)return lr;var l=o[o.length-1],u=r[r.length-1];return l!==u&&(l&&a.push(l),u&&a.push(u)),a}function _p(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e+1}function Ya(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Ya(Object(n),!0).forEach(function(r){Cp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ya(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xp(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:Ip(e.dirtyHandlerIds,{type:t.type,payload:Xa(Xa({},t.payload),{},{prevTargetIds:Ah(e,"dragOperation.targetIds",[])})}),dragOffset:pp(e.dragOffset,t),refCount:Sp(e.refCount,t),dragOperation:wp(e.dragOperation,t),stateId:_p(e.stateId)}}function Tp(e,t){return{x:e.x+t.x,y:e.y+t.y}}function mu(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Dp(e){var t=e.clientOffset,n=e.initialClientOffset,r=e.initialSourceClientOffset;return!t||!n||!r?null:mu(Tp(t,r),n)}function Pp(e){var t=e.clientOffset,n=e.initialClientOffset;return!t||!n?null:mu(t,n)}function $p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kp(e,t,n){return t&&Qa(e.prototype,t),n&&Qa(e,n),e}function Va(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rp=function(){function e(t,n){$p(this,e),Va(this,"store",void 0),Va(this,"registry",void 0),this.store=t,this.registry=n}return kp(e,[{key:"subscribeToStateChange",value:function(n){var r=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{handlerIds:void 0},o=i.handlerIds;B(typeof n=="function","listener must be a function."),B(typeof o>"u"||Array.isArray(o),"handlerIds, when specified, must be an array of strings.");var a=this.store.getState().stateId,s=function(){var u=r.store.getState(),d=u.stateId;try{var f=d===a||d===a+1&&!Op(u.dirtyHandlerIds,o);f||n()}finally{a=d}};return this.store.subscribe(s)}},{key:"subscribeToOffsetChange",value:function(n){var r=this;B(typeof n=="function","listener must be a function.");var i=this.store.getState().dragOffset,o=function(){var s=r.store.getState().dragOffset;s!==i&&(i=s,n())};return this.store.subscribe(o)}},{key:"canDragSource",value:function(n){if(!n)return!1;var r=this.registry.getSource(n);return B(r,"Expected to find a valid source. sourceId=".concat(n)),this.isDragging()?!1:r.canDrag(this,n)}},{key:"canDropOnTarget",value:function(n){if(!n)return!1;var r=this.registry.getTarget(n);if(B(r,"Expected to find a valid target. targetId=".concat(n)),!this.isDragging()||this.didDrop())return!1;var i=this.registry.getTargetType(n),o=this.getItemType();return Ni(i,o)&&r.canDrop(this,n)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(n){if(!n)return!1;var r=this.registry.getSource(n,!0);if(B(r,"Expected to find a valid source. sourceId=".concat(n)),!this.isDragging()||!this.isSourcePublic())return!1;var i=this.registry.getSourceType(n),o=this.getItemType();return i!==o?!1:r.isDragging(this,n)}},{key:"isOverTarget",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shallow:!1};if(!n)return!1;var i=r.shallow;if(!this.isDragging())return!1;var o=this.registry.getTargetType(n),a=this.getItemType();if(a&&!Ni(o,a))return!1;var s=this.getTargetIds();if(!s.length)return!1;var l=s.indexOf(n);return i?l===s.length-1:l>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return Dp(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return Pp(this.store.getState().dragOffset)}}]),e}(),Ap=0;function Mp(){return Ap++}function Un(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Un=function(n){return typeof n}:Un=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Un(e)}function Np(e){B(typeof e.canDrag=="function","Expected canDrag to be a function."),B(typeof e.beginDrag=="function","Expected beginDrag to be a function."),B(typeof e.endDrag=="function","Expected endDrag to be a function.")}function Lp(e){B(typeof e.canDrop=="function","Expected canDrop to be a function."),B(typeof e.hover=="function","Expected hover to be a function."),B(typeof e.drop=="function","Expected beginDrag to be a function.")}function Li(e,t){if(t&&Array.isArray(e)){e.forEach(function(n){return Li(n,!1)});return}B(typeof e=="string"||Un(e)==="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}const Ga=typeof global<"u"?global:self,vu=Ga.MutationObserver||Ga.WebKitMutationObserver;function yu(e){return function(){const n=setTimeout(i,0),r=setInterval(i,50);function i(){clearTimeout(n),clearInterval(r),e()}}}function zp(e){let t=1;const n=new vu(e),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){t=-t,r.data=t}}const Hp=typeof vu=="function"?zp:yu;class Fp{enqueueTask(t){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=t}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:t}=this;for(;this.index<t.length;){const n=this.index;if(this.index++,t[n].call(),this.index>this.capacity){for(let r=0,i=t.length-this.index;r<i;r++)t[r]=t[r+this.index];t.length-=this.index,this.index=0}}t.length=0,this.index=0,this.flushing=!1},this.registerPendingError=t=>{this.pendingErrors.push(t),this.requestErrorThrow()},this.requestFlush=Hp(this.flush),this.requestErrorThrow=yu(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class jp{call(){try{this.task&&this.task()}catch(t){this.onError(t)}finally{this.task=null,this.release(this)}}constructor(t,n){this.onError=t,this.release=n,this.task=null}}class Bp{create(t){const n=this.freeTasks,r=n.length?n.pop():new jp(this.onError,i=>n[n.length]=i);return r.task=t,r}constructor(t){this.onError=t,this.freeTasks=[]}}const bu=new Fp,Kp=new Bp(bu.registerPendingError);function Up(e){bu.enqueueTask(Kp.create(e))}function Wp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Za(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qp(e,t,n){return t&&Za(e.prototype,t),n&&Za(e,n),e}function Pt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yp(e,t){return Gp(e)||Vp(e,t)||Qp(e,t)||Xp()}function Xp(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qp(e,t){if(e){if(typeof e=="string")return Ja(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ja(e,t)}}function Ja(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vp(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,a,s;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(r.push(a.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}return r}}function Gp(e){if(Array.isArray(e))return e}function Zp(e){var t=Mp().toString();switch(e){case Qe.SOURCE:return"S".concat(t);case Qe.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}function es(e){switch(e[0]){case"S":return Qe.SOURCE;case"T":return Qe.TARGET;default:B(!1,"Cannot parse handler ID: ".concat(e))}}function ts(e,t){var n=e.entries(),r=!1;do{var i=n.next(),o=i.done,a=Yp(i.value,2),s=a[1];if(s===t)return!0;r=!!o}while(!r);return!1}var Jp=function(){function e(t){Wp(this,e),Pt(this,"types",new Map),Pt(this,"dragSources",new Map),Pt(this,"dropTargets",new Map),Pt(this,"pinnedSourceId",null),Pt(this,"pinnedSource",null),Pt(this,"store",void 0),this.store=t}return qp(e,[{key:"addSource",value:function(n,r){Li(n),Np(r);var i=this.addHandler(Qe.SOURCE,n,r);return this.store.dispatch(gp(i)),i}},{key:"addTarget",value:function(n,r){Li(n,!0),Lp(r);var i=this.addHandler(Qe.TARGET,n,r);return this.store.dispatch(mp(i)),i}},{key:"containsHandler",value:function(n){return ts(this.dragSources,n)||ts(this.dropTargets,n)}},{key:"getSource",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;B(this.isSourceId(n),"Expected a valid source ID.");var i=r&&n===this.pinnedSourceId,o=i?this.pinnedSource:this.dragSources.get(n);return o}},{key:"getTarget",value:function(n){return B(this.isTargetId(n),"Expected a valid target ID."),this.dropTargets.get(n)}},{key:"getSourceType",value:function(n){return B(this.isSourceId(n),"Expected a valid source ID."),this.types.get(n)}},{key:"getTargetType",value:function(n){return B(this.isTargetId(n),"Expected a valid target ID."),this.types.get(n)}},{key:"isSourceId",value:function(n){var r=es(n);return r===Qe.SOURCE}},{key:"isTargetId",value:function(n){var r=es(n);return r===Qe.TARGET}},{key:"removeSource",value:function(n){var r=this;B(this.getSource(n),"Expected an existing source."),this.store.dispatch(vp(n)),Up(function(){r.dragSources.delete(n),r.types.delete(n)})}},{key:"removeTarget",value:function(n){B(this.getTarget(n),"Expected an existing target."),this.store.dispatch(yp(n)),this.dropTargets.delete(n),this.types.delete(n)}},{key:"pinSource",value:function(n){var r=this.getSource(n);B(r,"Expected an existing source."),this.pinnedSourceId=n,this.pinnedSource=r}},{key:"unpinSource",value:function(){B(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(n,r,i){var o=Zp(n);return this.types.set(o,r),n===Qe.SOURCE?this.dragSources.set(o,i):n===Qe.TARGET&&this.dropTargets.set(o,i),o}}]),e}();function eg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=tg(r),o=new Rp(i,new Jp(i)),a=new sp(i,o),s=e(a,t,n);return a.receiveBackend(s),a}function tg(e){var t=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return $o(xp,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}var ng=["children"];function rg(e,t){return sg(e)||ag(e,t)||og(e,t)||ig()}function ig(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function og(e,t){if(e){if(typeof e=="string")return ns(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ns(e,t)}}function ns(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ag(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,a,s;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(r.push(a.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}return r}}function sg(e){if(Array.isArray(e))return e}function lg(e,t){if(e==null)return{};var n=ug(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ug(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var rs=0,Wn=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__"),cg=c.memo(function(t){var n=t.children,r=lg(t,ng),i=dg(r),o=rg(i,2),a=o[0],s=o[1];return c.useEffect(function(){if(s){var l=Eu();return++rs,function(){--rs===0&&(l[Wn]=null)}}},[]),X(pu.Provider,Object.assign({value:a},{children:n}),void 0)});function dg(e){if("manager"in e){var t={dragDropManager:e.manager};return[t,!1]}var n=fg(e.backend,e.context,e.options,e.debugMode),r=!e.context;return[n,r]}function fg(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Eu(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=t;return i[Wn]||(i[Wn]={dragDropManager:eg(e,t,n,r)}),i[Wn]}function Eu(){return typeof global<"u"?global:window}function hg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function is(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pg(e,t,n){return t&&is(e.prototype,t),n&&is(e,n),e}function os(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zr=!1,Jr=!1,gg=function(){function e(t){hg(this,e),os(this,"internalMonitor",void 0),os(this,"sourceId",null),this.internalMonitor=t.getMonitor()}return pg(e,[{key:"receiveHandlerId",value:function(n){this.sourceId=n}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){B(!Zr,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Zr=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Zr=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;B(!Jr,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Jr=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{Jr=!1}}},{key:"subscribeToStateChange",value:function(n,r){return this.internalMonitor.subscribeToStateChange(n,r)}},{key:"isDraggingSource",value:function(n){return this.internalMonitor.isDraggingSource(n)}},{key:"isOverTarget",value:function(n,r){return this.internalMonitor.isOverTarget(n,r)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(n){return this.internalMonitor.subscribeToOffsetChange(n)}},{key:"canDragSource",value:function(n){return this.internalMonitor.canDragSource(n)}},{key:"canDropOnTarget",value:function(n){return this.internalMonitor.canDropOnTarget(n)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}();function mg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function as(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vg(e,t,n){return t&&as(e.prototype,t),n&&as(e,n),e}function ss(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ei=!1,yg=function(){function e(t){mg(this,e),ss(this,"internalMonitor",void 0),ss(this,"targetId",null),this.internalMonitor=t.getMonitor()}return vg(e,[{key:"receiveHandlerId",value:function(n){this.targetId=n}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(n,r){return this.internalMonitor.subscribeToStateChange(n,r)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;B(!ei,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return ei=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{ei=!1}}},{key:"isOver",value:function(n){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,n):!1}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}();function bg(e){if(typeof e.type!="string"){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function Eg(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!c.isValidElement(t)){var r=t;return e(r,n),r}var i=t;bg(i);var o=n?function(a){return e(a,n)}:e;return wg(i,o)}}function wu(e){var t={};return Object.keys(e).forEach(function(n){var r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{var i=Eg(r);t[n]=function(){return i}}}),t}function ls(e,t){typeof e=="function"?e(t):e.current=t}function wg(e,t){var n=e.ref;return B(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?c.cloneElement(e,{ref:function(i){ls(n,i),ls(t,i)}}):c.cloneElement(e,{ref:t})}function qn(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?qn=function(n){return typeof n}:qn=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},qn(e)}function zi(e){return e!==null&&qn(e)==="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Hi(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(i!==void 0)return!!i;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var u=o[l];if(!s(u))return!1;var d=e[u],f=t[u];if(i=n?n.call(r,d,f,u):void 0,i===!1||i===void 0&&d!==f)return!1}return!0}function Sg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function us(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Og(e,t,n){return t&&us(e.prototype,t),n&&us(e,n),e}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ig=function(){function e(t){var n=this;Sg(this,e),ke(this,"hooks",wu({dragSource:function(i,o){n.clearDragSource(),n.dragSourceOptions=o||null,zi(i)?n.dragSourceRef=i:n.dragSourceNode=i,n.reconnectDragSource()},dragPreview:function(i,o){n.clearDragPreview(),n.dragPreviewOptions=o||null,zi(i)?n.dragPreviewRef=i:n.dragPreviewNode=i,n.reconnectDragPreview()}})),ke(this,"handlerId",null),ke(this,"dragSourceRef",null),ke(this,"dragSourceNode",void 0),ke(this,"dragSourceOptionsInternal",null),ke(this,"dragSourceUnsubscribe",void 0),ke(this,"dragPreviewRef",null),ke(this,"dragPreviewNode",void 0),ke(this,"dragPreviewOptionsInternal",null),ke(this,"dragPreviewUnsubscribe",void 0),ke(this,"lastConnectedHandlerId",null),ke(this,"lastConnectedDragSource",null),ke(this,"lastConnectedDragSourceOptions",null),ke(this,"lastConnectedDragPreview",null),ke(this,"lastConnectedDragPreviewOptions",null),ke(this,"backend",void 0),this.backend=t}return Og(e,[{key:"receiveHandlerId",value:function(n){this.handlerId!==n&&(this.handlerId=n,this.reconnect())}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(n){this.dragSourceOptionsInternal=n}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(n){this.dragPreviewOptionsInternal=n}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var n=this.dragSource,r=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();if(r&&this.disconnectDragSource(),!!this.handlerId){if(!n){this.lastConnectedDragSource=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=n,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,n,this.dragSourceOptions))}}},{key:"reconnectDragPreview",value:function(){var n=this.dragPreview,r=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!Hi(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!Hi(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}}]),e}();function _g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Cg(e,t,n){return t&&cs(e.prototype,t),n&&cs(e,n),e}function nt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xg=function(){function e(t){var n=this;_g(this,e),nt(this,"hooks",wu({dropTarget:function(i,o){n.clearDropTarget(),n.dropTargetOptions=o,zi(i)?n.dropTargetRef=i:n.dropTargetNode=i,n.reconnect()}})),nt(this,"handlerId",null),nt(this,"dropTargetRef",null),nt(this,"dropTargetNode",void 0),nt(this,"dropTargetOptionsInternal",null),nt(this,"unsubscribeDropTarget",void 0),nt(this,"lastConnectedHandlerId",null),nt(this,"lastConnectedDropTarget",null),nt(this,"lastConnectedDropTargetOptions",null),nt(this,"backend",void 0),this.backend=t}return Cg(e,[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"reconnect",value:function(){var n=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();n&&this.disconnectDropTarget();var r=this.dropTarget;if(this.handlerId){if(!r){this.lastConnectedDropTarget=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=r,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,r,this.dropTargetOptions))}}},{key:"receiveHandlerId",value:function(n){n!==this.handlerId&&(this.handlerId=n,this.reconnect())}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(n){this.dropTargetOptionsInternal=n}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!Hi(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}}]),e}();function Tg(e,t,n){var r=n.getRegistry(),i=r.addTarget(e,t);return[i,function(){return r.removeTarget(i)}]}function Dg(e,t,n){var r=n.getRegistry(),i=r.addSource(e,t);return[i,function(){return r.removeSource(i)}]}var wt=typeof window<"u"?c.useLayoutEffect:c.useEffect;function Yn(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yn=function(n){return typeof n}:Yn=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Yn(e)}function Pg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ds(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $g(e,t,n){return t&&ds(e.prototype,t),n&&ds(e,n),e}function ti(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var kg=function(){function e(t,n,r){Pg(this,e),ti(this,"spec",void 0),ti(this,"monitor",void 0),ti(this,"connector",void 0),this.spec=t,this.monitor=n,this.connector=r}return $g(e,[{key:"beginDrag",value:function(){var n,r=this.spec,i=this.monitor,o=null;return Yn(r.item)==="object"?o=r.item:typeof r.item=="function"?o=r.item(i):o={},(n=o)!==null&&n!==void 0?n:null}},{key:"canDrag",value:function(){var n=this.spec,r=this.monitor;return typeof n.canDrag=="boolean"?n.canDrag:typeof n.canDrag=="function"?n.canDrag(r):!0}},{key:"isDragging",value:function(n,r){var i=this.spec,o=this.monitor,a=i.isDragging;return a?a(o):r===n.getSourceId()}},{key:"endDrag",value:function(){var n=this.spec,r=this.monitor,i=this.connector,o=n.end;o&&o(r.getItem(),r),i.reconnect()}}]),e}();function Rg(e,t,n){var r=c.useMemo(function(){return new kg(e,t,n)},[t,n]);return c.useEffect(function(){r.spec=e},[e]),r}function Ot(){var e=c.useContext(pu),t=e.dragDropManager;return B(t!=null,"Expected drag drop context"),t}function Ag(e){return c.useMemo(function(){var t=e.type;return B(t!=null,"spec.type must be defined"),t},[e])}function Mg(e,t){return Hg(e)||zg(e,t)||Lg(e,t)||Ng()}function Ng(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lg(e,t){if(e){if(typeof e=="string")return fs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fs(e,t)}}function fs(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zg(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,a,s;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(r.push(a.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}return r}}function Hg(e){if(Array.isArray(e))return e}function Fg(e,t,n){var r=Ot(),i=Rg(e,t,n),o=Ag(e);wt(function(){if(o!=null){var s=Dg(o,i,r),l=Mg(s,2),u=l[0],d=l[1];return t.receiveHandlerId(u),n.receiveHandlerId(u),d}},[r,t,n,i,o])}function jg(e){return Wg(e)||Ug(e)||Kg(e)||Bg()}function Bg(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kg(e,t){if(e){if(typeof e=="string")return Fi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fi(e,t)}}function Ug(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Wg(e){if(Array.isArray(e))return Fi(e)}function Fi(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Su(e,t){var n=jg(t||[]);return t==null&&typeof e!="function"&&n.push(e),c.useMemo(function(){return typeof e=="function"?e():e},n)}function qg(){var e=Ot();return c.useMemo(function(){return new gg(e)},[e])}function Yg(e,t){var n=Ot(),r=c.useMemo(function(){return new Ig(n.getBackend())},[n]);return wt(function(){return r.dragSourceOptions=e||null,r.reconnect(),function(){return r.disconnectDragSource()}},[r,e]),wt(function(){return r.dragPreviewOptions=t||null,r.reconnect(),function(){return r.disconnectDragPreview()}},[r,t]),r}var Xg=function e(t,n){if(t===n)return!0;if(t&&n&&typeof t=="object"&&typeof n=="object"){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if(r=t.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if(o=Object.keys(t),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n};function Qg(e,t){return Jg(e)||Zg(e,t)||Gg(e,t)||Vg()}function Vg(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gg(e,t){if(e){if(typeof e=="string")return hs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hs(e,t)}}function hs(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Zg(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,a,s;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(r.push(a.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}return r}}function Jg(e){if(Array.isArray(e))return e}function Ou(e,t,n){var r=c.useState(function(){return t(e)}),i=Qg(r,2),o=i[0],a=i[1],s=c.useCallback(function(){var l=t(e);Xg(o,l)||(a(l),n&&n())},[o,e,n]);return wt(s),[o,s]}function em(e,t){return im(e)||rm(e,t)||nm(e,t)||tm()}function tm(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nm(e,t){if(e){if(typeof e=="string")return ps(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ps(e,t)}}function ps(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rm(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,a,s;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(r.push(a.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}return r}}function im(e){if(Array.isArray(e))return e}function om(e,t,n){var r=Ou(e,t,n),i=em(r,2),o=i[0],a=i[1];return wt(function(){var l=e.getHandlerId();if(l!=null)return e.subscribeToStateChange(a,{handlerIds:[l]})},[e,a]),o}function Iu(e,t,n){return om(t,e||function(){return{}},function(){return n.reconnect()})}function am(e){return c.useMemo(function(){return e.hooks.dragSource()},[e])}function sm(e){return c.useMemo(function(){return e.hooks.dragPreview()},[e])}function lm(e,t){var n=Su(e,t);B(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");var r=qg(),i=Yg(n.options,n.previewOptions);return Fg(n,r,i),[Iu(n.collect,r,i),am(i),sm(i)]}function um(e){var t=e.accept;return c.useMemo(function(){return B(e.accept!=null,"accept must be defined"),Array.isArray(t)?t:[t]},[t])}function cm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dm(e,t,n){return t&&gs(e.prototype,t),n&&gs(e,n),e}function ms(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fm=function(){function e(t,n){cm(this,e),ms(this,"spec",void 0),ms(this,"monitor",void 0),this.spec=t,this.monitor=n}return dm(e,[{key:"canDrop",value:function(){var n=this.spec,r=this.monitor;return n.canDrop?n.canDrop(r.getItem(),r):!0}},{key:"hover",value:function(){var n=this.spec,r=this.monitor;n.hover&&n.hover(r.getItem(),r)}},{key:"drop",value:function(){var n=this.spec,r=this.monitor;if(n.drop)return n.drop(r.getItem(),r)}}]),e}();function hm(e,t){var n=c.useMemo(function(){return new fm(e,t)},[t]);return c.useEffect(function(){n.spec=e},[e]),n}function pm(e,t){return ym(e)||vm(e,t)||mm(e,t)||gm()}function gm(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mm(e,t){if(e){if(typeof e=="string")return vs(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vs(e,t)}}function vs(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vm(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,a,s;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(r.push(a.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}return r}}function ym(e){if(Array.isArray(e))return e}function bm(e,t,n){var r=Ot(),i=hm(e,t),o=um(e);wt(function(){var s=Tg(o,i,r),l=pm(s,2),u=l[0],d=l[1];return t.receiveHandlerId(u),n.receiveHandlerId(u),d},[r,t,i,n,o.map(function(a){return a.toString()}).join("|")])}function Em(){var e=Ot();return c.useMemo(function(){return new yg(e)},[e])}function wm(e){var t=Ot(),n=c.useMemo(function(){return new xg(t.getBackend())},[t]);return wt(function(){return n.dropTargetOptions=e||null,n.reconnect(),function(){return n.disconnectDropTarget()}},[e]),n}function Sm(e){return c.useMemo(function(){return e.hooks.dropTarget()},[e])}function _u(e,t){var n=Su(e,t),r=Em(),i=wm(n.options);return bm(n,r,i),[Iu(n.collect,r,i),Sm(i)]}function Om(e,t){return xm(e)||Cm(e,t)||_m(e,t)||Im()}function Im(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _m(e,t){if(e){if(typeof e=="string")return ys(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ys(e,t)}}function ys(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Cm(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,a,s;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(r.push(a.value),!(t&&r.length===t));i=!0);}catch(l){o=!0,s=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw s}}return r}}function xm(e){if(Array.isArray(e))return e}function Tm(e){var t=Ot(),n=t.getMonitor(),r=Ou(n,e),i=Om(r,2),o=i[0],a=i[1];return c.useEffect(function(){return n.subscribeToOffsetChange(a)}),c.useEffect(function(){return n.subscribeToStateChange(a)}),o}function bs(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Es=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function Dm(e,t){return!!(e===t||Es(e)&&Es(t))}function Pm(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!Dm(e[n],t[n]))return!1;return!0}function ni(e,t){t===void 0&&(t=Pm);var n,r=[],i,o=!1;function a(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];return o&&n===this&&t(s,r)||(i=e.apply(this,s),o=!0,n=this,r=s),i}return a}var $m=typeof performance=="object"&&typeof performance.now=="function",ws=$m?function(){return performance.now()}:function(){return Date.now()};function Ss(e){cancelAnimationFrame(e.id)}function km(e,t){var n=ws();function r(){ws()-n>=t?e.call(null):i.id=requestAnimationFrame(r)}var i={id:requestAnimationFrame(r)};return i}var ri=-1;function Os(e){if(e===void 0&&(e=!1),ri===-1||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(t),ri=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return ri}var $t=null;function Is(e){if(e===void 0&&(e=!1),$t===null||e){var t=document.createElement("div"),n=t.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",t.appendChild(r),document.body.appendChild(t),t.scrollLeft>0?$t="positive-descending":(t.scrollLeft=1,t.scrollLeft===0?$t="negative":$t="positive-ascending"),document.body.removeChild(t),$t}return $t}var Rm=150,Am=function(t,n){return t};function Mm(e){var t,n=e.getItemOffset,r=e.getEstimatedTotalSize,i=e.getItemSize,o=e.getOffsetForIndexAndAlignment,a=e.getStartIndexForOffset,s=e.getStopIndexForStartIndex,l=e.initInstanceProps,u=e.shouldResetStyleCacheOnItemSizeChange,d=e.validateProps;return t=function(f){qt(h,f);function h(y){var p;return p=f.call(this,y)||this,p._instanceProps=l(p.props,bs(p)),p._outerRef=void 0,p._resetIsScrollingTimeoutId=null,p.state={instance:bs(p),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof p.props.initialScrollOffset=="number"?p.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},p._callOnItemsRendered=void 0,p._callOnItemsRendered=ni(function(m,b,E,O){return p.props.onItemsRendered({overscanStartIndex:m,overscanStopIndex:b,visibleStartIndex:E,visibleStopIndex:O})}),p._callOnScroll=void 0,p._callOnScroll=ni(function(m,b,E){return p.props.onScroll({scrollDirection:m,scrollOffset:b,scrollUpdateWasRequested:E})}),p._getItemStyle=void 0,p._getItemStyle=function(m){var b=p.props,E=b.direction,O=b.itemSize,x=b.layout,C=p._getItemStyleCache(u&&O,u&&x,u&&E),S;if(C.hasOwnProperty(m))S=C[m];else{var w=n(p.props,m,p._instanceProps),I=i(p.props,m,p._instanceProps),T=E==="horizontal"||x==="horizontal",P=E==="rtl",$=T?w:0;C[m]=S={position:"absolute",left:P?void 0:$,right:P?$:void 0,top:T?0:w,height:T?"100%":I,width:T?I:"100%"}}return S},p._getItemStyleCache=void 0,p._getItemStyleCache=ni(function(m,b,E){return{}}),p._onScrollHorizontal=function(m){var b=m.currentTarget,E=b.clientWidth,O=b.scrollLeft,x=b.scrollWidth;p.setState(function(C){if(C.scrollOffset===O)return null;var S=p.props.direction,w=O;if(S==="rtl")switch(Is()){case"negative":w=-O;break;case"positive-descending":w=x-E-O;break}return w=Math.max(0,Math.min(w,x-E)),{isScrolling:!0,scrollDirection:C.scrollOffset<O?"forward":"backward",scrollOffset:w,scrollUpdateWasRequested:!1}},p._resetIsScrollingDebounced)},p._onScrollVertical=function(m){var b=m.currentTarget,E=b.clientHeight,O=b.scrollHeight,x=b.scrollTop;p.setState(function(C){if(C.scrollOffset===x)return null;var S=Math.max(0,Math.min(x,O-E));return{isScrolling:!0,scrollDirection:C.scrollOffset<S?"forward":"backward",scrollOffset:S,scrollUpdateWasRequested:!1}},p._resetIsScrollingDebounced)},p._outerRefSetter=function(m){var b=p.props.outerRef;p._outerRef=m,typeof b=="function"?b(m):b!=null&&typeof b=="object"&&b.hasOwnProperty("current")&&(b.current=m)},p._resetIsScrollingDebounced=function(){p._resetIsScrollingTimeoutId!==null&&Ss(p._resetIsScrollingTimeoutId),p._resetIsScrollingTimeoutId=km(p._resetIsScrolling,Rm)},p._resetIsScrolling=function(){p._resetIsScrollingTimeoutId=null,p.setState({isScrolling:!1},function(){p._getItemStyleCache(-1,null)})},p}h.getDerivedStateFromProps=function(p,m){return Nm(p,m),d(p),null};var v=h.prototype;return v.scrollTo=function(p){p=Math.max(0,p),this.setState(function(m){return m.scrollOffset===p?null:{scrollDirection:m.scrollOffset<p?"forward":"backward",scrollOffset:p,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},v.scrollToItem=function(p,m){m===void 0&&(m="auto");var b=this.props,E=b.itemCount,O=b.layout,x=this.state.scrollOffset;p=Math.max(0,Math.min(p,E-1));var C=0;if(this._outerRef){var S=this._outerRef;O==="vertical"?C=S.scrollWidth>S.clientWidth?Os():0:C=S.scrollHeight>S.clientHeight?Os():0}this.scrollTo(o(this.props,p,m,x,this._instanceProps,C))},v.componentDidMount=function(){var p=this.props,m=p.direction,b=p.initialScrollOffset,E=p.layout;if(typeof b=="number"&&this._outerRef!=null){var O=this._outerRef;m==="horizontal"||E==="horizontal"?O.scrollLeft=b:O.scrollTop=b}this._callPropsCallbacks()},v.componentDidUpdate=function(){var p=this.props,m=p.direction,b=p.layout,E=this.state,O=E.scrollOffset,x=E.scrollUpdateWasRequested;if(x&&this._outerRef!=null){var C=this._outerRef;if(m==="horizontal"||b==="horizontal")if(m==="rtl")switch(Is()){case"negative":C.scrollLeft=-O;break;case"positive-ascending":C.scrollLeft=O;break;default:var S=C.clientWidth,w=C.scrollWidth;C.scrollLeft=w-S-O;break}else C.scrollLeft=O;else C.scrollTop=O}this._callPropsCallbacks()},v.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&Ss(this._resetIsScrollingTimeoutId)},v.render=function(){var p=this.props,m=p.children,b=p.className,E=p.direction,O=p.height,x=p.innerRef,C=p.innerElementType,S=p.innerTagName,w=p.itemCount,I=p.itemData,T=p.itemKey,P=T===void 0?Am:T,$=p.layout,z=p.outerElementType,ee=p.outerTagName,Z=p.style,ue=p.useIsScrolling,le=p.width,M=this.state.isScrolling,q=E==="horizontal"||$==="horizontal",W=q?this._onScrollHorizontal:this._onScrollVertical,V=this._getRangeToRender(),A=V[0],j=V[1],G=[];if(w>0)for(var K=A;K<=j;K++)G.push(c.createElement(m,{data:I,key:P(K,I),index:K,isScrolling:ue?M:void 0,style:this._getItemStyle(K)}));var J=r(this.props,this._instanceProps);return c.createElement(z||ee||"div",{className:b,onScroll:W,ref:this._outerRefSetter,style:oe({position:"relative",height:O,width:le,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:E},Z)},c.createElement(C||S||"div",{children:G,ref:x,style:{height:q?"100%":J,pointerEvents:M?"none":void 0,width:q?J:"100%"}}))},v._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var p=this.props.itemCount;if(p>0){var m=this._getRangeToRender(),b=m[0],E=m[1],O=m[2],x=m[3];this._callOnItemsRendered(b,E,O,x)}}if(typeof this.props.onScroll=="function"){var C=this.state,S=C.scrollDirection,w=C.scrollOffset,I=C.scrollUpdateWasRequested;this._callOnScroll(S,w,I)}},v._getRangeToRender=function(){var p=this.props,m=p.itemCount,b=p.overscanCount,E=this.state,O=E.isScrolling,x=E.scrollDirection,C=E.scrollOffset;if(m===0)return[0,0,0,0];var S=a(this.props,C,this._instanceProps),w=s(this.props,S,C,this._instanceProps),I=!O||x==="backward"?Math.max(1,b):1,T=!O||x==="forward"?Math.max(1,b):1;return[Math.max(0,S-I),Math.max(0,Math.min(m-1,w+T)),S,w]},h}(c.PureComponent),t.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},t}var Nm=function(t,n){t.children,t.direction,t.height,t.layout,t.innerTagName,t.outerTagName,t.width,n.instance},Lm=Mm({getItemOffset:function(t,n){var r=t.itemSize;return n*r},getItemSize:function(t,n){var r=t.itemSize;return r},getEstimatedTotalSize:function(t){var n=t.itemCount,r=t.itemSize;return r*n},getOffsetForIndexAndAlignment:function(t,n,r,i,o,a){var s=t.direction,l=t.height,u=t.itemCount,d=t.itemSize,f=t.layout,h=t.width,v=s==="horizontal"||f==="horizontal",y=v?h:l,p=Math.max(0,u*d-y),m=Math.min(p,n*d),b=Math.max(0,n*d-y+d+a);switch(r==="smart"&&(i>=b-y&&i<=m+y?r="auto":r="center"),r){case"start":return m;case"end":return b;case"center":{var E=Math.round(b+(m-b)/2);return E<Math.ceil(y/2)?0:E>p+Math.floor(y/2)?p:E}case"auto":default:return i>=b&&i<=m?i:i<b?b:m}},getStartIndexForOffset:function(t,n){var r=t.itemCount,i=t.itemSize;return Math.max(0,Math.min(r-1,Math.floor(n/i)))},getStopIndexForStartIndex:function(t,n,r){var i=t.direction,o=t.height,a=t.itemCount,s=t.itemSize,l=t.layout,u=t.width,d=i==="horizontal"||l==="horizontal",f=n*s,h=d?u:o,v=Math.ceil((h+r-f)/s);return Math.max(0,Math.min(a-1,n+v-1))},initInstanceProps:function(t){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(t){t.itemSize}});function we(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}const Cu=c.createContext(null);function Ue(){const e=c.useContext(Cu);if(e===null)throw new Error("No Tree Api Provided");return e}const xu=c.createContext(null);function zm(){const e=c.useContext(xu);if(e===null)throw new Error("Provide a NodesContext");return e}const Tu=c.createContext(null);function Hm(){const e=c.useContext(Tu);if(e===null)throw new Error("Provide a DnDContext");return e}const Du=c.createContext(0);function Pu(){c.useContext(Du)}var Fm={};we(Fm,"TreeApi",()=>Ht);var ie={};we(ie,"bound",()=>$u);we(ie,"isItem",()=>ku);we(ie,"isClosed",()=>Ru);we(ie,"isDecendent",()=>jm);we(ie,"indexOf",()=>Au);we(ie,"noop",()=>Bm);we(ie,"dfs",()=>Mu);we(ie,"walk",()=>Nu);we(ie,"focusNextElement",()=>Lu);we(ie,"focusPrevElement",()=>zu);we(ie,"access",()=>Wm);we(ie,"identifyNull",()=>qm);we(ie,"identify",()=>mt);we(ie,"mergeRefs",()=>Ym);we(ie,"safeRun",()=>Fu);we(ie,"waitFor",()=>Xm);we(ie,"getInsertIndex",()=>Qm);we(ie,"getInsertParentId",()=>Vm);function $u(e,t,n){return Math.max(Math.min(e,n),t)}function ku(e){return e&&e.isLeaf}function Ru(e){return e&&e.isInternal&&!e.isOpen}const jm=(e,t)=>{let n=e;for(;n;){if(n.id===t.id)return!0;n=n.parent}return!1},Au=e=>{if(!e.parent)throw Error("Node does not have a parent");return e.parent.children.findIndex(t=>t.id===e.id)};function Bm(){}function Mu(e,t){if(!e)return null;if(e.id===t)return e;if(e.children)for(let n of e.children){const r=Mu(n,t);if(r)return r}return null}function Nu(e,t){if(t(e),e.children)for(let n of e.children)Nu(n,t)}function Lu(e){const t=Hu(e);let n;for(let r=0;r<t.length;++r)if(t[r]===e){n=Km(t,r);break}n==null||n.focus()}function zu(e){const t=Hu(e);let n;for(let r=0;r<t.length;++r)if(t[r]===e){n=Um(t,r);break}n==null||n.focus()}function Km(e,t){return t+1<e.length?e[t+1]:e[0]}function Um(e,t){return t-1>=0?e[t-1]:e[e.length-1]}function Hu(e){return Array.from(document.querySelectorAll('button:not([disabled]), [href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), [tabindex]:not([tabindex="-1"]):not([disabled]), details:not([disabled]), summary:not(:disabled)')).filter(t=>t===e||!e.contains(t))}function Wm(e,t){return typeof t=="boolean"?t:typeof t=="string"?e[t]:t(e)}function qm(e){return e===null?null:mt(e)}function mt(e){return typeof e=="string"?e:e.id}function Ym(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function Fu(e,...t){if(e)return e(...t)}function Xm(e){return new Promise((t,n)=>{let r=0;function i(){r+=1,r===100&&n(),e()?t():setTimeout(i,10)}i()})}function Qm(e){var n;const t=e.focusedNode;return t?t.isOpen?0:t.parent?t.childIndex+1:0:((n=e.root.children)==null?void 0:n.length)??0}function Vm(e){const t=e.focusedNode;return t?t.isOpen?t.id:t.parent&&!t.parent.isRoot?t.parent.id:null:null}const Gm={display:"flex",alignItems:"center",zIndex:1},Zm={flex:1,height:"2px",background:"#4B91E2",borderRadius:"1px"},Jm={width:"4px",height:"4px",boxShadow:"0 0 0 3px #4B91E2",borderRadius:"50%"},ev=g.memo(function({top:t,left:n,indent:r}){const i={position:"absolute",pointerEvents:"none",top:t-2+"px",left:n+"px",right:r+"px"};return vn("div",{style:{...Gm,...i},children:[X("div",{style:{...Jm}}),X("div",{style:{...Zm}})]})});function tv({node:e,attrs:t,innerRef:n,children:r}){return X("div",{...t,ref:n,onFocus:i=>i.stopPropagation(),onClick:e.handleClick,children:r})}function nv(e){return vn("div",{ref:e.dragHandle,style:e.style,children:[X("span",{onClick:t=>{t.stopPropagation(),e.node.toggle()},children:e.node.isLeaf?"🌳":e.node.isOpen?"🗁":"🗀"})," ",e.node.isEditing?X(iv,{...e}):X(rv,{...e})]})}function rv(e){return X(Pl,{children:X("span",{children:e.node.data.name})})}function iv({node:e}){const t=c.useRef();return c.useEffect(()=>{var n,r;(n=t.current)==null||n.focus(),(r=t.current)==null||r.select()},[]),X("input",{ref:t,defaultValue:e.data.name,onBlur:()=>e.reset(),onKeyDown:n=>{var r;n.key==="Escape"&&e.reset(),n.key==="Enter"&&e.submit(((r=t.current)==null?void 0:r.value)||"")}})}function ii(e){return{type:"EDIT",id:e}}function ov(e={id:null},t){return t.type==="EDIT"?{...e,id:t.id}:e}function kt(e){return{type:"FOCUS",id:e}}function av(){return{type:"TREE_BLUR"}}function sv(e={id:null,treeFocused:!1},t){return t.type==="FOCUS"?{...e,id:t.id,treeFocused:!0}:t.type==="TREE_BLUR"?{...e,treeFocused:!1}:e}var lv={};we(lv,"NodeApi",()=>dn);class dn{constructor(t){la(this,"handleClick",t=>{t.metaKey&&!this.tree.props.disableMultiSelection?this.isSelected?this.deselect():this.selectMulti():t.shiftKey&&!this.tree.props.disableMultiSelection?this.selectContiguous():(this.select(),this.activate())});this.tree=t.tree,this.id=t.id,this.data=t.data,this.level=t.level,this.children=t.children,this.parent=t.parent,this.isDraggable=t.isDraggable,this.rowIndex=t.rowIndex}get isRoot(){return this.id===fn}get isLeaf(){return!Array.isArray(this.children)}get isInternal(){return!this.isLeaf}get isOpen(){return this.isLeaf?!1:this.tree.isOpen(this.id)}get isClosed(){return this.isLeaf?!1:!this.tree.isOpen(this.id)}get isEditable(){return this.tree.isEditable(this.data)}get isEditing(){return this.tree.editingId===this.id}get isSelected(){return this.tree.isSelected(this.id)}get isOnlySelection(){return this.isSelected&&this.tree.hasOneSelection}get isSelectedStart(){var t;return this.isSelected&&!((t=this.prev)!=null&&t.isSelected)}get isSelectedEnd(){var t;return this.isSelected&&!((t=this.next)!=null&&t.isSelected)}get isFocused(){return this.tree.isFocused(this.id)}get isDragging(){return this.tree.isDragging(this.id)}get willReceiveDrop(){return this.tree.willReceiveDrop(this.id)}get state(){return{isClosed:this.isClosed,isDragging:this.isDragging,isEditing:this.isEditing,isFocused:this.isFocused,isInternal:this.isInternal,isLeaf:this.isLeaf,isOpen:this.isOpen,isSelected:this.isSelected,isSelectedEnd:this.isSelectedEnd,isSelectedStart:this.isSelectedStart,willReceiveDrop:this.willReceiveDrop}}get childIndex(){return this.parent&&this.parent.children?this.parent.children.findIndex(t=>t.id===this.id):-1}get next(){return this.rowIndex===null?null:this.tree.at(this.rowIndex+1)}get prev(){return this.rowIndex===null?null:this.tree.at(this.rowIndex-1)}get nextSibling(){var n;const t=this.childIndex;return((n=this.parent)==null?void 0:n.children[t+1])??null}select(){this.tree.select(this)}deselect(){this.tree.deselect(this)}selectMulti(){this.tree.selectMulti(this)}selectContiguous(){this.tree.selectContiguous(this)}activate(){this.tree.activate(this)}focus(){this.tree.focus(this)}toggle(){this.tree.toggle(this)}open(){this.tree.open(this)}openParents(){this.tree.openParents(this)}close(){this.tree.close(this)}submit(t){this.tree.submit(this,t)}reset(){this.tree.reset()}clone(){return new dn({...this})}edit(){return this.tree.edit(this)}}const fn="__REACT_ARBORIST_INTERNAL_ROOT__";function _s(e){function t(i,o,a){const s=e.accessId(i),l=new dn({tree:e,data:i,level:o,parent:a,id:s,children:null,isDraggable:e.isDraggable(i),rowIndex:null}),u=e.accessChildren(i);return u&&(l.children=u.map(d=>t(d,o+1,l))),l}const n=new dn({tree:e,id:fn,data:{id:fn},level:-1,parent:null,children:null,isDraggable:!0,rowIndex:null}),r=e.props.data??[];return n.children=r.map(i=>t(i,0,n)),n}const ji={open(e,t){return{type:"VISIBILITY_OPEN",id:e,filtered:t}},close(e,t){return{type:"VISIBILITY_CLOSE",id:e,filtered:t}},toggle(e,t){return{type:"VISIBILITY_TOGGLE",id:e,filtered:t}},clear(e){return{type:"VISIBILITY_CLEAR",filtered:e}}};function Cs(e={},t){if(t.type==="VISIBILITY_OPEN")return{...e,[t.id]:!0};if(t.type==="VISIBILITY_CLOSE")return{...e,[t.id]:!1};if(t.type==="VISIBILITY_TOGGLE"){const n=e[t.id];return{...e,[t.id]:!n}}else return t.type==="VISIBILITY_CLEAR"?{}:e}function uv(e={filtered:{},unfiltered:{}},t){return t.type.startsWith("VISIBILITY")?t.filtered?{...e,filtered:Cs(e.filtered,t)}:{...e,unfiltered:Cs(e.unfiltered,t)}:e}const hn=e=>({nodes:{open:{filtered:{},unfiltered:(e==null?void 0:e.initialOpenState)??{}},focus:{id:null,treeFocused:!1},edit:{id:null},drag:{id:null,idWillReceiveDrop:null},selection:{ids:new Set,anchor:null,mostRecent:null}},dnd:{cursor:{type:"none"},dragId:null,dragIds:[],parentId:null,index:-1}}),Re={clear:()=>({type:"SELECTION_CLEAR"}),only:e=>({type:"SELECTION_ONLY",id:mt(e)}),add:e=>({type:"SELECTION_ADD",ids:(Array.isArray(e)?e:[e]).map(mt)}),remove:e=>({type:"SELECTION_REMOVE",ids:(Array.isArray(e)?e:[e]).map(mt)}),set:e=>({type:"SELECTION_SET",ids:e}),mostRecent:e=>({type:"SELECTION_MOST_RECENT",id:e===null?null:mt(e)}),anchor:e=>({type:"SELECTION_ANCHOR",id:e===null?null:mt(e)})};function cv(e=hn().nodes.selection,t){const n=e.ids;switch(t.type){case"SELECTION_CLEAR":return{...e,ids:new Set};case"SELECTION_ONLY":return{...e,ids:new Set([t.id])};case"SELECTION_ADD":return t.ids.length===0?e:(t.ids.forEach(r=>n.add(r)),{...e,ids:new Set(n)});case"SELECTION_REMOVE":return t.ids.length===0?e:(t.ids.forEach(r=>n.delete(r)),{...e,ids:new Set(n)});case"SELECTION_SET":return{...e,ids:new Set(t.ids)};case"SELECTION_MOST_RECENT":return{...e,mostRecent:t.id};case"SELECTION_ANCHOR":return{...e,anchor:t.id};default:return e}}const Bt={cursor(e){return{type:"DND_CURSOR",cursor:e}},dragStart(e,t){return{type:"DND_DRAG_START",id:e,dragIds:t}},dragEnd(){return{type:"DND_DRAG_END"}},hovering(e,t){return{type:"DND_HOVERING",parentId:e,index:t}}};function dv(e=hn().dnd,t){switch(t.type){case"DND_CURSOR":return{...e,cursor:t.cursor};case"DND_DRAG_START":return{...e,dragId:t.id,dragIds:t.dragIds};case"DND_DRAG_END":return hn().dnd;case"DND_HOVERING":return{...e,parentId:t.parentId,index:t.index};default:return e}}const fv={position:"fixed",pointerEvents:"none",zIndex:100,left:0,top:0,width:"100%",height:"100%"},hv=e=>{if(!e)return{display:"none"};const{x:t,y:n}=e;return{transform:`translate(${t}px, ${n}px)`}},pv=e=>{if(!e)return{display:"none"};const{x:t,y:n}=e;return{transform:`translate(${t+10}px, ${n+10}px)`}};function ju({offset:e,mouse:t,id:n,dragIds:r,isDragging:i}){return vn(gv,{isDragging:i,children:[X(mv,{offset:e,children:X(yv,{id:n,dragIds:r})}),X(vv,{mouse:t,count:r.length})]})}const gv=c.memo(function(t){return t.isDragging?X("div",{style:fv,children:t.children}):null});function mv(e){return X("div",{className:"row preview",style:hv(e.offset),children:e.children})}function vv(e){const{count:t,mouse:n}=e;return t>1?X("div",{className:"selected-count",style:pv(n),children:t}):null}const yv=c.memo(function(t){const n=Ue(),r=n.get(t.id);return r?X(n.renderNode,{preview:!0,node:r,style:{paddingLeft:r.level*n.indent,opacity:.2,background:"transparent"},tree:n}):null});function bv(){const e=Ue(),n=Hm().cursor;if(!n||n.type!=="line")return null;const r=e.indent,i=e.rowHeight*n.index+(e.props.padding??e.props.paddingTop??0),o=r*n.level,a=e.renderCursor;return X(a,{top:i,left:o,indent:r})}const Ev=c.forwardRef(function(t,n){const{children:r,...i}=t,o=Ue();return vn("div",{ref:n,...i,onClick:a=>{a.currentTarget===a.target&&o.deselectAll()},children:[X(wv,{}),r]})}),wv=()=>{const e=Ue();return X("div",{style:{height:e.visibleNodes.length*e.rowHeight,width:"100%",position:"absolute",left:"0",right:"0"},children:X(bv,{})})},Sv=c.forwardRef(function({style:t,...n},r){const i=Ue(),o=i.props.padding??i.props.paddingTop??0,a=i.props.padding??i.props.paddingBottom??0;return X("div",{ref:r,style:{...t,height:`${parseFloat(t.height)+o+a}px`},...n})});function Ov(e){const t=Ue(),n=t.selectedIds,[r,i,o]=lm(()=>({canDrag:()=>e.isDraggable,type:"NODE",item:()=>{const a=t.isSelected(e.id)?Array.from(n):[e.id];return t.dispatch(Bt.dragStart(e.id,a)),{id:e.id}},end:()=>{t.hideCursor();let{parentId:a,index:s,dragIds:l}=t.state.dnd;t.canDrop()&&(Fu(t.props.onMove,{dragIds:l,parentId:a===fn?null:a,index:s,dragNodes:t.dragNodes,parentNode:t.get(a)}),t.open(a)),t.dispatch(Bt.dragEnd())}}),[n,e]);return c.useEffect(()=>{o(kh())},[o]),i}function Iv(e,t){const n=e.getBoundingClientRect(),r=t.x-Math.round(n.x),i=t.y-Math.round(n.y),o=n.height,a=i<o/2,s=!a,l=o/4,u=i>l&&i<o-l;return{x:r,inTopHalf:a,inBottomHalf:s,inMiddle:u,atTop:!u&&a,atBottom:!u&&s}}function _v(e,t,n,r){return e?e.isInternal?r.atTop?[t,e]:r.inMiddle?[e,e]:[e,n]:r.inTopHalf?[t,e]:[e,n]:[t,null]}function Cv(e,t,n,r){const i=Math.round(Math.max(0,e.x-r)/r);let o,a;return t?n?(a=t.level,o=n.level):(a=t.level,o=0):(a=0,o=0),$u(i,o,a)}function oi(e,t){return{parentId:e||null,index:t}}function ai(e,t){return{type:"line",index:e,level:t}}function xv(e){return{type:"highlight",id:e}}function Tv(e,t){var o;let n=e;for(;n.parent&&n.level>t;)n=n.parent;const r=((o=n.parent)==null?void 0:o.id)||null,i=Au(n)+1;return{parentId:r,index:i}}function Bu(e){var s;const t=Iv(e.element,e.offset),{node:n,nextNode:r,prevNode:i}=e,[o,a]=_v(n,i,r,t);if(n&&n.isInternal&&t.inMiddle)return{drop:oi(n.id,0),cursor:xv(n.id)};if(!o)return{drop:oi((s=a==null?void 0:a.parent)==null?void 0:s.id,0),cursor:ai(0,0)};if(ku(o)||Ru(o)){const l=Cv(t,o,a,e.indent);return{drop:Tv(o,l),cursor:ai(o.rowIndex+1,l)}}return{drop:oi(o==null?void 0:o.id,0),cursor:ai(o.rowIndex+1,o.level+1)}}function Dv(e,t){const n=Ue(),[r,i]=_u(()=>({accept:"NODE",canDrop:()=>n.canDrop(),hover:(o,a)=>{const s=a.getClientOffset();if(!e.current||!s)return;const{cursor:l,drop:u}=Bu({element:e.current,offset:s,indent:n.indent,node:t,prevNode:t.prev,nextNode:t.next});u&&n.dispatch(Bt.hovering(u.parentId,u.index)),a.canDrop()?l&&n.showCursor(l):n.hideCursor()},drop:(o,a)=>{if(!a.canDrop())return null}}),[t,e.current,n.props]);return i}function Pv(e){const t=Ue(),n=t.at(e);if(!n)throw new Error(`Could not find node for index: ${e}`);return c.useMemo(()=>{const r=n.clone();return t.visibleNodes[e]=r,r},[...Object.values(n.state),n])}const $v=g.memo(function({index:t,style:n}){Pu(),zm();const r=Ue(),i=Pv(t),o=c.useRef(null),a=Ov(i),s=Dv(o,i),l=c.useCallback(p=>{o.current=p,s(p)},[s]),u=r.indent*i.level,d=c.useMemo(()=>({paddingLeft:u}),[u]),f=c.useMemo(()=>({...n,top:parseFloat(n.top)+(r.props.padding??r.props.paddingTop??0)}),[n,r.props.padding,r.props.paddingTop]),h={role:"treeitem","aria-level":i.level,"aria-selected":i.isSelected,style:f,tabIndex:-1,className:r.props.rowClassName};c.useEffect(()=>{var p;!i.isEditing&&i.isFocused&&((p=o.current)==null||p.focus({preventScroll:!0}))},[i.isEditing,i.isFocused,o.current]);const v=r.renderNode,y=r.renderRow;return X(y,{node:i,innerRef:l,attrs:h,children:X(v,{node:i,tree:r,style:d,dragHandle:a})})});let si="",xs=null;function Ku(){Pu();const e=Ue();return X("div",{style:{height:e.height,width:e.width,minHeight:0,minWidth:0},onContextMenu:e.props.onContextMenu,onClick:e.props.onClick,tabIndex:0,onFocus:t=>{t.currentTarget.contains(t.relatedTarget)||e.onFocus()},onBlur:t=>{t.currentTarget.contains(t.relatedTarget)||e.onBlur()},onKeyDown:t=>{var r;if(e.isEditing)return;if(t.key==="Backspace"){if(!e.props.onDelete)return;const i=Array.from(e.selectedIds);if(i.length>1){let o=e.mostRecentNode;for(;o&&o.isSelected;)o=o.nextSibling;o||(o=e.lastNode),e.focus(o,{scroll:!1}),e.delete(Array.from(i))}else{const o=e.focusedNode;if(o){const a=o.nextSibling,s=o.parent;e.focus(a||s,{scroll:!1}),e.delete(o)}}return}if(t.key==="Tab"&&!t.shiftKey){t.preventDefault(),Lu(t.currentTarget);return}if(t.key==="Tab"&&t.shiftKey){t.preventDefault(),zu(t.currentTarget);return}if(t.key==="ArrowDown"){t.preventDefault();const i=e.nextNode;if(t.metaKey){e.select(e.focusedNode),e.activate(e.focusedNode);return}else if(!t.shiftKey||e.props.disableMultiSelection){e.focus(i);return}else{if(!i)return;const o=e.focusedNode;o?o.isSelected?e.selectContiguous(i):e.selectMulti(i):e.focus(e.firstNode);return}}if(t.key==="ArrowUp"){t.preventDefault();const i=e.prevNode;if(!t.shiftKey||e.props.disableMultiSelection){e.focus(i);return}else{if(!i)return;const o=e.focusedNode;o?o.isSelected?e.selectContiguous(i):e.selectMulti(i):e.focus(e.lastNode);return}}if(t.key==="ArrowRight"){const i=e.focusedNode;if(!i)return;i.isInternal&&i.isOpen?e.focus(e.nextNode):i.isInternal&&e.open(i.id);return}if(t.key==="ArrowLeft"){const i=e.focusedNode;if(!i||i.isRoot)return;i.isInternal&&i.isOpen?e.close(i.id):(r=i.parent)!=null&&r.isRoot||e.focus(i.parent);return}if(t.key==="a"&&t.metaKey&&!e.props.disableMultiSelection){t.preventDefault(),e.selectAll();return}if(t.key==="a"&&!t.metaKey&&e.props.onCreate){e.createLeaf();return}if(t.key==="A"&&!t.metaKey){if(!e.props.onCreate)return;e.createInternal();return}if(t.key==="Home"){t.preventDefault(),e.focus(e.firstNode);return}if(t.key==="End"){t.preventDefault(),e.focus(e.lastNode);return}if(t.key==="Enter"){const i=e.focusedNode;if(!i||!i.isEditable||!e.props.onRename)return;setTimeout(()=>{i&&e.edit(i)});return}if(t.key===" "){t.preventDefault();const i=e.focusedNode;if(!i)return;i.isLeaf?(i.select(),i.activate()):i.toggle();return}if(t.key==="*"){const i=e.focusedNode;if(!i)return;e.openSiblings(i);return}if(t.key==="PageUp"){t.preventDefault(),e.pageUp();return}t.key==="PageDown"&&(t.preventDefault(),e.pageDown()),clearTimeout(xs),si+=t.key,xs=setTimeout(()=>{si=""},600);const n=e.visibleNodes.find(i=>{const o=i.data.name;return typeof o=="string"?o.toLowerCase().startsWith(si):!1});n&&e.focus(n.id)},children:X(Lm,{className:e.props.className,outerRef:e.listEl,itemCount:e.visibleNodes.length,height:e.height,width:e.width,itemSize:e.rowHeight,overscanCount:e.overscanCount,itemKey:t=>{var n;return((n=e.visibleNodes[t])==null?void 0:n.id)||t},outerElementType:Ev,innerElementType:Sv,onScroll:e.props.onScroll,onItemsRendered:e.onItemsRendered.bind(e),ref:e.list,children:$v})})}function Ts(e){return e.isFiltered?Rv(e.root,e.isMatch.bind(e)):kv(e.root)}function kv(e){const t=[];function n(r){var i;r.level>=0&&t.push(r),r.isOpen&&((i=r.children)==null||i.forEach(n))}return n(e),t.forEach(Uu),t}function Rv(e,t){function n(i){let o=[];const a=!i.isRoot&&t(i);if(i.children)for(let s of i.children)o=o.concat(n(s));return o.length?(i.isRoot||o.unshift(i),o):a?[i]:[]}const r=n(e).filter(i=>{var o;return(o=i.parent)==null?void 0:o.isOpen});return r.forEach(Uu),r}function Uu(e,t){e.rowIndex=t}const Ds=e=>e.reduce((t,n,r)=>(t[n.id]=r,t),{}),{safeRun:Ae,identify:dt,identifyNull:at}=ie;class Ht{constructor(t,n,r,i){this.store=t,this.props=n,this.list=r,this.listEl=i,this.visibleStartIndex=0,this.visibleStopIndex=0,this.root=_s(this),this.visibleNodes=Ts(this),this.idToIndex=Ds(this.visibleNodes)}update(t){this.props=t,this.root=_s(this),this.visibleNodes=Ts(this),this.idToIndex=Ds(this.visibleNodes)}dispatch(t){return this.store.dispatch(t)}get state(){return this.store.getState()}get openState(){return this.state.nodes.open.unfiltered}get width(){return this.props.width??300}get height(){return this.props.height??500}get indent(){return this.props.indent??24}get rowHeight(){return this.props.rowHeight??24}get overscanCount(){return this.props.overscanCount??1}get searchTerm(){return(this.props.searchTerm||"").trim()}get matchFn(){const t=this.props.searchMatch??((n,r)=>JSON.stringify(Object.values(n.data)).toLocaleLowerCase().includes(r.toLocaleLowerCase()));return n=>t(n,this.searchTerm)}accessChildren(t){const n=this.props.childrenAccessor||"children";return ie.access(t,n)??null}accessId(t){const n=this.props.idAccessor||"id",r=ie.access(t,n);if(!r)throw new Error("Data must contain an 'id' property or props.idAccessor must return a string");return r}get firstNode(){return this.visibleNodes[0]??null}get lastNode(){return this.visibleNodes[this.visibleNodes.length-1]??null}get focusedNode(){return this.get(this.state.nodes.focus.id)??null}get mostRecentNode(){return this.get(this.state.nodes.selection.mostRecent)??null}get nextNode(){const t=this.indexOf(this.focusedNode);return t===null?null:this.at(t+1)}get prevNode(){const t=this.indexOf(this.focusedNode);return t===null?null:this.at(t-1)}get(t){return t&&t in this.idToIndex&&this.visibleNodes[this.idToIndex[t]]||null}at(t){return this.visibleNodes[t]||null}nodesBetween(t,n){if(t===null||n===null)return[];const r=this.indexOf(t)??0,i=this.indexOf(n);if(i===null)return[];const o=Math.min(r,i),a=Math.max(r,i);return this.visibleNodes.slice(o,a+1)}indexOf(t){const n=ie.identifyNull(t);return n?this.idToIndex[n]:null}get editingId(){return this.state.nodes.edit.id}createInternal(){return this.create({type:"internal"})}createLeaf(){return this.create({type:"leaf"})}async create(t={}){const n=t.parentId===void 0?ie.getInsertParentId(this):t.parentId,r=t.index??ie.getInsertIndex(this),i=t.type??"leaf",o=await Ae(this.props.onCreate,{type:i,parentId:n,index:r,parentNode:this.get(n)});o&&(this.focus(o),setTimeout(()=>{this.edit(o).then(()=>{this.select(o),this.activate(o)})}))}async delete(t){if(!t)return;const r=(Array.isArray(t)?t:[t]).map(dt),i=r.map(o=>this.get(o)).filter(o=>!!o);await Ae(this.props.onDelete,{nodes:i,ids:r})}edit(t){const n=dt(t);return this.resolveEdit({cancelled:!0}),this.scrollTo(n),this.dispatch(ii(n)),new Promise(r=>{Ht.editPromise=r})}async submit(t,n){if(!t)return;const r=dt(t);await Ae(this.props.onRename,{id:r,name:n,node:this.get(r)}),this.dispatch(ii(null)),this.resolveEdit({cancelled:!1,value:n}),setTimeout(()=>this.onFocus())}reset(){this.dispatch(ii(null)),this.resolveEdit({cancelled:!0}),setTimeout(()=>this.onFocus())}activate(t){const n=this.get(at(t));n&&Ae(this.props.onActivate,n)}resolveEdit(t){const n=Ht.editPromise;n&&n(t),Ht.editPromise=null}get selectedIds(){return this.state.nodes.selection.ids}get selectedNodes(){let t=[];for(let n of Array.from(this.selectedIds)){const r=this.get(n);r&&t.push(r)}return t}focus(t,n={}){t&&(this.props.selectionFollowsFocus?this.select(t):(this.dispatch(kt(dt(t))),n.scroll!==!1&&this.scrollTo(t),this.focusedNode&&Ae(this.props.onFocus,this.focusedNode)))}pageUp(){var o;const t=this.visibleStartIndex,r=this.visibleStopIndex-t;let i=((o=this.focusedNode)==null?void 0:o.rowIndex)??0;i>t?i=t:i=Math.max(t-r,0),this.focus(this.at(i))}pageDown(){var o;const t=this.visibleStartIndex,n=this.visibleStopIndex,r=n-t;let i=((o=this.focusedNode)==null?void 0:o.rowIndex)??0;i<n?i=n:i=Math.min(i+r,this.visibleNodes.length-1),this.focus(this.at(i))}select(t,n={}){if(!t)return;const r=dt(t);this.dispatch(kt(r)),this.dispatch(Re.only(r)),this.dispatch(Re.anchor(r)),this.dispatch(Re.mostRecent(r)),this.scrollTo(r,n.align),this.focusedNode&&Ae(this.props.onFocus,this.focusedNode),Ae(this.props.onSelect,this.selectedNodes)}deselect(t){if(!t)return;const n=dt(t);this.dispatch(Re.remove(n))}selectMulti(t){const n=this.get(at(t));n&&(this.dispatch(kt(n.id)),this.dispatch(Re.add(n.id)),this.dispatch(Re.anchor(n.id)),this.dispatch(Re.mostRecent(n.id)),this.scrollTo(n),this.focusedNode&&Ae(this.props.onFocus,this.focusedNode),Ae(this.props.onSelect,this.selectedNodes))}selectContiguous(t){if(!t)return;const n=dt(t),{anchor:r,mostRecent:i}=this.state.nodes.selection;this.dispatch(kt(n)),this.dispatch(Re.remove(this.nodesBetween(r,i))),this.dispatch(Re.add(this.nodesBetween(r,at(n)))),this.dispatch(Re.mostRecent(n)),this.scrollTo(n),this.focusedNode&&Ae(this.props.onFocus,this.focusedNode),Ae(this.props.onSelect,this.selectedNodes)}deselectAll(){this.dispatch(Re.clear()),this.dispatch(Re.anchor(null)),this.dispatch(Re.mostRecent(null)),Ae(this.props.onSelect,this.selectedNodes)}selectAll(){var t;this.dispatch(Re.set(new Set(Object.keys(this.idToIndex)))),this.dispatch(kt((t=this.lastNode)==null?void 0:t.id)),this.dispatch(Re.anchor(this.firstNode)),this.dispatch(Re.mostRecent(this.lastNode)),this.focusedNode&&Ae(this.props.onFocus,this.focusedNode),Ae(this.props.onSelect,this.selectedNodes)}get cursorParentId(){const{cursor:t}=this.state.dnd;switch(t.type){case"highlight":return t.id;default:return null}}get cursorOverFolder(){return this.state.dnd.cursor.type==="highlight"}get dragNodes(){return this.state.dnd.dragIds.map(t=>this.get(t)).filter(t=>!!t)}canDrop(){if(this.isFiltered)return!1;const t=this.get(this.state.dnd.parentId)??this.root,n=this.dragNodes,r=this.props.disableDrop;for(const i of n)if(!i||!t||i.isInternal&&ie.isDecendent(t,i))return!1;return typeof r=="function"?r({parentNode:t,dragNodes:this.dragNodes,index:this.state.dnd.index}):typeof r=="string"?!!t.data[r]:typeof r=="boolean"?r:!0}hideCursor(){this.dispatch(Bt.cursor({type:"none"}))}showCursor(t){this.dispatch(Bt.cursor(t))}open(t){const n=at(t);n&&(this.isOpen(n)||(this.dispatch(ji.open(n,this.isFiltered)),Ae(this.props.onToggle,n)))}close(t){const n=at(t);n&&this.isOpen(n)&&(this.dispatch(ji.close(n,this.isFiltered)),Ae(this.props.onToggle,n))}toggle(t){const n=at(t);if(n)return this.isOpen(n)?this.close(n):this.open(n)}openParents(t){const n=at(t);if(!n)return;const r=ie.dfs(this.root,n);let i=r==null?void 0:r.parent;for(;i;)this.open(i.id),i=i.parent}openSiblings(t){const n=t.parent;if(!n)this.toggle(t.id);else if(n.children){const r=t.isOpen;for(let i of n.children)i.isInternal&&(r?this.close(i.id):this.open(i.id));this.scrollTo(this.focusedNode)}}openAll(){ie.walk(this.root,t=>{t.isInternal&&t.open()})}closeAll(){ie.walk(this.root,t=>{t.isInternal&&t.close()})}scrollTo(t,n="smart"){if(!t)return;const r=dt(t);return this.openParents(r),ie.waitFor(()=>r in this.idToIndex).then(()=>{var o;const i=this.idToIndex[r];i!==void 0&&((o=this.list.current)==null||o.scrollToItem(i,n))}).catch(()=>{})}get isEditing(){return this.state.nodes.edit.id!==null}get isFiltered(){var t;return!!((t=this.props.searchTerm)!=null&&t.trim())}get hasFocus(){return this.state.nodes.focus.treeFocused}get hasNoSelection(){return this.state.nodes.selection.ids.size===0}get hasOneSelection(){return this.state.nodes.selection.ids.size===1}get hasMultipleSelections(){return this.state.nodes.selection.ids.size>1}isSelected(t){return t?this.state.nodes.selection.ids.has(t):!1}isOpen(t){if(!t)return!1;if(t===fn)return!0;const n=this.props.openByDefault??!0;return this.isFiltered?this.state.nodes.open.filtered[t]??!0:this.state.nodes.open.unfiltered[t]??n}isEditable(t){const n=this.props.disableEdit||(()=>!1);return!ie.access(t,n)}isDraggable(t){const n=this.props.disableDrag||(()=>!1);return!ie.access(t,n)}isDragging(t){const n=at(t);return n?this.state.nodes.drag.id===n:!1}isFocused(t){return this.hasFocus&&this.state.nodes.focus.id===t}isMatch(t){return this.matchFn(t)}willReceiveDrop(t){const n=at(t);return n?n===this.state.nodes.drag.idWillReceiveDrop:!1}onFocus(){const t=this.focusedNode||this.firstNode;t&&this.dispatch(kt(t.id))}onBlur(){this.dispatch(av())}onItemsRendered(t){this.visibleStartIndex=t.visibleStartIndex,this.visibleStopIndex=t.visibleStopIndex}get renderContainer(){return this.props.renderContainer||Ku}get renderRow(){return this.props.renderRow||tv}get renderNode(){return this.props.children||nv}get renderDragPreview(){return this.props.renderDragPreview||ju}get renderCursor(){return this.props.renderCursor||ev}}function Av(e={id:null,idWillReceiveDrop:null},t){switch(t.type){case"DND_DRAG_START":return{...e,id:t.id};case"DND_DRAG_END":return{...e,id:null};case"DND_CURSOR":const n=t.cursor;return n.type==="highlight"&&n.id!==e.idWillReceiveDrop?{...e,idWillReceiveDrop:n.id}:n.type!=="highlight"&&e.idWillReceiveDrop!==null?{...e,idWillReceiveDrop:null}:e;default:return e}}const Mv=Ba({nodes:Ba({focus:sv,edit:ov,open:uv,selection:cv,drag:Av}),dnd:dv}),Nv=hn();function Lv({treeProps:e,imperativeHandle:t,children:n}){const r=c.useRef(null),i=c.useRef(null),o=c.useRef($o(Mv,hn(e))),a=Ai.useSyncExternalStore(o.current.subscribe,o.current.getState,()=>Nv),s=c.useMemo(()=>new Ht(o.current,e,r,i),[]),l=c.useRef(0);return c.useMemo(()=>{l.current+=1,s.update(e)},[...Object.values(e),a.nodes.open]),c.useImperativeHandle(t,()=>s),c.useEffect(()=>{s.props.selection?s.select(s.props.selection):s.deselectAll()},[s.props.selection]),c.useEffect(()=>{s.props.searchTerm||o.current.dispatch(ji.clear(!0))},[s.props.searchTerm]),X(Cu.Provider,{value:s,children:X(Du.Provider,{value:l.current,children:X(xu.Provider,{value:a.nodes,children:X(Tu.Provider,{value:a.dnd,children:X(cg,{backend:Rh,options:{rootElement:s.props.dndRootElement||void 0},children:n})})})})})}function zv(){const e=Ue(),[,t]=_u(()=>({accept:"NODE",canDrop:(n,r)=>r.isOver({shallow:!0})?e.canDrop():!1,hover:(n,r)=>{if(!r.isOver({shallow:!0}))return;const i=r.getClientOffset();if(!e.listEl.current||!i)return;const{cursor:o,drop:a}=Bu({element:e.listEl.current,offset:i,indent:e.indent,node:null,prevNode:e.visibleNodes[e.visibleNodes.length-1],nextNode:null});a&&e.dispatch(Bt.hovering(a.parentId,a.index)),r.canDrop()?o&&e.showCursor(o):e.hideCursor()}}),[e]);t(e.listEl)}function Hv(e){return zv(),e.children}function Fv(){const t=Ue().props.renderContainer||Ku;return X(Pl,{children:X(t,{})})}function jv(){const e=Ue(),{offset:t,mouse:n,item:r,isDragging:i}=Tm(a=>({offset:a.getSourceClientOffset(),mouse:a.getClientOffset(),item:a.getItem(),isDragging:a.isDragging()})),o=e.props.renderDragPreview||ju;return X(o,{offset:t,mouse:n,id:(r==null?void 0:r.id)||null,dragIds:(r==null?void 0:r.dragIds)||[],isDragging:i})}var Bv={};we(Bv,"useSimpleTree",()=>Yu);var Kv={};we(Kv,"SimpleTree",()=>Wu);class Wu{constructor(t){this.root=Uv(t)}get data(){var t;return((t=this.root.children)==null?void 0:t.map(n=>n.data))??[]}create(t){const n=t.parentId?this.find(t.parentId):this.root;if(!n)return null;n.addChild(t.data,t.index)}move(t){const n=this.find(t.id),r=t.parentId?this.find(t.parentId):this.root;!n||!r||(r.addChild(n.data,t.index),n.drop())}update(t){const n=this.find(t.id);n&&n.update(t.changes)}drop(t){const n=this.find(t.id);n&&n.drop()}find(t,n=this.root){if(!n)return null;if(n.id===t)return n;if(n.children){for(let r of n.children){const i=this.find(t,r);if(i)return i}return null}return null}}function Uv(e){const t=new qu({id:"ROOT"},null);return t.children=e.map(n=>No(n,t)),t}function No(e,t){const n=new qu(e,t);return e.children&&(n.children=e.children.map(r=>No(r,n))),n}class qu{constructor(t,n){this.data=t,this.parent=n,this.id=t.id}hasParent(){return!!this.parent}get childIndex(){return this.hasParent()?this.parent.children.indexOf(this):-1}addChild(t,n){const r=No(t,this);this.children=this.children??[],this.children.splice(n,0,r),this.data.children=this.data.children??[],this.data.children.splice(n,0,t)}removeChild(t){var n,r;(n=this.children)==null||n.splice(t,1),(r=this.data.children)==null||r.splice(t,1)}update(t){if(this.hasParent()){const n=this.childIndex;this.parent.addChild({...this.data,...t},n),this.drop()}}drop(){this.hasParent()&&this.parent.removeChild(this.childIndex)}}let Wv=0;function Yu(e){const[t,n]=c.useState(e),r=c.useMemo(()=>new Wu(t),[t]);return[t,{onMove:u=>{for(const d of u.dragIds)r.move({id:d,parentId:u.parentId,index:u.index});n(r.data)},onRename:({name:u,id:d})=>{r.update({id:d,changes:{name:u}}),n(r.data)},onCreate:({parentId:u,index:d,type:f})=>{const h={id:`simple-tree-id-${Wv++}`,name:""};return f==="internal"&&(h.children=[]),r.create({parentId:u,index:d,data:h}),n(r.data),h},onDelete:u=>{u.ids.forEach(d=>r.drop({id:d})),n(r.data)}}]}function qv(e){if(e.initialData&&e.data)throw new Error("React Arborist Tree => Provide either a data or initialData prop, but not both.");if(e.initialData&&(e.onCreate||e.onDelete||e.onMove||e.onRename))throw new Error(`React Arborist Tree => You passed the initialData prop along with a data handler.
Use the data prop if you want to provide your own handlers.`);if(e.initialData){const[t,n]=Yu(e.initialData);return{...e,...n,data:t}}else return e}function Yv(e,t){const n=qv(e);return vn(Lv,{treeProps:n,imperativeHandle:t,children:[X(Hv,{children:X(Fv,{})}),X(jv,{})]})}const Xv=c.forwardRef(Yv),Qv="_flex_x6xd1_1";const Vv=Q("div",{height:"100%",width:"100%"});function Xu({activeId:e,children:t,data:n}){const[r,i]=Qf();return c.createElement(Vv,{ref:r},c.createElement(Xv,{initialData:n,selection:e,rowHeight:Gn.height,width:i.width,height:i.height,indent:uo,disableDrag:!0,disableDrop:!0,selectionFollowsFocus:!0,rowClassName:Qv,padding:8},t))}const Qu=(e,{isWorkbench:t})=>{let n=e.next;for(;n!=null&&n.next&&!(n.data.type!=="tree"||!t&&n.data.children.length>0);)n=n.next;return!n||n.data.type==="tree"?"":t?n.data.story.type==="basic"?n.data.story.slug:`docs/${n.data.story.slug}`:n.data.story.type==="basic"?"?":`${n.data.story.slug}`},Vu=()=>{const e=ot(),t=bn(),r=se.useLocation().pathname.includes("/canvas/");return c.createElement(Xu,{data:yd,activeId:e||t},({node:i,style:o})=>{const a={...o,paddingLeft:o.paddingLeft+uo},s=bo(i.data.name);if(i.data.type==="story"){const d=i.data.story.slug,f=d===i.tree.props.selection;return c.createElement(Gn,{key:d,style:a,"aria-selected":f,as:se.Link,to:r?`/canvas/workbench/${d}`:d,onClick:cn},c.createElement(Rl,null,f&&c.createElement(Al,null)),s)}const l=i.tree.props.selection&&i.data.type==="tree"?bd(i.data,i.tree.props.selection):!1,u=Qu(i,{isWorkbench:!0});return c.createElement(Ml,{as:se.Link,to:r?`/canvas/workbench/${u}`:u,style:a,"data-active":l},c.createElement(vi,{as:"button",isOpen:i.isOpen,onClick:d=>{i.toggle(),d.preventDefault()}}),s)})},Lo=()=>{const e=ot(),t=e?St[e]:void 0,{data:n}=vo(`params-${e}`,async()=>{var r,i,o,a,s,l,u;const d=await tu(t==null?void 0:t.meta),f=typeof((i=(r=t==null?void 0:t.component)===null||r===void 0?void 0:r._payload)===null||i===void 0?void 0:i._result)=="function"?await((a=(o=t==null?void 0:t.component)===null||o===void 0?void 0:o._payload)===null||a===void 0?void 0:a._result()):await((l=(s=t==null?void 0:t.component)===null||s===void 0?void 0:s._payload)===null||l===void 0?void 0:l._result);return{...d==null?void 0:d.parameters,...(u=f==null?void 0:f.default)===null||u===void 0?void 0:u.parameters}},{suspense:!1});return n},Gv=Q(Nl.Root,{display:"flex",alignItems:"center",justifyContent:"center",gap:"$1",height:"$12",flexShrink:0}),ur=Q(Nl.Root,{flex:1,display:"flex",alignItems:"center",justifyContent:"flex-end",gap:"$1",height:"$12",flexShrink:0}),Zv=g.forwardRef((e,t)=>{const[n,r]=c.useState(so()),i=n==="dark"?"Activate light mode":"Activate dark mode",o=g.useCallback(()=>{const a=n==="light"?"dark":"light";r(a),ed(a),document.body.classList.toggle(Vn),document.body.classList.toggle(gi),document.body.classList.toggle(mi)},[n]);return g.createElement(an,{message:i},g.createElement(sn,{ref:t,...e,onClick:o},n==="dark"?g.createElement(Mf,null):g.createElement(jf,null)))}),Dr=c.lazy(()=>Fe(()=>import("./toolbar-9abcbb3e.js"),["assets/toolbar-9abcbb3e.js","assets/jsx-runtime-45b8ed70.js","assets/index-2769b282.js","assets/index-49f43349.js"]).then(e=>(e.Name&&(e.default.panelTitle=e.Name),e)));Dr.componentName="GithubRepo";Dr.displayName=c.lazy(()=>Fe(()=>import("./toolbar-9abcbb3e.js"),["assets/toolbar-9abcbb3e.js","assets/jsx-runtime-45b8ed70.js","assets/index-2769b282.js","assets/index-49f43349.js"]).then(e=>({default:e.Name||(()=>"GithubRepo")})));Dr.scope="global";const Pr=c.lazy(()=>Fe(()=>import("./toolbar-797aeb3e.js"),["assets/toolbar-797aeb3e.js","assets/jsx-runtime-45b8ed70.js","assets/index-2769b282.js","assets/index-49f43349.js"]).then(e=>(e.Name&&(e.default.panelTitle=e.Name),e)));Pr.componentName="zoom";Pr.displayName=c.lazy(()=>Fe(()=>import("./toolbar-797aeb3e.js"),["assets/toolbar-797aeb3e.js","assets/jsx-runtime-45b8ed70.js","assets/index-2769b282.js","assets/index-49f43349.js"]).then(e=>({default:e.Name||(()=>"zoom")})));Pr.scope="story";const $r=c.lazy(()=>Fe(()=>import("./toolbar-c6ead71c.js"),["assets/toolbar-c6ead71c.js","assets/jsx-runtime-45b8ed70.js","assets/index-2769b282.js","assets/index-49f43349.js","assets/useParams-21d99adc.js"]).then(e=>(e.Name&&(e.default.panelTitle=e.Name),e)));$r.componentName="measure";$r.displayName=c.lazy(()=>Fe(()=>import("./toolbar-c6ead71c.js"),["assets/toolbar-c6ead71c.js","assets/jsx-runtime-45b8ed70.js","assets/index-2769b282.js","assets/index-49f43349.js","assets/useParams-21d99adc.js"]).then(e=>({default:e.Name||(()=>"measure")})));$r.scope="story";const Jv=[Dr,Pr,$r],kr=c.lazy(()=>Fe(()=>import("./panel-8c7814ed.js"),["assets/panel-8c7814ed.js","assets/jsx-runtime-45b8ed70.js","assets/useParams-21d99adc.js","assets/index-2769b282.js","assets/index-49f43349.js"]).then(e=>(e.Name&&(e.default.panelTitle=e.Name),e)));kr.componentName="Description";kr.displayName=c.lazy(()=>Fe(()=>import("./panel-8c7814ed.js"),["assets/panel-8c7814ed.js","assets/jsx-runtime-45b8ed70.js","assets/useParams-21d99adc.js","assets/index-2769b282.js","assets/index-49f43349.js"]).then(e=>({default:e.Name||(()=>"Description")})));kr.paramKey="story-description-panel";const Rr=c.lazy(()=>Fe(()=>import("./panel-5f315a40.js"),["assets/panel-5f315a40.js","assets/jsx-runtime-45b8ed70.js","assets/useParams-21d99adc.js","assets/index-2769b282.js","assets/index-49f43349.js","assets/index-c00c2ae7.js","assets/external-link-34072cc7.js","assets/plus-76396f80.js"]).then(e=>(e.Name&&(e.default.panelTitle=e.Name),e)));Rr.componentName="Properties";Rr.displayName=c.lazy(()=>Fe(()=>import("./panel-5f315a40.js"),["assets/panel-5f315a40.js","assets/jsx-runtime-45b8ed70.js","assets/useParams-21d99adc.js","assets/index-2769b282.js","assets/index-49f43349.js","assets/index-c00c2ae7.js","assets/external-link-34072cc7.js","assets/plus-76396f80.js"]).then(e=>({default:e.Name||(()=>"Properties")})));Rr.paramKey="props-panel";const Ar=c.lazy(()=>Fe(()=>import("./panel-435ac851.js"),["assets/panel-435ac851.js","assets/jsx-runtime-45b8ed70.js","assets/useParams-21d99adc.js","assets/index-2769b282.js","assets/index-49f43349.js","assets/index-c00c2ae7.js","assets/external-link-34072cc7.js","assets/plus-76396f80.js"]).then(e=>(e.Name&&(e.default.panelTitle=e.Name),e)));Ar.componentName="Source";Ar.displayName=c.lazy(()=>Fe(()=>import("./panel-435ac851.js"),["assets/panel-435ac851.js","assets/jsx-runtime-45b8ed70.js","assets/useParams-21d99adc.js","assets/index-2769b282.js","assets/index-49f43349.js","assets/index-c00c2ae7.js","assets/external-link-34072cc7.js","assets/plus-76396f80.js"]).then(e=>({default:e.Name||(()=>"Source")})));Ar.paramKey="source-panel";const Mr=c.lazy(()=>Fe(()=>import("./panel-da1b883e.js"),["assets/panel-da1b883e.js","assets/jsx-runtime-45b8ed70.js","assets/index-2769b282.js","assets/index-49f43349.js","assets/index-86beff25.js","assets/useParams-21d99adc.js","assets/panel-9400be78.css"]).then(e=>(e.Name&&(e.default.panelTitle=e.Name),e)));Mr.componentName="Actions";Mr.displayName=c.lazy(()=>Fe(()=>import("./panel-da1b883e.js"),["assets/panel-da1b883e.js","assets/jsx-runtime-45b8ed70.js","assets/index-2769b282.js","assets/index-49f43349.js","assets/index-86beff25.js","assets/useParams-21d99adc.js","assets/panel-9400be78.css"]).then(e=>({default:e.Name||(()=>"Actions")})));Mr.paramKey="actions-panel";const Bi=[kr,Rr,Ar,Mr],Gu=()=>{const e=Lo(),t=Jv.filter(n=>{const r=n.paramKey?e==null?void 0:e[n.paramKey]:void 0;return!(n.hideWithoutParams&&!r||r===!1)});return{storyControls:t.filter(n=>n.scope==="story"),globalControls:t.filter(n=>n.scope==="global")}},Zu=()=>{const{globalControls:e}=Gu(),t=ho();return g.createElement(po.Provider,{value:t},g.createElement(c.Suspense,{fallback:g.createElement(Ee,{size:5})},e.map(n=>g.createElement(n,{key:n.componentName,storyPreviewId:Yt}))),g.createElement(Zv,null))},ey=()=>{const e=c.useContext(Or),{storyControls:t}=Gu(),n=Lo();return g.createElement(po.Provider,{value:n},g.createElement(c.Suspense,{fallback:g.createElement(Ee,{size:5})},t.map(r=>g.createElement(r,{key:r.componentName,storyPreviewId:e}))))},ty=()=>{const e=ot();return g.createElement(g.Fragment,null,g.createElement(ur,null),e&&g.createElement(Gv,null,g.createElement(c.Suspense,{fallback:g.createElement(Ee,{size:5})},g.createElement(ey,null))),g.createElement(ur,null,g.createElement(c.Suspense,{fallback:g.createElement(Ee,{size:5})},g.createElement(Zu,null))))},ny=Q("div",{position:"relative",height:"100%",display:"flex",flexDirection:"column"}),ry=()=>{const e=Lo();return g.createElement(po.Provider,{value:e},g.createElement(wr,{id:Yt},g.createElement(ny,null,g.createElement(se.Outlet,null))))},iy=()=>{const e=yn();return g.createElement(Or.Provider,{value:e},g.createElement(Ll,null,g.createElement(zl,null,lo.title),g.createElement(g.Suspense,{fallback:g.createElement(Ee,{delay:2e3,size:5})},g.createElement(ty,null))),g.createElement(yr,null,g.createElement(br,null,g.createElement(Er,null,g.createElement(g.Suspense,{fallback:g.createElement(Ee,{delay:2e3,size:8})},g.createElement(Vu,null)))),g.createElement(g.Suspense,{fallback:g.createElement(Ee,{delay:2e3,size:8})},g.createElement(ry,null))))};var oy=/\b(?:an?d?|a[st]|because|but|by|en|for|i[fn]|neither|nor|o[fnr]|only|over|per|so|some|tha[tn]|the|to|up|upon|vs?\.?|versus|via|when|with|without|yet)\b/i,ay=/[^\s:–—-]+|./g,sy=/\s/,ly=/.(?=[A-Z]|\..)/,uy=/[A-Za-z0-9\u00C0-\u00FF]/;function Ju(e){for(var t="",n;(n=ay.exec(e))!==null;){var r=n[0],i=n.index;if(!ly.test(r)&&(!oy.test(r)||i===0||i+r.length===e.length)&&(e.charAt(i+r.length)!==":"||sy.test(e.charAt(i+r.length+1)))){t+=r.replace(uy,function(o){return o.toUpperCase()});continue}t+=r}return t}function cy({node:e,style:t}){var n;const r=Qu(e,{isWorkbench:!1}),i=Ju(e.data.name),o=c.useMemo(()=>Object.values(St).some(l=>Sr(l.grouping)===e.data.id),[e.data.id]),a={...t,paddingLeft:t.paddingLeft+uo};if(e.data.type==="tree"&&e.data.children.length===0||e.data.type==="story"&&e.data.story.type==="mdx"){const l=e.data.id===e.tree.props.selection;return c.createElement(Gn,{style:a,as:se.Link,to:e.data.id,"aria-selected":l,onClick:cn},c.createElement(Rl,null,l&&c.createElement(Al,null)),i)}const s=(n=e.tree.props.selection)===null||n===void 0?void 0:n.includes(e.data.id);return o?c.createElement(Gn,{style:a,as:se.Link,to:e.data.id,"data-active":s,onClick:cn},c.createElement(vi,{as:"button",isOpen:e.isOpen,onClick:l=>{e.toggle(),l.preventDefault()}}),i):c.createElement(Ml,{style:a,"data-active":s,as:se.Link,to:r},c.createElement(vi,{as:"button",isOpen:e.isOpen,onClick:l=>{e.toggle(),l.preventDefault()}}),i)}function ec(e){const t=[];for(const n of e){if(n.type==="story"){n.story.type==="mdx"&&t.push(n);continue}const r=ec(n.children);t.push({...n,children:r})}return t}const tc=()=>{const e=bn();return c.createElement(Xu,{data:ec(je),activeId:e},cy)},dy=Q("div",{flex:1}),zo=()=>g.createElement(Ll,null,g.createElement(zl,null,lo.title),g.createElement(ur,null),g.createElement(dy,null),g.createElement(ur,null,g.createElement(c.Suspense,{fallback:g.createElement(Ee,{size:5})},g.createElement(Zu,null)))),fy=()=>g.createElement(g.Fragment,null,g.createElement(zo,null),g.createElement(yr,null,g.createElement(br,null,g.createElement(Er,null,g.createElement(g.Suspense,{fallback:g.createElement(Ee,{delay:2e3})},g.createElement(tc,null)))),g.createElement(wr,{id:Yt},g.createElement(se.Outlet,null)))),hy=Q("div",{display:"flex",flexDirection:"column",justifyContent:"flex-end",flex:1,mt:16}),py=Q("div",{display:"flex",alignItems:"center",borderTopWidth:"$sm",borderTopStyle:"solid",borderTopColor:"$gray7",pt:10}),gy=Q("div",{flex:1}),Ps=Q("div",{display:"flex",alignItems:"center",justifyContent:"center",height:"$10",width:"$10"}),$s=Q(se.Link,{py:2,px:4,borderRadius:"$round",color:"$gray11",display:"flex",alignItems:"center",gap:"$1","&:hover":{backgroundColor:"$gray3"}}),my=Q("div",{text:"xs",color:"$gray10"}),vy=Q("div",{display:"flex",flexDirection:"column",gap:"$1"});function ks(e,t){return[e.substring(0,t),e.substring(t+1)]}function Rs({story:e,renderStoryNames:t}){let n,r;return e.type==="basic"?t?(n=e.grouping,r=e.title):[n,r]=ks(e.grouping,e.grouping.lastIndexOf("/")):[n,r]=ks(e.title,e.title.lastIndexOf("/")),g.createElement(vy,null,n&&g.createElement(my,null,As(n)),g.createElement("div",null,As(r)))}function As(e){return e.replace(/\//g," / ")}function nc({current:e}){const t=Wl(),{prev:n,next:r}=g.useMemo(()=>({prev:Ed(je,e),next:wd(je,e,!t)}),[je,t]),i=g.useCallback(o=>t?o.type==="mdx"?`/workbench/docs/${o.slug}`:`/workbench/${o.slug}`:o.type==="mdx"?`/docs/${o.slug}`:`/docs/${Sr(o.grouping)}`,[t]);return g.createElement(hy,null,g.createElement(py,null,n&&g.createElement($s,{to:i(n),style:{paddingLeft:4},onClick:cn},g.createElement(Ps,null,g.createElement(ua,{style:{transform:"rotate(180deg)"}})),g.createElement(Rs,{renderStoryNames:t,story:n})),g.createElement(gy,null),r&&g.createElement($s,{to:i(r),style:{paddingRight:4,textAlign:"right"},onClick:cn},g.createElement(Rs,{renderStoryNames:t,story:r}),g.createElement(Ps,null,g.createElement(ua,null)))))}function Ho(e){const t=se.useLocation();c.useEffect(()=>{const n=document.getElementById(Yt);if(!n)return;function r(a){var s,l,u,d;a&&((l=(s=e.current)===null||s===void 0?void 0:s.querySelectorAll("a"))===null||l===void 0||l.forEach(f=>f.removeAttribute("aria-current")),(d=(u=e.current)===null||u===void 0?void 0:u.querySelector(`[href="#${a}"]`))===null||d===void 0||d.setAttribute("aria-current","true"))}const i=new IntersectionObserver(a=>{a.map(s=>{s.isIntersecting&&s.intersectionRect.top<100&&r(s.target.getAttribute("id"))})},{threshold:[.5,1],rootMargin:"200px 0px"});n.querySelectorAll(ar).forEach(a=>{i.observe(a)});const o=new MutationObserver(a=>{a.map(s=>{s.addedNodes.forEach(l=>{if(!(l instanceof HTMLElement))return;l.querySelectorAll(ar).forEach(d=>{i.observe(d)})})})});return o.observe(n,{childList:!0,subtree:!0}),()=>{i.disconnect(),o.disconnect()}},[t,e])}function rc({entry:e}){return g.createElement(g.Fragment,null,g.createElement(De.Item,null,g.createElement(De.Link,{href:`#${e.attributes.id}`},e.value)),e.children.length>0&&g.createElement(De.Group,null,e.children.map(t=>g.createElement(rc,{key:t.value+t.depth,entry:t}))))}function ic(e,t){return Array.from(e.querySelectorAll(`.toc-level-${t} > .toc-item`)).map(r=>{const i=r.querySelector("a"),o=i.getAttribute("href");let a="";return o&&(a=new URL(o,window.location.href).hash.replace("#","")),{value:i.text,attributes:{id:a},children:ic(r,t+1),depth:t}})}function yy(){const e=g.useRef(null),[t,n]=g.useState([]),r=se.useLocation();return Ho(e),g.useEffect(()=>{const i=document.querySelector("main");if(!i)return;function o(s){const l=Array.from(s.querySelectorAll("nav.toc"));for(const u of l){const d=ic(u,1);if(d.length){n(d);break}}}const a=new MutationObserver(s=>{o(s[0].target)});return a.observe(i,{childList:!0,subtree:!0}),o(i),()=>{a.disconnect()}},[r]),t.length?g.createElement(De.Root,{ref:e},g.createElement(De.Header,null,g.createElement(De.Title,null,"Quick nav")),t.map(i=>g.createElement(rc,{key:i.value+i.depth,entry:i}))):null}const by=({page:e})=>{const t=se.useLocation(),{component:n,meta:r,slug:i}=St[e.id],{data:o}=vo(`toc-${e.id}`,()=>[]);g.useEffect(()=>{var l;const[u,...d]=r.title.split("/");d.pop();let f=d.join(" / ");const h=(l=document==null?void 0:document.getElementById(Yt))===null||l===void 0?void 0:l.querySelectorAll(ar);if(!h)return;const v=Array.from(h),y=[u];f&&y.push(f),window.FWOOSH_SEARCH_INDEX||(window.FWOOSH_SEARCH_INDEX={}),window.FWOOSH_SEARCH_INDEX[i]=v.length>0?nu(y,v[0]):[],console.log("window.FWOOSH_SEARCH_INDEX",i,window.FWOOSH_SEARCH_INDEX[i])},[r,i]),g.useLayoutEffect(()=>{var l;t.hash&&((l=document.querySelector(t.hash))===null||l===void 0||l.scrollIntoView())},[]);const a=!("fullPage"in e.story.meta)||e.story.meta.fullPage!==!0;let s=g.createElement(n,null);return a&&(s=g.createElement(co,null,g.createElement("div",null,s),g.createElement(nc,{current:e.id}))),o&&a&&!r.hideNav&&(s=g.createElement(Hl,null,s,o&&!r.hideNav&&g.createElement(yy,null))),g.createElement(Yl,{components:et},s)},Ey=(e,t)=>{const{data:n}=vo(e,async()=>{const r=await tu(t);if(!(r!=null&&r.component))return;const i=Array.isArray(r.component)?r.component:[r.component],o=i.map(s=>s.displayName),a=i[0].fwoosh_file;return i[0].fwoosh_docgen&&i[0].fwoosh_docgen!=="undefined"?JSON.parse(i[0].fwoosh_docgen).filter(l=>o.includes(l.displayName)):new Promise(s=>{const l=new WebSocket("ws://localhost:3000/get-docs");l.addEventListener("open",()=>{l.send(a)}),l.addEventListener("message",u=>{s(JSON.parse(u.data).filter(d=>o.includes(d.displayName)))})})},{suspense:!0});return n},oc="Collapsible",[wy,r1]=od(oc),[Sy,Fo]=wy(oc),Oy=c.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:o,onOpenChange:a,...s}=e,[l=!1,u]=ad({prop:r,defaultProp:i,onChange:a});return c.createElement(Sy,{scope:n,disabled:o,contentId:yn(),open:l,onOpenToggle:c.useCallback(()=>u(d=>!d),[u])},c.createElement(fo.div,oe({"data-state":jo(l),"data-disabled":o?"":void 0},s,{ref:t})))}),Iy="CollapsibleTrigger",_y=c.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=Fo(Iy,n);return c.createElement(fo.button,oe({type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":jo(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled},r,{ref:t,onClick:sd(e.onClick,i.onOpenToggle)}))}),ac="CollapsibleContent",Cy=c.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Fo(ac,e.__scopeCollapsible);return c.createElement(ld,{present:n||i.open},({present:o})=>c.createElement(xy,oe({},r,{ref:t,present:o})))}),xy=c.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...o}=e,a=Fo(ac,n),[s,l]=c.useState(r),u=c.useRef(null),d=ud(t,u),f=c.useRef(0),h=f.current,v=c.useRef(0),y=v.current,p=a.open||s,m=c.useRef(p),b=c.useRef();return c.useEffect(()=>{const E=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(E)},[]),cd(()=>{const E=u.current;if(E){b.current=b.current||{transitionDuration:E.style.transitionDuration,animationName:E.style.animationName},E.style.transitionDuration="0s",E.style.animationName="none";const O=E.getBoundingClientRect();f.current=O.height,v.current=O.width,m.current||(E.style.transitionDuration=b.current.transitionDuration,E.style.animationName=b.current.animationName),l(r)}},[a.open,r]),c.createElement(fo.div,oe({"data-state":jo(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!p},o,{ref:d,style:{["--radix-collapsible-content-height"]:h?`${h}px`:void 0,["--radix-collapsible-content-width"]:y?`${y}px`:void 0,...e.style}}),p&&i)});function jo(e){return e?"open":"closed"}const Ty=Oy,Dy=_y,Py=Cy,$y="_showingCode_j6lwb_1";const Ms=Q("div",{position:"relative"}),ky=Q(Py,{"& pre":{margin:0}}),Ns=({title:e,id:t})=>g.createElement("a",{"data-link-icon":!0,href:`#${t}`,tabIndex:-1},g.createElement("span",{className:"visually-hidden"},"Link to the ",e," section")),Ry=Q("div",{borderWidth:"$sm",borderStyle:"$solid",borderColor:"$gray7",px:4,py:8,borderRadius:"$round",overflow:"auto",variants:{state:{open:{borderBottomLeftRadius:0,borderBottomRightRadius:0,borderBottom:"none"}}}}),Ay=Q("button",{px:2,position:"absolute",bottom:0,right:0,borderTopWidth:"$sm",borderTopStyle:"$solid",borderLeftWidth:"$sm",borderLeftStyle:"$solid",borderColor:"$gray7",borderTopLeftRadius:"$round",color:"$gray10"}),My=Q(Ty,{position:"relative",mt:8,mb:12}),Ny=g.memo(({code:e})=>{const t=Wf({code:e});return t?g.createElement(yi,{className:$y},t):null}),Ly=Q("div",{background:"$gray1",position:"absolute",inset:0,zIndex:1e5}),Ls=g.memo(({slug:e,code:t,showSpinnerWhileLoading:n})=>{const r=yn(),[i,o]=g.useState(!1),{ref:a,hasRendered:s}=To({id:r,slug:e});return g.createElement(g.Fragment,null,g.createElement(My,{open:i,onOpenChange:o},g.createElement(Ry,{state:i?"open":void 0,ref:a}),g.createElement(Dy,{asChild:!0},g.createElement(Ay,null,i?"Hide":"Show"," code")),g.createElement(ky,null,g.createElement(c.Suspense,{fallback:g.createElement(Ee,{delay:2e3})},g.createElement(Ny,{code:t})))),n&&!s&&g.createElement(Ly,null,g.createElement(Ee,{delay:2e3})))}),zs=({story:e,meta:t,hasTitle:n})=>{const r=Ey(e.slug,t);return g.createElement("div",{style:{height:"fit-content"}},g.createElement(dd,{docs:r,hasTitle:n}))},zy=({stories:[e,...t]})=>{let n=null;if(e&&e.type==="story"&&e.story.type==="basic"){const r=g.createElement(zs,{story:e.story,meta:e.story.meta,hasTitle:"props"});n=g.createElement(g.Fragment,null,e.story.comment&&g.createElement(yi,null,e.story.comment),g.createElement(Ls,{slug:e.story.slug,code:e.story.code,key:e.story.slug,showSpinnerWhileLoading:!0}),r)}return g.createElement(g.Fragment,null,n,t.length>0&&g.createElement(g.Fragment,null,g.createElement(Ms,{"data-link-group":!0},g.createElement(Ns,{id:"stories",title:"Stories"}),g.createElement(et.h2,{id:"stories"},"Stories")),t.map(r=>{var i,o,a;return r.type==="tree"||r.story.type==="mdx"?null:g.createElement("div",{key:r.story.slug},g.createElement(Ms,{"data-link-group":!0},g.createElement(Ns,{id:tr(r.story.title),title:r.story.title}),g.createElement(et.h3,{id:tr(r.story.title)},r.story.title)),r.story.comment&&g.createElement(yi,null,r.story.comment),g.createElement(Ls,{slug:r.story.slug,code:r.story.code}),g.createElement(c.Suspense,{fallback:g.createElement(Ee,{style:{height:200},delay:2e3})},g.createElement(zs,{story:r.story,meta:(a=(o=(i=r.story)===null||i===void 0?void 0:i.component)===null||o===void 0?void 0:o._payload)===null||a===void 0?void 0:a._result,hasTitle:!0})))})))},sc=({name:e,stories:[t,...n],children:r})=>{const i=g.useRef(null);return Ho(i),g.createElement(co,{style:{position:"relative"}},g.createElement("div",null,g.createElement(et.h1,{id:"intro"},Ju(e)),g.createElement(zy,{stories:[t,...n]})),r)},Hy=({name:e,stories:[t,...n]})=>{const r=g.useRef(null);return Ho(r),g.createElement(Hl,null,g.createElement(sc,{name:e,stories:[t,...n]},g.createElement(nc,{current:t.id})),g.createElement(De.Root,{ref:r},g.createElement(De.Header,null,g.createElement(De.Title,null,"Quick nav")),g.createElement("ol",null,g.createElement(De.Item,null,g.createElement(De.Link,{href:"#intro"},"Introduction")),g.createElement(De.Item,null,g.createElement(De.Link,{href:"#props"},"Properties")),n.length>0&&g.createElement(g.Fragment,null,g.createElement(De.Item,null,g.createElement(De.Link,{href:"#stories"},"Stories")),g.createElement(De.Group,null,n.map(i=>{if(i.type==="tree"||i.story.type==="mdx")return null;const o=`#${tr(i.story.title)}`;return g.createElement(De.Item,{key:o},g.createElement(De.Link,{href:o},bo(i.story.title)))}))))))};function lc(){const e=bn();return c.useMemo(()=>{if(!e)return[];const t=e.split("-"),n=Sd(je,t);if(!n)throw new Error(`Could not find documentation page: ${e}`);return n},[e])}const Fy=g.memo(()=>{const[e,...t]=lc(),n=bn(),r=(n==null?void 0:n.split("-"))||[],i=r[r.length-1];return e?e.type==="story"&&e.story.type==="mdx"?g.createElement(by,{page:e}):g.createElement(Hy,{name:i,stories:[e,...t]}):null}),Hs=g.memo(()=>{const e=se.useLocation();return g.createElement(Et,{key:e.pathname},g.createElement(c.Suspense,{fallback:g.createElement(Ee,null,"Loading documentation...")},g.createElement(Fy,null)))});let jy=0;function Bo(e=null){const t=typeof c.useId=="function"?c.useId():null,n=c.useRef(e||t||null);return n.current===null&&(n.current=""+jy++),n.current}const Nr=c.createContext(null);Nr.displayName="PanelGroupContext";function Ki({children:e=null,className:t="",defaultSize:n=null,id:r=null,maxSize:i=100,minSize:o=10,onResize:a=null,order:s=null,style:l={},tagName:u="div"}){const d=c.useContext(Nr);if(d===null)throw Error("Panel components must be rendered within a PanelGroup container");const f=c.useRef(a);if(o<0||o>100)throw Error(`Panel minSize must be between 0 and 100, but was ${o}`);if(i<0||i>100)throw Error(`Panel maxSize must be between 0 and 100, but was ${i}`);if(n!==null){if(n<0||n>100)throw Error(`Panel defaultSize must be between 0 and 100, but was ${n}`);o>n&&(console.error(`Panel minSize ${o} cannot be greater than defaultSize ${n}`),n=o)}const h=Bo(r),{getPanelStyle:v,registerPanel:y,unregisterPanel:p}=d;c.useLayoutEffect(()=>(y(h,{defaultSize:n,id:h,maxSize:i,minSize:o,onResizeRef:f,order:s}),()=>{p(h)}),[n,h,i,o,s,y,p]);const m=v(h);return c.createElement(u,{children:e,className:t,"data-panel-id":h,id:`data-panel-id-${h}`,style:{...m,...l}})}Ki.displayName="Panel";function uc(e){return e.map(t=>{const{minSize:n,order:r}=t;return r?`${r}:${n}`:`${n}`}).sort((t,n)=>t.localeCompare(n)).join(",")}function cc(e){try{const t=localStorage.getItem(`PanelGroup:sizes:${e}`);if(t){const n=JSON.parse(t);if(typeof n=="object"&&n!=null)return n}}catch{}return null}function By(e,t){const n=cc(e);if(n){const r=uc(t);return n[r]??null}return null}function Ky(e,t,n){const r=uc(t),i=cc(e)||{};i[r]=n;try{localStorage.setItem(`PanelGroup:sizes:${e}`,JSON.stringify(i))}catch(o){console.error(o)}}const pn=10;function dc(e,t,n,r,i){if(r===0)return i;const o=yt(e),a=i.concat();let s=0;{const d=r<0?n:t,f=o.findIndex(p=>p.id===d),h=o[f],v=i[f],y=Fs(h,Math.abs(r),v);if(v===y)return i;r=r<0?v-y:y-v}let l=r<0?t:n,u=o.findIndex(d=>d.id===l);for(;;){const d=o[u],f=i[u],h=Fs(d,0-Math.abs(r),f);if(f!==h&&(s+=f-h,a[u]=h,s.toPrecision(pn)>=r.toPrecision(pn)))break;if(r<0){if(--u<0)break}else if(++u>=o.length)break}return s===0?i:(l=r<0?n:t,u=o.findIndex(d=>d.id===l),a[u]=i[u]+s,a)}function fc(e,t,n){if(e.size===1)return"100";const i=yt(e).findIndex(a=>a.id===t),o=n[i];return o==null?"0":o.toPrecision(pn)}function Uy(e){const t=document.querySelector(`[data-panel-id="${e}"]`);return t||null}function Ko(e){const t=document.querySelector(`[data-panel-group-id="${e}"]`);return t||null}function Uo(e){const t=document.querySelector(`[data-panel-resize-handle-id="${e}"]`);return t||null}function Wy(e){return hc().findIndex(r=>r.getAttribute("data-panel-resize-handle-id")===e)??null}function hc(){return Array.from(document.querySelectorAll("[data-panel-resize-handle-id]"))}function pc(e){return Array.from(document.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`))}function gc(e,t,n){var l,u;const r=Uo(t),o=pc(e).indexOf(r),a=((l=n[o])==null?void 0:l.id)??null,s=((u=n[o+1])==null?void 0:u.id)??null;return[a,s]}function yt(e){return Array.from(e.values()).sort((t,n)=>t.order-n.order)}function Fs(e,t,n){const r=n+t;return Math.min(e.maxSize,Math.max(e.minSize,r))}function mc(e,t,n,r=0){const i=n==="horizontal";let o=0;if(Xy(e))o=i?e.clientX:e.clientY;else if(Qy(e)){const u=e.touches[0];o=i?u.screenX:u.screenY}else return 0;const s=Uo(t).getBoundingClientRect(),l=i?s.left:s.top;return o-l-r}function qy(e,t,n,r,i){const o=r==="horizontal",s=Ko(t).getBoundingClientRect(),l=o?s.width:s.height;if(Yy(e)){const u=e.shiftKey?10:100,d=l/u;switch(e.key){case"ArrowDown":return o?0:d;case"ArrowLeft":return o?-d:0;case"ArrowRight":return o?d:0;case"ArrowUp":return o?0:-d;case"End":return l;case"Home":return-l}}else return mc(e,n,r,i)}function Yy(e){return e.type==="keydown"}function Xy(e){return e.type.startsWith("mouse")}function Qy(e){return e.type.startsWith("touch")}function Vy({committedValuesRef:e,groupId:t,panels:n,setSizes:r,sizes:i}){c.useEffect(()=>{const{direction:o,panels:a}=e.current,s=Ko(t),{height:l,width:u}=s.getBoundingClientRect(),f=pc(t).map(h=>{const v=h.getAttribute("data-panel-resize-handle-id"),y=yt(a),[p,m]=gc(t,v,y);if(p==null||m==null)return()=>{};let b=0,E=100,O=0,x=0;y.forEach(P=>{P.id===p?(E=P.maxSize,b=P.minSize):(O+=P.minSize,x+=P.maxSize)});const C=Math.min(E,100-O),S=Math.max(b,(y.length-1)*100-x),w=fc(a,p,i);h.setAttribute("aria-valuemax",""+Math.round(C)),h.setAttribute("aria-valuemin",""+Math.round(S)),h.setAttribute("aria-valuenow",""+Math.round(parseInt(w)));const I=P=>{switch(P.key){case"Enter":{const $=y.findIndex(z=>z.id===p);if($>=0){const z=y[$],ee=i[$];if(ee!=null){let Z=0;ee.toPrecision(pn)<=z.minSize.toPrecision(pn)?Z=o==="horizontal"?u:l:Z=-(o==="horizontal"?u:l);const ue=dc(a,p,m,Z,i);i!==ue&&r(ue)}}break}}};h.addEventListener("keydown",I);const T=Uy(p);return T!=null&&h.setAttribute("aria-controls",T.id),()=>{h.removeAttribute("aria-valuemax"),h.removeAttribute("aria-valuemin"),h.removeAttribute("aria-valuenow"),h.removeEventListener("keydown",I),T!=null&&h.removeAttribute("aria-controls")}});return()=>{f.forEach(h=>h())}},[t,n,i])}function Gy({disabled:e,handleId:t,resizeHandler:n}){c.useEffect(()=>{if(e||n==null)return;const r=Uo(t);if(r==null)return;const i=o=>{switch(o.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":n(o);break;case"F6":{const a=hc(),s=Wy(t),l=o.shiftKey?s>0?s-1:a.length-1:s+1<a.length?s+1:0;a[l].focus();break}}};return r.addEventListener("keydown",i),()=>{r.removeEventListener("keydown",i)}},[e,t,n])}function vc({autoSaveId:e,children:t=null,className:n="",direction:r,id:i=null,style:o={},tagName:a="div"}){const s=Bo(i),[l,u]=c.useState(null),[d,f]=c.useState(new Map),[h,v]=c.useState([]),y=c.useRef(0),p=c.useRef({direction:r,panels:d,sizes:h});c.useLayoutEffect(()=>{p.current.direction=r,p.current.panels=d,p.current.sizes=h}),Vy({committedValuesRef:p,groupId:s,panels:d,setSizes:v,sizes:h}),c.useLayoutEffect(()=>{if(p.current.sizes.length===d.size)return;let w;if(e){const I=yt(d);w=By(e,I)}if(w!=null)v(w);else{const I=yt(d);let T=0,P=0,$=0;if(I.forEach(z=>{$+=z.minSize,z.defaultSize===null?T++:P+=z.defaultSize}),P>100)throw new Error("The sum of the defaultSize of all panels in a group cannot exceed 100.");if($>100)throw new Error("The sum of the minSize of all panels in a group cannot exceed 100.");v(I.map(z=>z.defaultSize===null?(100-P)/T:z.defaultSize))}},[e,d]),c.useEffect(()=>{if(e){if(h.length===0||h.length!==d.size)return;const S=yt(d);Ky(e,S,h)}},[e,d,h]);const m=c.useCallback(S=>{const{panels:w}=p.current;return{flexBasis:0,flexGrow:fc(w,S,h),flexShrink:1,overflow:"hidden"}},[r,h]),b=c.useCallback((S,w)=>{f(I=>{if(I.has(S))return I;const T=new Map(I);return T.set(S,w),T})},[]),E=c.useCallback(S=>I=>{I.preventDefault();const{direction:T,panels:P,sizes:$}=p.current,z=yt(P),[ee,Z]=gc(s,S,z);if(ee==null||Z==null)return;const ue=qy(I,s,S,T,y.current);if(ue===0)return;const M=Ko(s).getBoundingClientRect(),W=T==="horizontal"?M.width:M.height,V=ue/W*100,A=dc(P,ee,Z,V,$);$!==A&&(A.forEach((j,G)=>{if($[G]!==j){const J=z[G].onResizeRef.current;J&&J(j)}}),v(A))},[s]),O=c.useCallback(S=>{f(w=>{if(!w.has(S))return w;const I=new Map(w);return I.delete(S),I})},[]),x=c.useMemo(()=>({activeHandleId:l,direction:r,getPanelStyle:m,groupId:s,registerPanel:b,registerResizeHandle:E,startDragging:(S,w)=>{u(S),y.current=mc(w,S,r)},stopDragging:()=>{u(null)},unregisterPanel:O}),[l,r,m,s,b,E,O]),C={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return c.createElement(Nr.Provider,{children:c.createElement(a,{children:t,className:n,"data-panel-group-direction":r,"data-panel-group-id":s,style:{...C,...o}}),value:x})}vc.displayName="PanelGroup";function yc({children:e=null,className:t="",disabled:n=!1,id:r=null,style:i={},tagName:o="div"}){const a=c.useRef(null),s=c.useContext(Nr);if(s===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{activeHandleId:l,direction:u,groupId:d,registerResizeHandle:f,startDragging:h,stopDragging:v}=s,y=Bo(r),p=l===y,[m,b]=c.useState(!1),[E,O]=c.useState(null),x=c.useCallback(()=>{a.current.blur(),v()},[v]);c.useEffect(()=>{if(n)O(null);else{const S=f(y);O(()=>S)}},[n,y,f]),c.useEffect(()=>{if(n||E==null||!p)return;document.body.style.cursor=u==="horizontal"?"col-resize":"row-resize";const S=w=>{E(w)};return document.body.addEventListener("contextmenu",x),document.body.addEventListener("mousemove",S),document.body.addEventListener("touchmove",S),window.addEventListener("mouseup",x),window.addEventListener("touchend",x),()=>{document.body.style.cursor="",document.body.removeEventListener("contextmenu",x),document.body.removeEventListener("mousemove",S),document.body.removeEventListener("touchmove",S),window.removeEventListener("mouseup",x),window.removeEventListener("touchend",x)}},[u,n,p,E,x]),Gy({disabled:n,handleId:y,resizeHandler:E});const C={cursor:u==="horizontal"?"col-resize":"row-resize",touchAction:"none",userSelect:"none"};return c.createElement(o,{children:e,className:t,"data-resize-handle-active":p?"pointer":m?"keyboard":void 0,"data-panel-group-direction":u,"data-panel-group-id":d,"data-panel-resize-handle-enabled":!n,"data-panel-resize-handle-id":y,onBlur:()=>b(!1),onFocus:()=>b(!0),onMouseDown:S=>h(y,S.nativeEvent),onMouseUp:x,onTouchCancel:x,onTouchEnd:x,onTouchStart:S=>h(y,S.nativeEvent),ref:a,role:"separator",style:{...C,...i},tabIndex:0})}yc.displayName="PanelResizeHandle";const Zy=Q(Zn.List,{height:"$12"}),Jy=Q(Zn.Content,{display:"flex",text:"sm",width:"100%",height:"100%"}),eb=()=>{var e;const t=c.useContext(Or),n=ot(),r=ho(),i=Bi.filter(o=>{const a=o.paramKey?r==null?void 0:r[o.paramKey]:void 0;return!(o.hideWithoutParams&&!a||a===!1)});return g.createElement(Zn.Root,{defaultValue:localStorage.getItem("fwoosh:active-panel")||((e=Bi[0])===null||e===void 0?void 0:e.componentName),onValueChange:o=>localStorage.setItem("fwoosh:active-panel",o)},g.createElement(Zy,null,g.createElement(c.Suspense,{fallback:g.createElement(Ee,{delay:3e3,size:5})},i.map(o=>g.createElement(Zn.Trigger,{key:`trigger-${o.componentName}`,value:o.componentName},g.createElement(o.displayName,null))))),i.map(o=>g.createElement(Jy,{key:`content-${o.componentName}-${n}`,value:o.componentName},g.createElement(Et,null,g.createElement(c.Suspense,{fallback:g.createElement(Ee,null)},g.createElement(o,{storyPreviewId:t}))))))},tb=()=>g.createElement(c.Suspense,{fallback:g.createElement(Ee,{delay:3e3})},g.createElement(eb,null)),nb=Q("div",{height:"100%",borderTopWidth:"$sm",borderTopStyle:"$solid",borderTopColor:"$gray4",backgroundColor:"$gray0"}),rb=Q("div",{width:"100%",borderTopWidth:"$sm",borderTopStyle:"$solid",borderTopColor:"transparent",zIndex:100,position:"relative","&:after":{height:12,position:"absolute",transform:"translateY(-50%)",left:0,right:0,top:"50%",content:"''"},"&:hover":{borderColor:"$gray10"}}),ib=()=>{const e=ot(),t=g.useMemo(()=>localStorage.getItem("fwoosh:storyPaneSize")?Number(localStorage.getItem("fwoosh:storyPaneSize")):75,[e]),n=g.useCallback(i=>{localStorage.setItem("fwoosh:storyPaneSize",String(i))},[]);let r=g.createElement(iu,null);return Bi.length>0&&(r=g.createElement(vc,{direction:"vertical"},g.createElement(Ki,{maxSize:75,defaultSize:t,onResize:n},r),g.createElement(yc,null,g.createElement(rb,null)),g.createElement(Ki,{maxSize:75},g.createElement(nb,null,g.createElement(tb,null))))),g.createElement(Et,{key:e},r)},ob=()=>{const[e,t]=c.useState(null),n=se.useLocation(),r=c.useCallback(()=>{const i=document.querySelector("#html-metadata");i&&t(JSON.parse(i.text).meta)},[]);return c.useEffect(r,[n,r]),c.useEffect(()=>{const i=new MutationObserver(a=>{a[0].target.querySelector("#html-metadata")&&r()}),o=document.querySelector("body");if(o)return i.observe(o,{childList:!0,subtree:!0}),()=>{i.disconnect()}},[r]),e?c.createElement(un,null,Object.entries(e).map(([i,o])=>{if(i==="title")return c.createElement("title",{key:i},o)})):null};var Ui={},ab={get exports(){return Ui},set exports(e){Ui=e}};(function(e){(function(t,n,r){if(!t)return;for(var i={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},o={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},a={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},s={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},l,u=1;u<20;++u)i[111+u]="f"+u;for(u=0;u<=9;++u)i[u+96]=u.toString();function d(w,I,T){if(w.addEventListener){w.addEventListener(I,T,!1);return}w.attachEvent("on"+I,T)}function f(w){if(w.type=="keypress"){var I=String.fromCharCode(w.which);return w.shiftKey||(I=I.toLowerCase()),I}return i[w.which]?i[w.which]:o[w.which]?o[w.which]:String.fromCharCode(w.which).toLowerCase()}function h(w,I){return w.sort().join(",")===I.sort().join(",")}function v(w){var I=[];return w.shiftKey&&I.push("shift"),w.altKey&&I.push("alt"),w.ctrlKey&&I.push("ctrl"),w.metaKey&&I.push("meta"),I}function y(w){if(w.preventDefault){w.preventDefault();return}w.returnValue=!1}function p(w){if(w.stopPropagation){w.stopPropagation();return}w.cancelBubble=!0}function m(w){return w=="shift"||w=="ctrl"||w=="alt"||w=="meta"}function b(){if(!l){l={};for(var w in i)w>95&&w<112||i.hasOwnProperty(w)&&(l[i[w]]=w)}return l}function E(w,I,T){return T||(T=b()[w]?"keydown":"keypress"),T=="keypress"&&I.length&&(T="keydown"),T}function O(w){return w==="+"?["+"]:(w=w.replace(/\+{2}/g,"+plus"),w.split("+"))}function x(w,I){var T,P,$,z=[];for(T=O(w),$=0;$<T.length;++$)P=T[$],s[P]&&(P=s[P]),I&&I!="keypress"&&a[P]&&(P=a[P],z.push("shift")),m(P)&&z.push(P);return I=E(P,z,I),{key:P,modifiers:z,action:I}}function C(w,I){return w===null||w===n?!1:w===I?!0:C(w.parentNode,I)}function S(w){var I=this;if(w=w||n,!(I instanceof S))return new S(w);I.target=w,I._callbacks={},I._directMap={};var T={},P,$=!1,z=!1,ee=!1;function Z(A){A=A||{};var j=!1,G;for(G in T){if(A[G]){j=!0;continue}T[G]=0}j||(ee=!1)}function ue(A,j,G,K,J,Le){var ne,ye,ze=[],de=G.type;if(!I._callbacks[A])return[];for(de=="keyup"&&m(A)&&(j=[A]),ne=0;ne<I._callbacks[A].length;++ne)if(ye=I._callbacks[A][ne],!(!K&&ye.seq&&T[ye.seq]!=ye.level)&&de==ye.action&&(de=="keypress"&&!G.metaKey&&!G.ctrlKey||h(j,ye.modifiers))){var U=!K&&ye.combo==J,D=K&&ye.seq==K&&ye.level==Le;(U||D)&&I._callbacks[A].splice(ne,1),ze.push(ye)}return ze}function le(A,j,G,K){I.stopCallback(j,j.target||j.srcElement,G,K)||A(j,G)===!1&&(y(j),p(j))}I._handleKey=function(A,j,G){var K=ue(A,j,G),J,Le={},ne=0,ye=!1;for(J=0;J<K.length;++J)K[J].seq&&(ne=Math.max(ne,K[J].level));for(J=0;J<K.length;++J){if(K[J].seq){if(K[J].level!=ne)continue;ye=!0,Le[K[J].seq]=1,le(K[J].callback,G,K[J].combo,K[J].seq);continue}ye||le(K[J].callback,G,K[J].combo)}var ze=G.type=="keypress"&&z;G.type==ee&&!m(A)&&!ze&&Z(Le),z=ye&&G.type=="keydown"};function M(A){typeof A.which!="number"&&(A.which=A.keyCode);var j=f(A);if(j){if(A.type=="keyup"&&$===j){$=!1;return}I.handleKey(j,v(A),A)}}function q(){clearTimeout(P),P=setTimeout(Z,1e3)}function W(A,j,G,K){T[A]=0;function J(de){return function(){ee=de,++T[A],q()}}function Le(de){le(G,de,A),K!=="keyup"&&($=f(de)),setTimeout(Z,10)}for(var ne=0;ne<j.length;++ne){var ye=ne+1===j.length,ze=ye?Le:J(K||x(j[ne+1]).action);V(j[ne],ze,K,A,ne)}}function V(A,j,G,K,J){I._directMap[A+":"+G]=j,A=A.replace(/\s+/g," ");var Le=A.split(" "),ne;if(Le.length>1){W(A,Le,j,G);return}ne=x(A,G),I._callbacks[ne.key]=I._callbacks[ne.key]||[],ue(ne.key,ne.modifiers,{type:ne.action},K,A,J),I._callbacks[ne.key][K?"unshift":"push"]({callback:j,modifiers:ne.modifiers,action:ne.action,seq:K,level:J,combo:A})}I._bindMultiple=function(A,j,G){for(var K=0;K<A.length;++K)V(A[K],j,G)},d(w,"keypress",M),d(w,"keydown",M),d(w,"keyup",M)}S.prototype.bind=function(w,I,T){var P=this;return w=w instanceof Array?w:[w],P._bindMultiple.call(P,w,I,T),P},S.prototype.unbind=function(w,I){var T=this;return T.bind.call(T,w,function(){},I)},S.prototype.trigger=function(w,I){var T=this;return T._directMap[w+":"+I]&&T._directMap[w+":"+I]({},w),T},S.prototype.reset=function(){var w=this;return w._callbacks={},w._directMap={},w},S.prototype.stopCallback=function(w,I){var T=this;if((" "+I.className+" ").indexOf(" mousetrap ")>-1||C(I,T.target))return!1;if("composedPath"in w&&typeof w.composedPath=="function"){var P=w.composedPath()[0];P!==w.target&&(I=P)}return I.tagName=="INPUT"||I.tagName=="SELECT"||I.tagName=="TEXTAREA"||I.isContentEditable},S.prototype.handleKey=function(){var w=this;return w._handleKey.apply(w,arguments)},S.addKeycodes=function(w){for(var I in w)w.hasOwnProperty(I)&&(i[I]=w[I]);l=null},S.init=function(){var w=S(n);for(var I in w)I.charAt(0)!=="_"&&(S[I]=function(T){return function(){return w[T].apply(w,arguments)}}(I))},S.init(),t.Mousetrap=S,e.exports&&(e.exports=S),typeof r=="function"&&r.amd&&r(function(){return S})})(typeof window<"u"?window:null,typeof window<"u"?document:null)})(ab);const js=Ui,sb=(e,t,n)=>{let r=c.useRef(null);r.current=t,c.useEffect(()=>(js.bind(e,(i,o)=>{typeof r.current=="function"&&r.current(i,o)},n),()=>{js.unbind(e)}),[e])},lb=Q("span",{flex:1}),ub=Q("span",{text:"xs",background:"$gray4",borderRadius:"$round",p:1,mr:2,color:"$gray9"}),Wo=c.createContext({search:""});function bc(e,t){var n,r;const o=new DOMParser().parseFromString(e,"text/html");let s=o.evaluate(`//p[contains(translate(., 'ABCDEFGHIJKLMNOPQRSTUVWXYZ', 'abcdefghijklmnopqrstuvwxyz'), '${t.toLowerCase()}')]`,o,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null).iterateNext(),l=Array.from((s==null?void 0:s.childNodes)||[]).findIndex(u=>{var d,f;return(f=(d=u.textContent)===null||d===void 0?void 0:d.toLowerCase())===null||f===void 0?void 0:f.includes(t==null?void 0:t.toLowerCase())});for(;s&&s.childNodes[l];){const u=(r=(n=s.childNodes[l].textContent)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0?void 0:r.indexOf(t==null?void 0:t.toLowerCase());if(u===-1||typeof u>"u")break;const d=s.childNodes[l].textContent.slice(0,u),f=s.childNodes[l].textContent.slice(u+t.length),h=document.createTextNode(d),v=document.createTextNode(f),y=document.createElement("mark");y.textContent=s.childNodes[l].textContent.slice(u,u+t.length),s.replaceChild(v,s.childNodes[l]),s.insertBefore(y,v),s.insertBefore(h,y),l=Array.from(s.childNodes).findIndex(p=>{var m,b;return p===v&&((b=(m=p.textContent)===null||m===void 0?void 0:m.toLowerCase())===null||b===void 0?void 0:b.includes(t==null?void 0:t.toLowerCase()))})}if(s)return s.innerHTML}function Ec({groupName:e,item:t,onNavigate:n}){var r;const{search:i}=c.useContext(Wo),o=t.story.grouping.split("/"),a=c.useMemo(()=>{if(!(!i||t.story.type!=="basic"||!t.story.comment))return bc(t.story.comment,i)},[i,t]);if(t.story.type==="mdx"){o[0]===e&&o.shift();const s=o.pop(),l=o.join(" / ");return c.createElement(Te.Item,{key:t.story.slug,value:`${l}-${t.story.title.toLowerCase()}`,grouping:l,title:s,onSelect:()=>n(t.story),icon:c.createElement(ru,null)})}return o.shift(),a&&o.push(t.story.title),c.createElement(Te.Item,{key:t.story.slug,value:`${t.story.grouping}#${t.story.title}|||${(r=t.story.comment)===null||r===void 0?void 0:r.toLowerCase()}`,grouping:o.join(" / "),title:a?c.createElement(Fl,{content:a}):t.story.title,onSelect:()=>n(t.story),icon:c.createElement(Df,null)})}function cb({data:e,onNavigate:t}){const{search:n}=c.useContext(Wo),r=c.useMemo(()=>bc(`<p>${e.content}</p>`,n),[n,e.content]);if(!e.content||!r)return null;const i=e.path.join(" / ");return c.createElement(Te.Item,{key:e.url,value:`${i}-${e.content.toLowerCase()}`,grouping:i,title:c.createElement(Fl,{content:r}),onSelect:t,icon:c.createElement(ru,null)})}function db({tree:e,onNavigate:t}){const n=c.useMemo(()=>{const r=[],i=[...e.children];for(;i.length>0;){const o=i.shift();o&&(o.type==="tree"?i.push(...o.children):r.push(o))}return r},[]);return c.createElement(Te.Group,{heading:c.createElement(Te.Heading,null,e.name)},n.map(r=>c.createElement(Ec,{key:r.story.slug,groupName:e.name,item:r,onNavigate:t})))}function fb({onClose:e}){const t=lc(),n=se.useNavigate(),[r,i]=c.useState(!1);c.useEffect(()=>{function a(l){l.metaKey&&i(!0)}function s(l){l.metaKey||i(!1)}return window.addEventListener("keydown",a),window.addEventListener("keyup",s),()=>{window.removeEventListener("keydown",a),window.removeEventListener("keyup",s)}},[]);const o=t.map(a=>{if(a.type==="tree"||a.story.type==="mdx")return null;const s=a.story.grouping.split("/");return c.createElement(Te.Item,{key:a.id,title:c.createElement(c.Fragment,null,c.createElement(ub,null,s[s.length-1]),c.createElement("span",null,a.name)),icon:c.createElement(Bn,null),onSelect:()=>{n(r?`/canvas/workbench/${a.story.slug}`:`/workbench/${a.story.slug}`),e()}})}).filter(Boolean);return o.length===0?null:c.createElement(Te.Group,{heading:c.createElement(Te.Heading,null,c.createElement(lb,null,"Open story"),c.createElement("span",null,"hold META to open canvas"))},o)}function hb({onClose:e}){const t=ot(),n=bn(),r=se.useNavigate(),o=se.useLocation().pathname.startsWith("/canvas/");if(t){const a=St[t];return c.createElement(c.Fragment,null,c.createElement(Te.Item,{title:"Switch to docs",icon:c.createElement(Bn,null),onSelect:()=>{r(`/docs/${Sr(a.grouping)}#${tr(a.title)}`),e()}}),o?c.createElement(Te.Item,{title:"Switch to workbench",icon:c.createElement(Bn,null),onSelect:()=>{r(`/workbench/${a.slug}`),e()}}):c.createElement(Te.Item,{title:"Switch to canvas",icon:c.createElement(Bn,null),onSelect:()=>{r(`/canvas/workbench/${a.slug}`),e()}}))}return n?c.createElement(fb,{onClose:e}):null}function pb(){const[e,t]=c.useState(!1),[n,r]=c.useState(""),i=se.useNavigate(),o=Wl(),a=c.useCallback(()=>{t(!1),r("")},[]),s=c.useCallback(l=>{let u="";o?l.type==="basic"?u=`/workbench/${l.slug}`:u=`/workbench/docs/${l.slug}`:(u=`/docs/${l.grouping.replace(/\//g,"-")}`,l.type==="basic"&&(u+=`#${Ef(l.title.replace(/\s/g,"-")).toLowerCase()}`)),i(u),a()},[a]);return sb("meta+k",()=>t(!0)),c.createElement(Te.Dialog,{open:e,onOpenChange:t,loop:!0,filter:(l,u)=>{const[d,f]=l.split("|||");return f&&f.toLowerCase().includes(u.toLowerCase())?1:fd(d,u)},onClick:()=>t(!1)},c.createElement(Wo.Provider,{value:{search:n}},c.createElement(Te.Content,{onClick:l=>l.stopPropagation()},c.createElement(Te.Input,{placeholder:"Search documentation and stories...",value:n,onValueChange:r}),c.createElement(Te.List,null,c.createElement(Te.Empty,null,"No results found."),c.createElement(hb,{onClose:a}),n&&c.createElement(Te.Group,{heading:c.createElement(Te.Heading,null,"Results")},Object.values(window.FWOOSH_SEARCH_INDEX||{}).map(l=>l.map(u=>c.createElement(cb,{key:u.url,data:u,onNavigate:()=>{const d=u.url.replace("/","");i(d),t(!1),r("")}})))),!n&&c.createElement(Te.Heading,null,"Jump to a page"),je.map(l=>l.type==="tree"?c.createElement(db,{key:l.id,tree:l,onNavigate:s}):c.createElement(Ec,{key:l.story.slug,item:l,groupName:"",onNavigate:s}))))))}function gb(){return c.useLayoutEffect(()=>{window.FWOOSH_SEARCH_INDEX||(window.FWOOSH_SEARCH_INDEX={}),fetch("//search.json").then(e=>e.json()).then(e=>{Object.entries(e).forEach(([t,n])=>{window.FWOOSH_SEARCH_INDEX[t]=n})}).catch(e=>{console.error(e)})},[]),c.createElement(c.Fragment,null)}let mb=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");function Ge(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Kt(e){return!!e&&!!e[ae]}function ut(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===Cb}(e)||Array.isArray(e)||!!e[Xs]||!!(!((t=e.constructor)===null||t===void 0)&&t[Xs])||qo(e)||Yo(e))}function Ut(e,t,n){n===void 0&&(n=!1),Xt(e)===0?(n?Object.keys:Zo)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Xt(e){var t=e[ae];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:qo(e)?2:Yo(e)?3:0}function Wi(e,t){return Xt(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function vb(e,t){return Xt(e)===2?e.get(t):e[t]}function wc(e,t,n){var r=Xt(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function yb(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function qo(e){return Ib&&e instanceof Map}function Yo(e){return _b&&e instanceof Set}function Pe(e){return e.o||e.t}function Xo(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=xb(e);delete t[ae];for(var n=Zo(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Qo(e,t){return t===void 0&&(t=!1),Vo(e)||Kt(e)||!ut(e)||(Xt(e)>1&&(e.set=e.add=e.clear=e.delete=bb),Object.freeze(e),t&&Ut(e,function(n,r){return Qo(r,!0)},!0)),e}function bb(){Ge(2)}function Vo(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function it(e){var t=Yi[e];return t||Ge(18,e),t}function Eb(e,t){Yi[e]||(Yi[e]=t)}function cr(){return mn}function li(e,t){t&&(it("Patches"),e.u=[],e.s=[],e.v=t)}function dr(e){qi(e),e.p.forEach(wb),e.p=null}function qi(e){e===mn&&(mn=e.l)}function Bs(e){return mn={p:[],l:mn,h:e,m:!0,_:0}}function wb(e){var t=e[ae];t.i===0||t.i===1?t.j():t.O=!0}function ui(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||it("ES5").S(t,e,r),r?(n[ae].P&&(dr(t),Ge(4)),ut(e)&&(e=fr(t,e),t.l||hr(t,e)),t.u&&it("Patches").M(n[ae].t,e,t.u,t.s)):e=fr(t,n,[]),dr(t),t.u&&t.v(t.u,t.s),e!==Sc?e:void 0}function fr(e,t,n){if(Vo(t))return t;var r=t[ae];if(!r)return Ut(t,function(s,l){return Ks(e,r,t,s,l,n)},!0),t;if(r.A!==e)return t;if(!r.P)return hr(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=Xo(r.k):r.o,o=i,a=!1;r.i===3&&(o=new Set(i),i.clear(),a=!0),Ut(o,function(s,l){return Ks(e,r,i,s,l,n,a)}),hr(e,i,!1),n&&e.u&&it("Patches").N(r,n,e.u,e.s)}return r.o}function Ks(e,t,n,r,i,o,a){if(Kt(i)){var s=fr(e,i,o&&t&&t.i!==3&&!Wi(t.R,r)?o.concat(r):void 0);if(wc(n,r,s),!Kt(s))return;e.m=!1}else a&&n.add(i);if(ut(i)&&!Vo(i)){if(!e.h.D&&e._<1)return;fr(e,i),t&&t.A.l||hr(e,i)}}function hr(e,t,n){n===void 0&&(n=!1),e.h.D&&e.m&&Qo(t,n)}function ci(e,t){var n=e[ae];return(n?Pe(n):e)[t]}function Us(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function st(e){e.P||(e.P=!0,e.l&&st(e.l))}function di(e){e.o||(e.o=Xo(e.t))}function gn(e,t,n){var r=qo(t)?it("MapSet").F(t,n):Yo(t)?it("MapSet").T(t,n):e.g?function(i,o){var a=Array.isArray(i),s={i:a?1:0,A:o?o.A:cr(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=s,u=Xi;a&&(l=[s],u=rn);var d=Proxy.revocable(l,u),f=d.revoke,h=d.proxy;return s.k=h,s.j=f,h}(t,n):it("ES5").J(t,n);return(n?n.A:cr()).p.push(r),r}function Sb(e){return Kt(e)||Ge(22,e),function t(n){if(!ut(n))return n;var r,i=n[ae],o=Xt(n);if(i){if(!i.P&&(i.i<4||!it("ES5").K(i)))return i.t;i.I=!0,r=Ws(n,o),i.I=!1}else r=Ws(n,o);return Ut(r,function(a,s){i&&vb(i.t,a)===s||wc(r,a,t(s))}),o===3?new Set(r):r}(e)}function Ws(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Xo(e)}function Ob(){function e(s,l){function u(){this.constructor=s}i(s,l),s.prototype=(u.prototype=l.prototype,new u)}function t(s){s.o||(s.R=new Map,s.o=new Map(s.t))}function n(s){s.o||(s.o=new Set,s.t.forEach(function(l){if(ut(l)){var u=gn(s.A.h,l,s);s.p.set(l,u),s.o.add(u)}else s.o.add(l)}))}function r(s){s.O&&Ge(3,JSON.stringify(Pe(s)))}var i=function(s,l){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var f in d)d.hasOwnProperty(f)&&(u[f]=d[f])})(s,l)},o=function(){function s(u,d){return this[ae]={i:2,l:d,A:d?d.A:cr(),P:!1,I:!1,o:void 0,R:void 0,t:u,k:this,C:!1,O:!1},this}e(s,Map);var l=s.prototype;return Object.defineProperty(l,"size",{get:function(){return Pe(this[ae]).size}}),l.has=function(u){return Pe(this[ae]).has(u)},l.set=function(u,d){var f=this[ae];return r(f),Pe(f).has(u)&&Pe(f).get(u)===d||(t(f),st(f),f.R.set(u,!0),f.o.set(u,d),f.R.set(u,!0)),this},l.delete=function(u){if(!this.has(u))return!1;var d=this[ae];return r(d),t(d),st(d),d.t.has(u)?d.R.set(u,!1):d.R.delete(u),d.o.delete(u),!0},l.clear=function(){var u=this[ae];r(u),Pe(u).size&&(t(u),st(u),u.R=new Map,Ut(u.t,function(d){u.R.set(d,!1)}),u.o.clear())},l.forEach=function(u,d){var f=this;Pe(this[ae]).forEach(function(h,v){u.call(d,f.get(v),v,f)})},l.get=function(u){var d=this[ae];r(d);var f=Pe(d).get(u);if(d.I||!ut(f)||f!==d.t.get(u))return f;var h=gn(d.A.h,f,d);return t(d),d.o.set(u,h),h},l.keys=function(){return Pe(this[ae]).keys()},l.values=function(){var u,d=this,f=this.keys();return(u={})[$n]=function(){return d.values()},u.next=function(){var h=f.next();return h.done?h:{done:!1,value:d.get(h.value)}},u},l.entries=function(){var u,d=this,f=this.keys();return(u={})[$n]=function(){return d.entries()},u.next=function(){var h=f.next();if(h.done)return h;var v=d.get(h.value);return{done:!1,value:[h.value,v]}},u},l[$n]=function(){return this.entries()},s}(),a=function(){function s(u,d){return this[ae]={i:3,l:d,A:d?d.A:cr(),P:!1,I:!1,o:void 0,t:u,k:this,p:new Map,O:!1,C:!1},this}e(s,Set);var l=s.prototype;return Object.defineProperty(l,"size",{get:function(){return Pe(this[ae]).size}}),l.has=function(u){var d=this[ae];return r(d),d.o?!!d.o.has(u)||!(!d.p.has(u)||!d.o.has(d.p.get(u))):d.t.has(u)},l.add=function(u){var d=this[ae];return r(d),this.has(u)||(n(d),st(d),d.o.add(u)),this},l.delete=function(u){if(!this.has(u))return!1;var d=this[ae];return r(d),n(d),st(d),d.o.delete(u)||!!d.p.has(u)&&d.o.delete(d.p.get(u))},l.clear=function(){var u=this[ae];r(u),Pe(u).size&&(n(u),st(u),u.o.clear())},l.values=function(){var u=this[ae];return r(u),n(u),u.o.values()},l.entries=function(){var u=this[ae];return r(u),n(u),u.o.entries()},l.keys=function(){return this.values()},l[$n]=function(){return this.values()},l.forEach=function(u,d){for(var f=this.values(),h=f.next();!h.done;)u.call(d,h.value,h.value,this),h=f.next()},s}();Eb("MapSet",{F:function(s,l){return new o(s,l)},T:function(s,l){return new a(s,l)}})}var qs,mn,Go=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Ib=typeof Map<"u",_b=typeof Set<"u",Ys=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Sc=Go?Symbol.for("immer-nothing"):((qs={})["immer-nothing"]=!0,qs),Xs=Go?Symbol.for("immer-draftable"):"__$immer_draftable",ae=Go?Symbol.for("immer-state"):"__$immer_state",$n=typeof Symbol<"u"&&Symbol.iterator||"@@iterator",Cb=""+Object.prototype.constructor,Zo=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,xb=Object.getOwnPropertyDescriptors||function(e){var t={};return Zo(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Yi={},Xi={get:function(e,t){if(t===ae)return e;var n=Pe(e);if(!Wi(n,t))return function(i,o,a){var s,l=Us(o,a);return l?"value"in l?l.value:(s=l.get)===null||s===void 0?void 0:s.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!ut(r)?r:r===ci(e.t,t)?(di(e),e.o[t]=gn(e.A.h,r,e)):r},has:function(e,t){return t in Pe(e)},ownKeys:function(e){return Reflect.ownKeys(Pe(e))},set:function(e,t,n){var r=Us(Pe(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=ci(Pe(e),t),o=i==null?void 0:i[ae];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(yb(n,i)&&(n!==void 0||Wi(e.t,t)))return!0;di(e),st(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return ci(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,di(e),st(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Pe(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){Ge(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ge(12)}},rn={};Ut(Xi,function(e,t){rn[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),rn.deleteProperty=function(e,t){return rn.set.call(this,e,t,void 0)},rn.set=function(e,t,n){return Xi.set.call(this,e[0],t,n,e[0])};var Tb=function(){function e(n){var r=this;this.g=Ys,this.D=!0,this.produce=function(i,o,a){if(typeof i=="function"&&typeof o!="function"){var s=o;o=i;var l=r;return function(p){var m=this;p===void 0&&(p=s);for(var b=arguments.length,E=Array(b>1?b-1:0),O=1;O<b;O++)E[O-1]=arguments[O];return l.produce(p,function(x){var C;return(C=o).call.apply(C,[m,x].concat(E))})}}var u;if(typeof o!="function"&&Ge(6),a!==void 0&&typeof a!="function"&&Ge(7),ut(i)){var d=Bs(r),f=gn(r,i,void 0),h=!0;try{u=o(f),h=!1}finally{h?dr(d):qi(d)}return typeof Promise<"u"&&u instanceof Promise?u.then(function(p){return li(d,a),ui(p,d)},function(p){throw dr(d),p}):(li(d,a),ui(u,d))}if(!i||typeof i!="object"){if((u=o(i))===void 0&&(u=i),u===Sc&&(u=void 0),r.D&&Qo(u,!0),a){var v=[],y=[];it("Patches").M(i,u,v,y),a(v,y)}return u}Ge(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(u){for(var d=arguments.length,f=Array(d>1?d-1:0),h=1;h<d;h++)f[h-1]=arguments[h];return r.produceWithPatches(u,function(v){return i.apply(void 0,[v].concat(f))})};var a,s,l=r.produce(i,o,function(u,d){a=u,s=d});return typeof Promise<"u"&&l instanceof Promise?l.then(function(u){return[u,a,s]}):[l,a,s]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){ut(n)||Ge(8),Kt(n)&&(n=Sb(n));var r=Bs(this),i=gn(this,n,void 0);return i[ae].C=!0,qi(r),i},t.finishDraft=function(n,r){var i=n&&n[ae],o=i.A;return li(o,r),ui(void 0,o)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!Ys&&Ge(20),this.g=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var a=it("Patches").$;return Kt(n)?a(n,r):this.produce(n,function(s){return a(s,r)})},e}(),Ke=new Tb,Qs=Ke.produce;Ke.produceWithPatches.bind(Ke);var Db=Ke.setAutoFreeze.bind(Ke);Ke.setUseProxies.bind(Ke);Ke.applyPatches.bind(Ke);var Vs=Ke.createDraft.bind(Ke),Pb=Ke.finishDraft.bind(Ke),Jo=Object.defineProperty,$b=Object.defineProperties,kb=Object.getOwnPropertyDescriptors,Gs=Object.getOwnPropertySymbols,Rb=Object.prototype.hasOwnProperty,Ab=Object.prototype.propertyIsEnumerable,Zs=(e,t,n)=>t in e?Jo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Mb=(e,t)=>{for(var n in t||(t={}))Rb.call(t,n)&&Zs(e,n,t[n]);if(Gs)for(var n of Gs(t))Ab.call(t,n)&&Zs(e,n,t[n]);return e},Nb=(e,t)=>$b(e,kb(t)),Lb=e=>Jo(e,"__esModule",{value:!0}),zb=(e,t)=>{Lb(e);for(var n in t)Jo(e,n,{get:t[n],enumerable:!0})};function ea(e,t,n,r){try{return!(e.if[0]&&!e.if.every(i=>i(t,n,r))||e.ifAny[0]&&!e.ifAny.some(i=>i(t,n,r))||e.unless[0]&&!e.unless.every(i=>!i(t,n,r))||e.unlessAny[0]&&!e.unlessAny.some(i=>!i(t,n,r)))}catch(i){throw Error("Error while testing conditions! "+i.message)}}function lt(e,t){const n=new Error(e+" "+t.message);return n.stack=t.stack,n}function Hb(e){const{state:t,onDelayedOutcome:n,getFreshDataAfterWait:r}=e,i=[...e.handler],{payload:o}=e;let a=!1,s={data:e.data,payload:e.payload,result:e.result};const l=Nb(Mb({},s),{shouldBreak:!1,shouldNotify:!1,pendingTransition:[]});let u=Vs(s),d=e.result;function f(y){s=Pb(y),l.result=s.result,l.data=s.data}function h(y,p){if(y.get.length>0){let b="";try{for(const E of y.get)b=E.name,d=E(p.data,o,d)}catch(E){throw lt(`Error in result (${b})!`,E)}p.result=d}if(ea(y,p.data,p.payload,p.result)){if(y.do.length>0){l.shouldNotify=!0;let b="";try{for(const E of y.do){b=E.name;const O=E(p.data,p.payload,p.result);O&&Object.assign(p.data,Object.freeze(O))}}catch(E){throw lt(`Error in action (${b})!`,E)}}if(y.secretlyDo.length>0){let b="";try{for(const E of y.secretlyDo){b=E.name;const O=E(p.data,p.payload,p.result);O&&Object.assign(p.data,Object.freeze(O))}}catch(E){throw lt(`Error in secret action (${b})!`,E)}}if(y.to.length>0){let b="";try{for(const E of y.to)b=E.name,l.pendingTransition.push(E(p.data,p.payload,p.result));return l.shouldBreak=!0,l.shouldNotify=!0,{shouldBreak:!0}}catch(E){throw lt(`Error computing transition (${b})!`,E)}}if(y.secretlyTo.length>0){let b="";try{for(const E of y.secretlyTo)b=E.name,l.pendingTransition.push(E(p.data,p.payload,p.result));return l.shouldBreak=!0,{shouldBreak:!0}}catch(E){throw lt(`Error computing secret transition (${b})!`,E)}}if(y.then!==void 0&&v([...y.then],p),y.break!==void 0)try{if(y.break(p.data,p.payload,p.result))return{shouldBreak:!0}}catch(b){throw lt(`Error computing break (${y.break.name})!`,b)}}else y.else!==void 0&&v([...y.else],p);return{shouldBreak:!1}}function v(y,p){if(l.shouldBreak)return{shouldBreakDueToWait:!1};const m=y.shift();if(m===void 0)return{shouldBreakDueToWait:!1};if(m.wait!==void 0){const b=m.wait(p.data,o,p.result)*1e3;return a&&l.shouldNotify&&(f(u),n(l)),a=!0,t.times.timeouts[0]=setTimeout(()=>{s.data=r(),s.result=void 0,u=Vs(s);const{shouldBreak:E}=h(m,u);if(!E){const{shouldBreakDueToWait:O}=v(i,u);if(O)return}f(u),n(l)},b),{shouldBreakDueToWait:!0}}else{const{shouldBreak:b}=h(m,p);return b?{shouldBreakDueToWait:!1}:v(y,p)}}return v(i,u),f(u),l}function Qi(e){const t=e==null?0:e.length;return e[t-1]}function vt(e){return Array.isArray(e)?e:[e]}function Xn(e){e.active=!1;for(const t of Object.values(e.states))Xn(t)}function on(e){const t=[];if(e.active){t.push(e);for(const n of Object.values(e.states))t.push(...on(n))}return t}function Nt(e,t,n,r,i){let o=!1;if(e.active=!0,e.name===t[0]&&(t.shift(),t.length===0&&(o=!0)),e.initial===void 0)Object.values(e.states).forEach(a=>Nt(a,t,n,r,i));else if(r&&t.length===0){const a=e.states[Qi(e.history)||e.initial];Nt(a,t,n,i,i)}else if(e.states[t[0]]!==void 0){const a=e.states[t[0]];e.history.push(a.name),Nt(a,t,n,r,i)}else if(!o&&n.includes(e)){const a=e.states[Qi(e.history)||e.initial];Nt(a,t,n,!1,!1)}else{const a=e.states[e.initial];e.history.push(a.name),Nt(a,t,n,!1,!1)}}function Oc(e,t){const n=[],r=t.startsWith(".")?t:"."+t;e.path.endsWith(r)&&n.push(e);for(const i of Object.values(e.states))n.push(...Oc(i,t));return n}function Vi(e,t,n){if(e.else!==void 0){let r;for(const i of e.get)r=i(n,t,r);return ea(e,n,t,r)?e.then!==void 0?Vi(e.then,t,n):e.to(n,t,r):Vi(e.else,t,n)}else return e.to(n,t,void 0)}function Ic(e,t,n){if(e.initialFn!==void 0&&(e.initial=Vi(e.initialFn,t,n)),e.states!==void 0)for(const r of Object.values(e.states))Ic(r,t,n)}function _c(e){const{cancelAsync:t,timeouts:n,interval:r,animationFrame:i}=e.times;t!==void 0&&(t(),e.times.cancelAsync=void 0);for(const o of n)clearTimeout(o);e.times.timeouts=[],r!==void 0&&(clearInterval(r),e.times.interval=void 0),i!==void 0&&(cancelAnimationFrame(i),e.times.animationFrame=void 0)}function Gi(e){_c(e);for(const t of Object.values(e.states))Gi(t)}function Js(e,t){const n=Object.fromEntries(Object.entries(e.times||{}).map(([m,b])=>[m,o(b)]));function r(m,b,E){if(typeof m=="string")if(b){const O=b[m];if(typeof O>"u")throw Error(`No item in ${E} named ${m}!`);return O}else throw Error(`No ${E} in config!`);else return m}function i(m){const b=()=>m;return Object.defineProperty(b,"name",{value:m,writable:!1}),b}function o(m){if(!(typeof m>"u"))return typeof m=="function"?m:i(m)}function a(m){return typeof m>"u"?[]:vt(m).map(b=>typeof b=="function"?b:i(b))}function s(m){return typeof m>"u"?[]:vt(m).map(b=>r(b,e.results,"results"))}function l(m){return typeof m>"u"?[]:vt(m).map(b=>r(b,e.conditions,"conditions"))}function u(m){return typeof m>"u"?[]:vt(m).map(b=>r(b,e.actions,"actions"))}function d(m){return r(m,e.asyncs,"asyncs")}function f(m){if(!(typeof m>"u"))return typeof m=="number"?i(m):r(m,n,"times")}function h(m){return{get:s(m.get),if:l(m.if),ifAny:l(m.ifAny),unless:l(m.unless),unlessAny:l(m.unlessAny),do:u(m.do),secretlyDo:u(m.secretlyDo),to:a(m.to),secretlyTo:a(m.secretlyTo),wait:f(m.wait),break:o(m.break),then:m.then?v(m.then):void 0,else:m.else?v(m.else):void 0}}function v(m){return vt(m).map(b=>{switch(typeof b){case"string":{if(typeof e.actions>"u")throw new Error("Actions is undefined!");{const E=e.actions&&e.actions[b];return h({do:E})}}case"function":return h({do:b});default:return h(b)}})}function y(m){if(!(typeof m>"u"))if(typeof m=="string"||!("else"in m)){const b=typeof m=="string"?m:m.to;return{get:[],if:[],unless:[],ifAny:[],unlessAny:[],to:typeof b=="function"?b:i(b)}}else return{get:s(m.get),if:l(m.if),unless:l(m.unless),ifAny:l(m.ifAny),unlessAny:l(m.unlessAny),to:typeof m.to=="function"?m.to:i(m.to),then:y(m.then),else:y(m.else)}}function p(m,b,E,O,x,C,S){if(m.initial!==void 0&&m.states===void 0)throw Error(`In ${E+b}, you've provided an initial state but no states!`);const w=m.states?m.initial?"branch":"parallel":"leaf";return{name:b,type:w,isInitial:C,parentType:S,depth:x,path:E+b,active:O,activeId:0,history:[],times:{timeouts:[],interval:void 0,animationFrame:void 0},initialFn:y(m.initial),initial:void 0,onEnter:m.onEnter?v(m.onEnter):void 0,onExit:m.onExit?v(m.onExit):void 0,onEvent:m.onEvent?v(m.onEvent):void 0,async:m.async?{await:d(m.async.await),onResolve:v(m.async.onResolve),onReject:m.async.onReject?v(m.async.onReject):void 0}:void 0,repeat:m.repeat?{onRepeat:v(m.repeat.onRepeat),delay:m.repeat.delay?f(m.repeat.delay):void 0}:void 0,on:Object.fromEntries(m.on?Object.entries(m.on).map(([I,T])=>[I,v(T)]):[]),states:Object.fromEntries(m.states?Object.entries(m.states).map(([I,T])=>[I,p(T,I,E+b+".",!1,x+1,m.initial===I,w)]):[])}}return p(e,"root",t+".",!0,0,!0,null)}Ob();Db(!1);function pr(e){var t;const{options:n={}}=e,{suppressErrors:r=!1,onSend:i}=n;let o=(t=e.options)==null?void 0:t.enableLog;function a(D,R){var F;throw R&&(D.message=R+": "+D.message),(F=e.options)!=null&&F.onError&&e.options.onError(D),D}const s=new Set([]);function l(D){s.add(D)}function u(D){s.has(D)&&s.delete(D),s.size===0&&(T(),Gi(U.stateTree))}function d(){E(),b(),O(),s.forEach(D=>D(U))}function f(D,R){U.data=D.data;for(const F of D.pendingTransition)y(F,R,D.result)}function h(D,R,F,be){const pe=Hb({state:D,data:U.data,result:be,payload:F,handler:R,onDelayedOutcome:ce=>{f(ce,F),ce.shouldNotify&&d()},getFreshDataAfterWait:()=>U.data});return f(pe,F),pe}function v(D,R){const F={shouldHalt:!1,shouldNotify:!1};if(!D.active)return F;const be=Object.values(D.states).filter(ge=>ge.active),pe=D.on[R.event];let ce;if(typeof pe<"u"&&(ce=h(D,pe,R.payload,void 0),ce.shouldNotify&&(F.shouldNotify=!0),ce.shouldBreak)||typeof D.onEvent<"u"&&(ce=h(D,D.onEvent,R.payload,ce==null?void 0:ce.result),ce.shouldNotify&&(F.shouldNotify=!0),ce.shouldBreak))return F.shouldNotify=!0,F.shouldHalt=!0,F;for(const ge of be){const We=v(ge,R);if(We.shouldNotify&&(F.shouldNotify=!0),We.shouldHalt)return F.shouldNotify=!0,F.shouldHalt=!0,F}return F}function y(D,R,F){const be=D.endsWith(".previous"),pe=D.endsWith(".restore");be?D=D.slice(0,D.length-9):pe&&(D=D.slice(0,D.length-8));const ce=Oc(U.stateTree,D),ge=Qi(ce);if(typeof ge>"u")throw Error(`Error in transition (${D})! Could not find that state.`);const We=ge.path.split(".").slice(1),tt=on(U.stateTree);Xn(U.stateTree),Ic(U.stateTree,R,U.data),Nt(U.stateTree,We,tt,be||pe,pe);const In=on(U.stateTree),_n=tt.filter(Ce=>!In.includes(Ce)),Vc=In.filter(Ce=>!tt.includes(Ce));_n.forEach(Ce=>{_c(Ce),z(Ce)});for(const Ce of _n){const{onExit:ct}=Ce;if(Ce.activeId++,typeof ct<"u"&&h(Ce,ct,R,F).shouldBreak)return}for(const Ce of Vc){const{async:ct,repeat:Hr,onEnter:oa}=Ce;if(typeof Hr<"u"){const{onRepeat:_t,delay:Ct}=Hr;let xt=performance.now(),aa=0,Fr=0;if(Ct===void 0)$(Ce,{payload:R,start:xt});else{let sa=performance.now();const Gc=Ct(U.data,R,F);Ce.times.interval=setInterval(()=>{xt=performance.now(),Fr=xt-sa,aa+=Fr,sa=xt,h(Ce,_t,R,{interval:Fr,elapsed:aa}).shouldNotify&&d()},Math.max(1/60,Gc*1e3))}}if(typeof oa<"u"&&h(Ce,oa,R,F).shouldBreak)return;if(typeof ct<"u"){let _t=!1;Ce.times.cancelAsync=()=>_t=!0,ct.await(U.data,R,F).then(Ct=>{if(_t)return;h(Ce,ct.onResolve,R,Ct).shouldNotify&&d()},Ct=>{if(typeof ct.onReject<"u"){if(_t)return;h(Ce,ct.onReject,R,Ct).shouldNotify&&d()}})}}}function p(D){o=D}function m(D){o?ze.unshift(D):ze=[D]}function b(){U.index++,U.log=[...ze]}function E(){U.values=tl(U.data,e.values)}function O(){de=on(U.stateTree),U.active=el(de)}let x=-1,C=-1,S;const w=new Map([]);function I(D){var R;let F=!1;x<0&&(x=D),C=D-x,x=D;const be=Array.from(w.entries());for(const[pe,ce]of be)if(((R=pe.repeat)==null?void 0:R.onRepeat)!==void 0){const ge=h(pe,pe.repeat.onRepeat,ce.payload,{interval:C,elapsed:D-ce.start});if(ge.shouldNotify&&(F=!0),ge.shouldBreak)break}F&&d(),S!==void 0&&(S=requestAnimationFrame(I))}function T(){S!==void 0&&(cancelAnimationFrame(S),S=void 0,x=-1,C=-1)}function P(){S=requestAnimationFrame(I)}function $(D,R){w.set(D,R),S===void 0&&P()}function z(D){w.has(D)&&(w.delete(D),w.size===0&&T())}function ee(D){return l(D),()=>u(D)}function Z(D){E(),O(),b(),D(U)}function ue(D,R,F){try{const{shouldNotify:be}=v(U.stateTree,{event:D,payload:R});m(D),be&&d(),F==null||F(U),i==null||i(D,R,be)}catch(be){a(be,D)}return U}const le=new Map([]);function M(D){let R=le.get(D);return R||(R=()=>ue(D),le.set(D,R)),R}function q(...D){try{return vt(D).map(R=>R.startsWith(".")?R:"."+R).every(R=>de.find(F=>F.path.endsWith(R))!==void 0)}catch(R){return a(lt(`Error testing isIn(${D.join()})!`,R)),!1}}function W(...D){try{return vt(D).map(R=>R.startsWith(".")?R:"."+R).some(R=>de.find(F=>F.path.endsWith(R))!==void 0)}catch(R){return a(lt(`Error testing isInAny(${D.join()})!`,R)),!1}}function V(D,R,F){return typeof de.find(be=>{const pe=be.on[D];if(!(typeof pe>"u"))try{return pe.some(ce=>{F=void 0;for(const ge of ce.get)F=ge(U.data,R,F);return ea(ce,U.data,R,F)})}catch(ce){return a(lt(`Error testing can(${D})!`,ce)),!1}})<"u"}function A(D,R="value",F){const be=[];Object.entries(D).forEach(([ge,We])=>{const tt=typeof We=="function"?We():We;ge==="root"?be.push([ge,tt]):de.find(In=>{const _n=ge.startsWith(".")?ge:"."+ge;return In.path.endsWith(_n)})&&be.push([ge,tt])}),be.length===0&&typeof D.default<"u"&&be.push(["default",D.default]);let pe,ce;return R==="array"?(pe=[],ce=(ge,[We,tt])=>[...ge,tt]):R==="value"?(pe=void 0,ce=(ge,[We,tt])=>tt):(pe=F,ce=R),be.forEach((ge,We)=>pe=ce(pe,ge,We,be)),pe}function j(){return e}function G(){return pr(e)}function K(D,R){return m(`Forced transition to: ${D}`),y(D,R,void 0),d(),U}function J(D){return U.data=D,m("Forced data."),d(),U}function Le(){return T(),Gi(U.stateTree),ze=[],Object.assign(U,{data:Qs(e.data,D=>D),stateTree:Js(e,ne),log:[]}),Xn(U.stateTree),y("root",void 0,void 0),d(),U}const ne="#"+(typeof e.id<"u"?`state_${mb()}`:e.id),ye=Js(e,ne);let ze=[],de=on(ye);const U={id:ne,data:Qs(e.data,D=>D),active:el(de),values:tl(e.data,e.values),stateTree:ye,log:ze,index:0,send:ue,thenSend:M,isIn:q,isInAny:W,can:V,whenIn:A,getDesign:j,onUpdate:ee,getUpdate:Z,enableLog:p,forceData:J,forceTransition:K,clone:G,reset:Le};return Xn(U.stateTree),y("root",void 0,void 0),E(),O(),b(),U}function el(e){return e.map(t=>t.path)}function tl(e,t){return Object.entries(t||{}).reduce((n,[r,i])=>(n[r]=i(e),n),{})}var Fb={};zb(Fb,{VerboseType:()=>Zi});var Zi;(function(e){e.Condition="condition",e.Action="action",e.SecretAction="secretAction",e.Event="event",e.State="state",e.AsyncEvent="asyncEvent",e.TransitionEvent="transitionEvent",e.RepeatEvent="repeatEvent",e.Transition="transition",e.Notification="notification",e.EventHandler="eventHandler",e.Queue="queue"})(Zi||(Zi={}));var jb=Object.defineProperty,Bb=Object.defineProperties,Kb=Object.getOwnPropertyDescriptors,nl=Object.getOwnPropertySymbols,Ub=Object.prototype.hasOwnProperty,Wb=Object.prototype.propertyIsEnumerable,rl=(e,t,n)=>t in e?jb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,il=(e,t)=>{for(var n in t||(t={}))Ub.call(t,n)&&rl(e,n,t[n]);if(nl)for(var n of nl(t))Wb.call(t,n)&&rl(e,n,t[n]);return e},ol=(e,t)=>Bb(e,Kb(t)),qb=[];function Cc(e,t=qb){const n=c.useRef(!0),[r,i]=c.useState(()=>"active"in e?e:pr(e));return c.useEffect(()=>{if("active"in e)return i(e),e.onUpdate(o=>i(a=>ol(il({},a),{index:o.index,data:o.data,active:o.active,stateTree:o.stateTree,values:o.values,log:o.log})))},[e]),c.useEffect(()=>{if("active"in e)return;function o(a){i(s=>ol(il({},s),{index:a.index,data:a.data,active:a.active,stateTree:a.stateTree,values:a.values,log:a.log}))}if(!n.current){const a=pr(e);return i(a),a.onUpdate(o)}return n.current=!1,r.onUpdate(o)},[...t]),r}var Yb=Object.defineProperty,Xb=(e,t,n)=>t in e?Yb(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,H=(e,t,n)=>(Xb(e,typeof t!="symbol"?t+"":t,n),n),N=class{static clamp(e,t,n){return Math.max(t,typeof n<"u"?Math.min(e,n):e)}static clampV(e,t,n){return e.map(r=>n?N.clamp(r,t,n):N.clamp(r,t))}static cross(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])}static snap(e,t=1){return[Math.round(e[0]/t)*t,Math.round(e[1]/t)*t]}},_=N;H(_,"neg",e=>[-e[0],-e[1]]),H(_,"add",(e,t)=>[e[0]+t[0],e[1]+t[1]]),H(_,"addScalar",(e,t)=>[e[0]+t,e[1]+t]),H(_,"sub",(e,t)=>[e[0]-t[0],e[1]-t[1]]),H(_,"subScalar",(e,t)=>[e[0]-t,e[1]-t]),H(_,"vec",(e,t)=>[t[0]-e[0],t[1]-e[1]]),H(_,"mul",(e,t)=>[e[0]*t,e[1]*t]),H(_,"mulV",(e,t)=>[e[0]*t[0],e[1]*t[1]]),H(_,"div",(e,t)=>[e[0]/t,e[1]/t]),H(_,"divV",(e,t)=>[e[0]/t[0],e[1]/t[1]]),H(_,"per",e=>[e[1],-e[0]]),H(_,"dpr",(e,t)=>e[0]*t[0]+e[1]*t[1]),H(_,"cpr",(e,t)=>e[0]*t[1]-t[0]*e[1]),H(_,"len2",e=>e[0]*e[0]+e[1]*e[1]),H(_,"len",e=>Math.hypot(e[0],e[1])),H(_,"pry",(e,t)=>N.dpr(e,t)/N.len(t)),H(_,"uni",e=>N.div(e,N.len(e))),H(_,"normalize",e=>N.uni(e)),H(_,"tangent",(e,t)=>N.uni(N.sub(e,t))),H(_,"dist2",(e,t)=>N.len2(N.sub(e,t))),H(_,"dist",(e,t)=>Math.hypot(e[1]-t[1],e[0]-t[0])),H(_,"fastDist",(e,t)=>{let n=[t[0]-e[0],t[1]-e[1]],r=[Math.abs(n[0]),Math.abs(n[1])],i=1/Math.max(r[0],r[1]);return i=i*(1.29289-(r[0]+r[1])*i*.29289),[n[0]*i,n[1]*i]}),H(_,"ang",(e,t)=>Math.atan2(N.cpr(e,t),N.dpr(e,t))),H(_,"angle",(e,t)=>Math.atan2(t[1]-e[1],t[0]-e[0])),H(_,"med",(e,t)=>N.mul(N.add(e,t),.5)),H(_,"rot",(e,t=0)=>[e[0]*Math.cos(t)-e[1]*Math.sin(t),e[0]*Math.sin(t)+e[1]*Math.cos(t)]),H(_,"rotWith",(e,t,n=0)=>{if(n===0)return e;let r=Math.sin(n),i=Math.cos(n),o=e[0]-t[0],a=e[1]-t[1],s=o*i-a*r,l=o*r+a*i;return[s+t[0],l+t[1]]}),H(_,"isEqual",(e,t)=>e[0]===t[0]&&e[1]===t[1]),H(_,"lrp",(e,t,n)=>N.add(e,N.mul(N.sub(t,e),n))),H(_,"int",(e,t,n,r,i=1)=>{let o=(N.clamp(n,r)-n)/(r-n);return N.add(N.mul(e,1-o),N.mul(t,i))}),H(_,"ang3",(e,t,n)=>{let r=N.vec(t,e),i=N.vec(t,n);return N.ang(r,i)}),H(_,"abs",e=>[Math.abs(e[0]),Math.abs(e[1])]),H(_,"rescale",(e,t)=>{let n=N.len(e);return[t*e[0]/n,t*e[1]/n]}),H(_,"isLeft",(e,t,n)=>(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])),H(_,"clockwise",(e,t,n)=>N.isLeft(e,t,n)>0),H(_,"toFixed",e=>e.map(t=>Math.round(t*100)/100)),H(_,"nearestPointOnLineThroughPoint",(e,t,n)=>N.add(e,N.mul(t,N.pry(N.sub(n,e),t)))),H(_,"distanceToLineThroughPoint",(e,t,n)=>N.dist(n,N.nearestPointOnLineThroughPoint(e,t,n))),H(_,"nearestPointOnLineSegment",(e,t,n,r=!0)=>{let i=N.uni(N.sub(t,e)),o=N.add(e,N.mul(i,N.pry(N.sub(n,e),i)));if(r){if(o[0]<Math.min(e[0],t[0]))return e[0]<t[0]?e:t;if(o[0]>Math.max(e[0],t[0]))return e[0]>t[0]?e:t;if(o[1]<Math.min(e[1],t[1]))return e[1]<t[1]?e:t;if(o[1]>Math.max(e[1],t[1]))return e[1]>t[1]?e:t}return o}),H(_,"distanceToLineSegment",(e,t,n,r=!0)=>N.dist(n,N.nearestPointOnLineSegment(e,t,n,r))),H(_,"nearestPointOnBounds",(e,t)=>[N.clamp(t[0],e.minX,e.maxX),N.clamp(t[1],e.minY,e.maxY)]),H(_,"distanceToBounds",(e,t)=>N.dist(t,N.nearestPointOnBounds(e,t))),H(_,"nudge",(e,t,n)=>N.isEqual(e,t)?e:N.add(e,N.mul(N.uni(N.sub(t,e)),n))),H(_,"nudgeAtAngle",(e,t,n)=>[Math.cos(t)*n+e[0],Math.sin(t)*n+e[1]]),H(_,"toPrecision",(e,t=4)=>[+e[0].toPrecision(t),+e[1].toPrecision(t)]),H(_,"pointsBetween",(e,t,n=6)=>Array.from(Array(n)).map((r,i)=>{let o=i/(n-1),a=Math.min(1,.5+Math.abs(.5-o));return[...N.lrp(e,t,o),a]})),H(_,"slope",(e,t)=>e[0]===t[0]?NaN:(e[1]-t[1])/(e[0]-t[0])),H(_,"max",(...e)=>[Math.max(...e.map(t=>t[0])),Math.max(...e.map(t=>t[1]))]),H(_,"min",(...e)=>[Math.min(...e.map(t=>t[0])),Math.min(...e.map(t=>t[1]))]);var te=_;function Qb(e,t,n){return Math.max(t,Math.min(e,n))}const fe={toVector(e,t){return e===void 0&&(e=t),Array.isArray(e)?e:[e,e]},add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function al(e,t,n){return t===0||Math.abs(t)===1/0?Math.pow(e,n*5):e*t*n/(t+n*e)}function sl(e,t,n,r=.15){return r===0?Qb(e,t,n):e<t?-al(t-e,n-t,r)+t:e>n?+al(e-n,n-t,r)+n:e}function Vb(e,[t,n],[r,i]){const[[o,a],[s,l]]=e;return[sl(t,o,a,r),sl(n,s,l,i)]}function _e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ll(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ll(Object(n),!0).forEach(function(r){_e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ll(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const xc={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function ul(e){return e?e[0].toUpperCase()+e.slice(1):""}const Gb=["enter","leave"];function Zb(e=!1,t){return e&&!Gb.includes(t)}function Jb(e,t="",n=!1){const r=xc[e],i=r&&r[t]||t;return"on"+ul(e)+ul(i)+(Zb(n,i)?"Capture":"")}const e0=["gotpointercapture","lostpointercapture"];function t0(e){let t=e.substring(2).toLowerCase();const n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));const r=e0.includes(t)?"capturecapture":"capture",i=!!~t.indexOf(r);return i&&(t=t.replace("capture","")),{device:t,capture:i,passive:n}}function n0(e,t=""){const n=xc[e],r=n&&n[t]||t;return e+r}function Lr(e){return"touches"in e}function Tc(e){return Lr(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function r0(e){return Array.from(e.touches).filter(t=>{var n,r;return t.target===e.currentTarget||((n=e.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,t.target))})}function i0(e){return e.type==="touchend"||e.type==="touchcancel"?e.changedTouches:e.targetTouches}function Dc(e){return Lr(e)?i0(e)[0]:e}function Ji(e,t){const n=t.clientX-e.clientX,r=t.clientY-e.clientY,i=(t.clientX+e.clientX)/2,o=(t.clientY+e.clientY)/2,a=Math.hypot(n,r);return{angle:-(Math.atan2(n,r)*180)/Math.PI,distance:a,origin:[i,o]}}function o0(e){return r0(e).map(t=>t.identifier)}function cl(e,t){const[n,r]=Array.from(e.touches).filter(i=>t.includes(i.identifier));return Ji(n,r)}function fi(e){const t=Dc(e);return Lr(e)?t.identifier:t.pointerId}function Wt(e){const t=Dc(e);return[t.clientX,t.clientY]}const dl=40,fl=800;function Pc(e){let{deltaX:t,deltaY:n,deltaMode:r}=e;return r===1?(t*=dl,n*=dl):r===2&&(t*=fl,n*=fl),[t,n]}function a0(e){var t,n;const{scrollX:r,scrollY:i,scrollLeft:o,scrollTop:a}=e.currentTarget;return[(t=r??o)!==null&&t!==void 0?t:0,(n=i??a)!==null&&n!==void 0?n:0]}function s0(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:n,altKey:r,metaKey:i,ctrlKey:o}=e;Object.assign(t,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:o})}return t}function gr(e,...t){return typeof e=="function"?e(...t):e}function l0(){}function u0(...e){return e.length===0?l0:e.length===1?e[0]:function(){let t;for(const n of e)t=n.apply(this,arguments)||t;return t}}function hl(e,t){return Object.assign({},t,e||{})}const c0=32;class $c{constructor(t,n,r){this.ctrl=t,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:n,ingKey:r,args:i}=this;n[r]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=i,t.axis=void 0,t.memo=void 0,t.elapsedTime=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=t.target,n.currentTarget=t.currentTarget,n.lastOffset=r.from?gr(r.from,n):n.offset,n.offset=n.lastOffset),n.startTime=n.timeStamp=t.timeStamp}computeValues(t){const n=this.state;n._values=t,n.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:n,config:r,shared:i}=this;n.args=this.args;let o=0;if(t&&(n.event=t,r.preventDefault&&t.cancelable&&n.event.preventDefault(),n.type=t.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,s0(t)),i.down=i.pressed=i.buttons%2===1||i.touches>0,o=t.timeStamp-n.timeStamp,n.timeStamp=t.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const S=n._delta.map(Math.abs);fe.addTo(n._distance,S)}this.axisIntent&&this.axisIntent(t);const[a,s]=n._movement,[l,u]=r.threshold,{_step:d,values:f}=n;if(r.hasCustomTransform?(d[0]===!1&&(d[0]=Math.abs(a)>=l&&f[0]),d[1]===!1&&(d[1]=Math.abs(s)>=u&&f[1])):(d[0]===!1&&(d[0]=Math.abs(a)>=l&&Math.sign(a)*l),d[1]===!1&&(d[1]=Math.abs(s)>=u&&Math.sign(s)*u)),n.intentional=d[0]!==!1||d[1]!==!1,!n.intentional)return;const h=[0,0];if(r.hasCustomTransform){const[S,w]=f;h[0]=d[0]!==!1?S-d[0]:0,h[1]=d[1]!==!1?w-d[1]:0}else h[0]=d[0]!==!1?a-d[0]:0,h[1]=d[1]!==!1?s-d[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(h);const v=n.offset,y=n._active&&!n._blocked||n.active;y&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=i[this.ingKey]=n._active,t&&(n.first&&("bounds"in r&&(n._bounds=gr(r.bounds,n)),this.setup&&this.setup()),n.movement=h,this.computeOffset()));const[p,m]=n.offset,[[b,E],[O,x]]=n._bounds;n.overflow=[p<b?-1:p>E?1:0,m<O?-1:m>x?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const C=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=Vb(n._bounds,n.offset,C),n.delta=fe.sub(n.offset,v),this.computeMovement(),y&&(!n.last||o>c0)){n.delta=fe.sub(n.offset,v);const S=n.delta.map(Math.abs);fe.addTo(n.distance,S),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&o>0&&(n.velocity=[S[0]/o,S[1]/o])}}emit(){const t=this.state,n=this.shared,r=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!r.triggerAllEvents)return;const i=this.handler(ve(ve(ve({},n),t),{},{[this.aliasKey]:t.values}));i!==void 0&&(t.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function d0([e,t],n){const r=Math.abs(e),i=Math.abs(t);if(r>i&&r>n)return"x";if(i>r&&i>n)return"y"}class wn extends $c{constructor(...t){super(...t),_e(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=fe.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=fe.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const n=this.state,r=this.config;if(!n.axis&&t){const i=typeof r.axisThreshold=="object"?r.axisThreshold[Tc(t)]:r.axisThreshold;n.axis=d0(n._movement,i)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const f0=e=>e,pl=.15,kc={enabled(e=!0){return e},eventOptions(e,t,n){return ve(ve({},n.shared.eventOptions),e)},preventDefault(e=!1){return e},triggerAllEvents(e=!1){return e},rubberband(e=0){switch(e){case!0:return[pl,pl];case!1:return[0,0];default:return fe.toVector(e)}},from(e){if(typeof e=="function")return e;if(e!=null)return fe.toVector(e)},transform(e,t,n){const r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||f0},threshold(e){return fe.toVector(e,0)}},h0=0,It=ve(ve({},kc),{},{axis(e,t,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(e=h0){return e},bounds(e={}){if(typeof e=="function")return o=>It.bounds(e(o));if("current"in e)return()=>e.current;if(typeof HTMLElement=="function"&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=e;return[[t,n],[r,i]]}}),kn=10,gl={ArrowRight:(e=1)=>[kn*e,0],ArrowLeft:(e=1)=>[-kn*e,0],ArrowUp:(e=1)=>[0,-kn*e],ArrowDown:(e=1)=>[0,kn*e]};class p0 extends wn{constructor(...t){super(...t),_e(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const n=t._bounds.getBoundingClientRect(),r=t.currentTarget.getBoundingClientRect(),i={left:n.left-r.left+t.offset[0],right:n.right-r.right+t.offset[0],top:n.top-r.top+t.offset[1],bottom:n.bottom-r.bottom+t.offset[1]};t._bounds=It.bounds(i)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const n=this.config,r=this.state;if(t.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(t.buttons):n.pointerButtons!==-1&&n.pointerButtons!==t.buttons))return;const i=this.ctrl.setEventIds(t);n.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(t),this.setupPointer(t),r._pointerId=fi(t),r._pointerActive=!0,this.computeValues(Wt(t)),this.computeInitial(),n.preventScrollAxis&&Tc(t)!=="mouse"?(r._active=!1,this.setupScrollPrevention(t)):n.delay>0?(this.setupDelayTrigger(t),n.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const n=this.state,r=this.config;if(!n._pointerActive||n.type===t.type&&t.timeStamp===n.timeStamp)return;const i=fi(t);if(n._pointerId!==void 0&&i!==n._pointerId)return;const o=Wt(t);if(document.pointerLockElement===t.target?n._delta=[t.movementX,t.movementY]:(n._delta=fe.sub(o,n._values),this.computeValues(o)),fe.addTo(n._movement,n._delta),this.compute(t),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(t);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const i=fi(t);if(n._pointerId!==void 0&&i!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[o,a]=n._distance;if(n.tap=o<=r.tapsThreshold&&a<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[s,l]=n.direction,[u,d]=n.velocity,[f,h]=n.movement,[v,y]=r.swipe.velocity,[p,m]=r.swipe.distance,b=r.swipe.duration;n.elapsedTime<b&&(Math.abs(u)>v&&Math.abs(f)>p&&(n.swipe[0]=s),Math.abs(d)>y&&Math.abs(h)>m&&(n.swipe[1]=l))}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const n=this.config,r=n.device;n.pointerLock&&t.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,g0(t);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const n=gl[t.key];if(n){const r=this.state,i=t.shiftKey?10:t.altKey?.1:1;this.start(t),r._delta=n(i),r._keyboardActive=!0,fe.addTo(r._movement,r._delta),this.compute(t),this.emit()}}keyUp(t){t.key in gl&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const n=this.config.device;t(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(n,"change",this.pointerMove.bind(this)),t(n,"end",this.pointerUp.bind(this)),t(n,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function g0(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}const Sn=typeof window<"u"&&window.document&&window.document.createElement;function m0(){return Sn&&"ontouchstart"in window}function ml(){return m0()||Sn&&window.navigator.maxTouchPoints>1}function v0(){return Sn&&"onpointerdown"in window}function y0(){return Sn&&"exitPointerLock"in window.document}function b0(){try{return"constructor"in GestureEvent}catch{return!1}}const Ve={isBrowser:Sn,gesture:b0(),touch:ml(),touchscreen:ml(),pointer:v0(),pointerLock:y0()},E0=250,w0=180,S0=.5,O0=50,I0=250,vl={mouse:0,touch:0,pen:8},_0=ve(ve({},It),{},{device(e,t,{pointer:{touch:n=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&Ve.pointerLock,Ve.touch&&n?"touch":this.pointerLock?"mouse":Ve.pointer&&!i?"pointer":Ve.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&e?E0:void 0,!(!Ve.touchscreen||n===!1))return e||(n!==void 0?"y":void 0)},pointerCapture(e,t,{pointer:{capture:n=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&n},threshold(e,t,{filterTaps:n=!1,tapsThreshold:r=3,axis:i=void 0}){const o=fe.toVector(e,n?r:i?1:0);return this.filterTaps=n,this.tapsThreshold=r,o},swipe({velocity:e=S0,distance:t=O0,duration:n=I0}={}){return{velocity:this.transform(fe.toVector(e)),distance:this.transform(fe.toVector(t)),duration:n}},delay(e=0){switch(e){case!0:return w0;case!1:return 0;default:return e}},axisThreshold(e){return e?ve(ve({},vl),e):vl}});function Rc(e){const[t,n]=e.overflow,[r,i]=e._delta,[o,a]=e._direction;(t<0&&r>0&&o<0||t>0&&r<0&&o>0)&&(e._movement[0]=e._movementBound[0]),(n<0&&i>0&&a<0||n>0&&i<0&&a>0)&&(e._movement[1]=e._movementBound[1])}const C0=30,x0=100;class T0 extends $c{constructor(...t){super(...t),_e(this,"ingKey","pinching"),_e(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const t=this.state;t._touchIds=[],t.canceled=!1,t.cancel=this.cancel.bind(this),t.turns=0}computeOffset(){const{type:t,movement:n,lastOffset:r}=this.state;t==="wheel"?this.state.offset=fe.add(n,r):this.state.offset=[(1+n[0])*r[0],n[1]+r[1]]}computeMovement(){const{offset:t,lastOffset:n}=this.state;this.state.movement=[t[0]/n[0],t[1]-n[1]]}axisIntent(){const t=this.state,[n,r]=t._movement;if(!t.axis){const i=Math.abs(n)*C0-Math.abs(r);i<0?t.axis="angle":i>0&&(t.axis="scale")}}restrictToAxis(t){this.config.lockDirection&&(this.state.axis==="scale"?t[1]=0:this.state.axis==="angle"&&(t[0]=0))}cancel(){const t=this.state;t.canceled||setTimeout(()=>{t.canceled=!0,t._active=!1,this.compute(),this.emit()},0)}touchStart(t){this.ctrl.setEventIds(t);const n=this.state,r=this.ctrl.touchIds;if(n._active&&n._touchIds.every(o=>r.has(o))||r.size<2)return;this.start(t),n._touchIds=Array.from(r).slice(0,2);const i=cl(t,n._touchIds);this.pinchStart(t,i)}pointerStart(t){if(t.buttons!=null&&t.buttons%2!==1)return;this.ctrl.setEventIds(t),t.target.setPointerCapture(t.pointerId);const n=this.state,r=n._pointerEvents,i=this.ctrl.pointerIds;if(n._active&&Array.from(r.keys()).every(a=>i.has(a))||(r.size<2&&r.set(t.pointerId,t),n._pointerEvents.size<2))return;this.start(t);const o=Ji(...Array.from(r.values()));this.pinchStart(t,o)}pinchStart(t,n){const r=this.state;r.origin=n.origin,this.computeValues([n.distance,n.angle]),this.computeInitial(),this.compute(t),this.emit()}touchMove(t){if(!this.state._active)return;const n=cl(t,this.state._touchIds);this.pinchMove(t,n)}pointerMove(t){const n=this.state._pointerEvents;if(n.has(t.pointerId)&&n.set(t.pointerId,t),!this.state._active)return;const r=Ji(...Array.from(n.values()));this.pinchMove(t,r)}pinchMove(t,n){const r=this.state,i=r._values[1],o=n.angle-i;let a=0;Math.abs(o)>270&&(a+=Math.sign(o)),this.computeValues([n.distance,n.angle-360*a]),r.origin=n.origin,r.turns=a,r._movement=[r._values[0]/r._initial[0]-1,r._values[1]-r._initial[1]],this.compute(t),this.emit()}touchEnd(t){this.ctrl.setEventIds(t),this.state._active&&this.state._touchIds.some(n=>!this.ctrl.touchIds.has(n))&&(this.state._active=!1,this.compute(t),this.emit())}pointerEnd(t){const n=this.state;this.ctrl.setEventIds(t);try{t.target.releasePointerCapture(t.pointerId)}catch{}n._pointerEvents.has(t.pointerId)&&n._pointerEvents.delete(t.pointerId),n._active&&n._pointerEvents.size<2&&(n._active=!1,this.compute(t),this.emit())}gestureStart(t){t.cancelable&&t.preventDefault();const n=this.state;n._active||(this.start(t),this.computeValues([t.scale,t.rotation]),n.origin=[t.clientX,t.clientY],this.compute(t),this.emit())}gestureMove(t){if(t.cancelable&&t.preventDefault(),!this.state._active)return;const n=this.state;this.computeValues([t.scale,t.rotation]),n.origin=[t.clientX,t.clientY];const r=n._movement;n._movement=[t.scale-1,t.rotation],n._delta=fe.sub(n._movement,r),this.compute(t),this.emit()}gestureEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}wheel(t){const n=this.config.modifierKey;n&&!t[n]||(this.state._active?this.wheelChange(t):this.wheelStart(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(t){this.start(t),this.wheelChange(t)}wheelChange(t){"uv"in t||t.cancelable&&t.preventDefault();const r=this.state;r._delta=[-Pc(t)[1]/x0*r.offset[0],0],fe.addTo(r._movement,r._delta),Rc(r),this.state.origin=[t.clientX,t.clientY],this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){const n=this.config.device;n&&(t(n,"start",this[n+"Start"].bind(this)),t(n,"change",this[n+"Move"].bind(this)),t(n,"end",this[n+"End"].bind(this)),t(n,"cancel",this[n+"End"].bind(this))),this.config.pinchOnWheel&&t("wheel","",this.wheel.bind(this),{passive:!1})}}const D0=ve(ve({},kc),{},{device(e,t,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!Ve.touch&&Ve.gesture)return"gesture";if(Ve.touch&&r)return"touch";if(Ve.touchscreen){if(Ve.pointer)return"pointer";if(Ve.touch)return"touch"}},bounds(e,t,{scaleBounds:n={},angleBounds:r={}}){const i=a=>{const s=hl(gr(n,a),{min:-1/0,max:1/0});return[s.min,s.max]},o=a=>{const s=hl(gr(r,a),{min:-1/0,max:1/0});return[s.min,s.max]};return typeof n!="function"&&typeof r!="function"?[i(),o()]:a=>[i(a),o(a)]},threshold(e,t,n){return this.lockDirection=n.axis==="lock",fe.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey(e){return e===void 0?"ctrlKey":e},pinchOnWheel(e=!0){return e}});class P0 extends wn{constructor(...t){super(...t),_e(this,"ingKey","moving")}move(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.state._active?this.moveChange(t):this.moveStart(t),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}moveStart(t){this.start(t),this.computeValues(Wt(t)),this.compute(t),this.computeInitial(),this.emit()}moveChange(t){if(!this.state._active)return;const n=Wt(t),r=this.state;r._delta=fe.sub(n,r._values),fe.addTo(r._movement,r._delta),this.computeValues(n),this.compute(t),this.emit()}moveEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}bind(t){t("pointer","change",this.move.bind(this)),t("pointer","leave",this.moveEnd.bind(this))}}const $0=ve(ve({},It),{},{mouseOnly:(e=!0)=>e});class k0 extends wn{constructor(...t){super(...t),_e(this,"ingKey","scrolling")}scroll(t){this.state._active||this.start(t),this.scrollChange(t),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}scrollChange(t){t.cancelable&&t.preventDefault();const n=this.state,r=a0(t);n._delta=fe.sub(r,n._values),fe.addTo(n._movement,n._delta),this.computeValues(r),this.compute(t),this.emit()}scrollEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("scroll","",this.scroll.bind(this))}}const R0=It;class A0 extends wn{constructor(...t){super(...t),_e(this,"ingKey","wheeling")}wheel(t){this.state._active||this.start(t),this.wheelChange(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}wheelChange(t){const n=this.state;n._delta=Pc(t),fe.addTo(n._movement,n._delta),Rc(n),this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){t("wheel","",this.wheel.bind(this))}}const M0=It;class N0 extends wn{constructor(...t){super(...t),_e(this,"ingKey","hovering")}enter(t){this.config.mouseOnly&&t.pointerType!=="mouse"||(this.start(t),this.computeValues(Wt(t)),this.compute(t),this.emit())}leave(t){if(this.config.mouseOnly&&t.pointerType!=="mouse")return;const n=this.state;if(!n._active)return;n._active=!1;const r=Wt(t);n._movement=n._delta=fe.sub(r,n._values),this.computeValues(r),this.compute(t),n.delta=n.movement,this.emit()}bind(t){t("pointer","enter",this.enter.bind(this)),t("pointer","leave",this.leave.bind(this))}}const L0=ve(ve({},It),{},{mouseOnly:(e=!0)=>e}),ta=new Map,eo=new Map;function z0(e){ta.set(e.key,e.engine),eo.set(e.key,e.resolver)}const H0={key:"drag",engine:p0,resolver:_0},F0={key:"hover",engine:N0,resolver:L0},j0={key:"move",engine:P0,resolver:$0},B0={key:"pinch",engine:T0,resolver:D0},K0={key:"scroll",engine:k0,resolver:R0},U0={key:"wheel",engine:A0,resolver:M0};function W0(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function q0(e,t){if(e==null)return{};var n=W0(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}const Y0={target(e){if(e)return()=>"current"in e?e.current:e},enabled(e=!0){return e},window(e=Ve.isBrowser?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform(e){return e}},X0=["target","eventOptions","window","enabled","transform"];function Qn(e={},t){const n={};for(const[r,i]of Object.entries(t))switch(typeof i){case"function":n[r]=i.call(n,e[r],r,e);break;case"object":n[r]=Qn(e[r],i);break;case"boolean":i&&(n[r]=e[r]);break}return n}function Q0(e,t,n={}){const r=e,{target:i,eventOptions:o,window:a,enabled:s,transform:l}=r,u=q0(r,X0);if(n.shared=Qn({target:i,eventOptions:o,window:a,enabled:s,transform:l},Y0),t){const d=eo.get(t);n[t]=Qn(ve({shared:n.shared},u),d)}else for(const d in u){const f=eo.get(d);f&&(n[d]=Qn(ve({shared:n.shared},u[d]),f))}return n}class Ac{constructor(t,n){_e(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=n}add(t,n,r,i,o){const a=this._listeners,s=n0(n,r),l=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},u=ve(ve({},l),o);t.addEventListener(s,i,u);const d=()=>{t.removeEventListener(s,i,u),a.delete(d)};return a.add(d),d}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class V0{constructor(){_e(this,"_timeouts",new Map)}add(t,n,r=140,...i){this.remove(t),this._timeouts.set(t,window.setTimeout(n,r,...i))}remove(t){const n=this._timeouts.get(t);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class G0{constructor(t){_e(this,"gestures",new Set),_e(this,"_targetEventStore",new Ac(this)),_e(this,"gestureEventStores",{}),_e(this,"gestureTimeoutStores",{}),_e(this,"handlers",{}),_e(this,"config",{}),_e(this,"pointerIds",new Set),_e(this,"touchIds",new Set),_e(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Z0(this,t)}setEventIds(t){if(Lr(t))return this.touchIds=new Set(o0(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,n){this.handlers=t,this.nativeHandlers=n}applyConfig(t,n){this.config=Q0(t,n,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const n=this.config.shared,r={};let i;if(!(n.target&&(i=n.target(),!i))){if(n.enabled){for(const a of this.gestures){const s=this.config[a],l=yl(r,s.eventOptions,!!i);if(s.enabled){const u=ta.get(a);new u(this,t,a).bind(l)}}const o=yl(r,n.eventOptions,!!i);for(const a in this.nativeHandlers)o(a,"",s=>this.nativeHandlers[a](ve(ve({},this.state.shared),{},{event:s,args:t})),void 0,!0)}for(const o in r)r[o]=u0(...r[o]);if(!i)return r;for(const o in r){const{device:a,capture:s,passive:l}=t0(o);this._targetEventStore.add(i,a,"",r[o],{capture:s,passive:l})}}}}function Rt(e,t){e.gestures.add(t),e.gestureEventStores[t]=new Ac(e,t),e.gestureTimeoutStores[t]=new V0}function Z0(e,t){t.drag&&Rt(e,"drag"),t.wheel&&Rt(e,"wheel"),t.scroll&&Rt(e,"scroll"),t.move&&Rt(e,"move"),t.pinch&&Rt(e,"pinch"),t.hover&&Rt(e,"hover")}const yl=(e,t,n)=>(r,i,o,a={},s=!1)=>{var l,u;const d=(l=a.capture)!==null&&l!==void 0?l:t.capture,f=(u=a.passive)!==null&&u!==void 0?u:t.passive;let h=s?r:Jb(r,i,d);n&&f&&(h+="Passive"),e[h]=e[h]||[],e[h].push(o)},J0=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function eE(e){const t={},n={},r=new Set;for(let i in e)J0.test(i)?(r.add(RegExp.lastMatch),n[i]=e[i]):t[i]=e[i];return[n,t,r]}function At(e,t,n,r,i,o){if(!e.has(n)||!ta.has(r))return;const a=n+"Start",s=n+"End",l=u=>{let d;return u.first&&a in t&&t[a](u),n in t&&(d=t[n](u)),u.last&&s in t&&t[s](u),d};i[r]=l,o[r]=o[r]||{}}function tE(e,t){const[n,r,i]=eE(e),o={};return At(i,n,"onDrag","drag",o,t),At(i,n,"onWheel","wheel",o,t),At(i,n,"onScroll","scroll",o,t),At(i,n,"onPinch","pinch",o,t),At(i,n,"onMove","move",o,t),At(i,n,"onHover","hover",o,t),{handlers:o,config:t,nativeHandlers:r}}function nE(e,t={},n,r){const i=g.useMemo(()=>new G0(e),[]);if(i.applyHandlers(e,r),i.applyConfig(t,n),g.useEffect(i.effect.bind(i)),g.useEffect(()=>i.clean.bind(i),[]),t.target===void 0)return i.bind.bind(i)}function rE(e){return e.forEach(z0),function(n,r){const{handlers:i,nativeHandlers:o,config:a}=tE(n,r||{});return nE(i,a,void 0,o)}}function iE(e,t){return rE([H0,B0,K0,U0,j0,F0])(e,t||{})}function bl(e,t,n,r=i=>i){return e*r(.5-t*(.5-n))}function oE(e){return[-e[0],-e[1]]}function Je(e,t){return[e[0]+t[0],e[1]+t[1]]}function Xe(e,t){return[e[0]-t[0],e[1]-t[1]]}function Ze(e,t){return[e[0]*t,e[1]*t]}function aE(e,t){return[e[0]/t,e[1]/t]}function en(e){return[e[1],-e[0]]}function El(e,t){return e[0]*t[0]+e[1]*t[1]}function sE(e,t){return e[0]===t[0]&&e[1]===t[1]}function lE(e){return Math.hypot(e[0],e[1])}function uE(e){return e[0]*e[0]+e[1]*e[1]}function wl(e,t){return uE(Xe(e,t))}function Mc(e){return aE(e,lE(e))}function cE(e,t){return Math.hypot(e[1]-t[1],e[0]-t[0])}function tn(e,t,n){let r=Math.sin(n),i=Math.cos(n),o=e[0]-t[0],a=e[1]-t[1],s=o*i-a*r,l=o*r+a*i;return[s+t[0],l+t[1]]}function to(e,t,n){return Je(e,Ze(Xe(t,e),n))}function Sl(e,t,n){return Je(e,Ze(t,n))}var{min:Mt,PI:dE}=Math,Ol=.275,nn=dE+1e-4;function fE(e,t={}){let{size:n=16,smoothing:r=.5,thinning:i=.5,simulatePressure:o=!0,easing:a=M=>M,start:s={},end:l={},last:u=!1}=t,{cap:d=!0,easing:f=M=>M*(2-M)}=s,{cap:h=!0,easing:v=M=>--M*M*M+1}=l;if(e.length===0||n<=0)return[];let y=e[e.length-1].runningLength,p=s.taper===!1?0:s.taper===!0?Math.max(n,y):s.taper,m=l.taper===!1?0:l.taper===!0?Math.max(n,y):l.taper,b=Math.pow(n*r,2),E=[],O=[],x=e.slice(0,10).reduce((M,q)=>{let W=q.pressure;if(o){let V=Mt(1,q.distance/n),A=Mt(1,1-V);W=Mt(1,M+(A-M)*(V*Ol))}return(M+W)/2},e[0].pressure),C=bl(n,i,e[e.length-1].pressure,a),S,w=e[0].vector,I=e[0].point,T=I,P=I,$=T,z=!1;for(let M=0;M<e.length;M++){let{pressure:q}=e[M],{point:W,vector:V,distance:A,runningLength:j}=e[M];if(M<e.length-1&&y-j<3)continue;if(i){if(o){let de=Mt(1,A/n),U=Mt(1,1-de);q=Mt(1,x+(U-x)*(de*Ol))}C=bl(n,i,q,a)}else C=n/2;S===void 0&&(S=C);let G=j<p?f(j/p):1,K=y-j<m?v((y-j)/m):1;C=Math.max(.01,C*Math.min(G,K));let J=(M<e.length-1?e[M+1]:e[M]).vector,Le=M<e.length-1?El(V,J):1,ne=El(V,w)<0&&!z,ye=Le!==null&&Le<0;if(ne||ye){let de=Ze(en(w),C);for(let U=1/13,D=0;D<=1;D+=U)P=tn(Xe(W,de),W,nn*D),E.push(P),$=tn(Je(W,de),W,nn*-D),O.push($);I=P,T=$,ye&&(z=!0);continue}if(z=!1,M===e.length-1){let de=Ze(en(V),C);E.push(Xe(W,de)),O.push(Je(W,de));continue}let ze=Ze(en(to(J,V,Le)),C);P=Xe(W,ze),(M<=1||wl(I,P)>b)&&(E.push(P),I=P),$=Je(W,ze),(M<=1||wl(T,$)>b)&&(O.push($),T=$),x=q,w=V}let ee=e[0].point.slice(0,2),Z=e.length>1?e[e.length-1].point.slice(0,2):Je(e[0].point,[1,1]),ue=[],le=[];if(e.length===1){if(!(p||m)||u){let M=Sl(ee,Mc(en(Xe(ee,Z))),-(S||C)),q=[];for(let W=1/13,V=W;V<=1;V+=W)q.push(tn(M,ee,nn*2*V));return q}}else{if(!(p||m&&e.length===1))if(d)for(let q=1/13,W=q;W<=1;W+=q){let V=tn(O[0],ee,nn*W);ue.push(V)}else{let q=Xe(E[0],O[0]),W=Ze(q,.5),V=Ze(q,.51);ue.push(Xe(ee,W),Xe(ee,V),Je(ee,V),Je(ee,W))}let M=en(oE(e[e.length-1].vector));if(m||p&&e.length===1)le.push(Z);else if(h){let q=Sl(Z,M,C);for(let W=1/29,V=W;V<1;V+=W)le.push(tn(q,Z,nn*3*V))}else le.push(Je(Z,Ze(M,C)),Je(Z,Ze(M,C*.99)),Xe(Z,Ze(M,C*.99)),Xe(Z,Ze(M,C)))}return E.concat(le,O.reverse(),ue)}function hE(e,t={}){var n;let{streamline:r=.5,size:i=16,last:o=!1}=t;if(e.length===0)return[];let a=.15+(1-r)*.85,s=Array.isArray(e[0])?e:e.map(({x:v,y,pressure:p=.5})=>[v,y,p]);if(s.length===2){let v=s[1];s=s.slice(0,-1);for(let y=1;y<5;y++)s.push(to(s[0],v,y/4))}s.length===1&&(s=[...s,[...Je(s[0],[1,1]),...s[0].slice(2)]]);let l=[{point:[s[0][0],s[0][1]],pressure:s[0][2]>=0?s[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],u=!1,d=0,f=l[0],h=s.length-1;for(let v=1;v<s.length;v++){let y=o&&v===h?s[v].slice(0,2):to(f.point,s[v],a);if(sE(f.point,y))continue;let p=cE(y,f.point);if(d+=p,v<h&&!u){if(d<i)continue;u=!0}f={point:y,pressure:s[v][2]>=0?s[v][2]:.5,vector:Mc(Xe(f.point,y)),distance:p,runningLength:d},l.push(f)}return l[0].vector=((n=l[1])==null?void 0:n.vector)||[0,0],l}function pE(e,t={}){return fE(hE(e,t),t)}var gE=pE;function bt(e,...t){return{didIntersect:t.length>0,message:e,points:t}}function mE(e,t,n=0){let r=[e[0]+t[0]/2,e[1]+t[1]/2],i=_.rotWith(e,r,n),o=_.rotWith(_.add(e,[t[0],0]),r,n),a=_.rotWith(_.add(e,t),r,n),s=_.rotWith(_.add(e,[0,t[1]]),r,n);return[["top",[i,o]],["right",[o,a]],["bottom",[a,s]],["left",[s,i]]]}function vE(e,t,n,r){let i=_.sub(e,n),o=_.sub(r,n),a=_.sub(t,e),s=o[0]*i[1]-o[1]*i[0],l=a[0]*i[1]-a[1]*i[0],u=o[1]*a[0]-o[0]*a[1];if(s===0||l===0)return bt("coincident");if(u===0)return bt("parallel");if(u!==0){let d=s/u,f=l/u;if(0<=d&&d<=1&&0<=f&&f<=1)return bt("intersection",_.add(e,_.mul(a,d)))}return bt("no intersection")}function yE(e,t,n){let r=[];for(let i=1;i<n.length+1;i++){let o=vE(e,t,n[i-1],n[i%n.length]);o&&r.push(...o.points)}return r.length===0?bt("no intersection"):bt("intersection",...n)}function bE(e,t,n){return mE(e,t).reduce((r,[i,[o,a]])=>{let s=yE(o,a,n);return s.didIntersect&&r.push(bt(i,...s.points)),r},[]).filter(r=>r.didIntersect)}function EE(e,t){return bE([t.minX,t.minY],[t.width,t.height],e)}var wE=Object.defineProperty,SE=Object.defineProperties,OE=Object.getOwnPropertyDescriptors,mr=Object.getOwnPropertySymbols,Nc=Object.prototype.hasOwnProperty,Lc=Object.prototype.propertyIsEnumerable,no=(e,t,n)=>t in e?wE(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,re=(e,t)=>{for(var n in t||(t={}))Nc.call(t,n)&&no(e,n,t[n]);if(mr)for(var n of mr(t))Lc.call(t,n)&&no(e,n,t[n]);return e},rt=(e,t)=>SE(e,OE(t)),Qt=(e,t)=>{var n={};for(var r in e)Nc.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&mr)for(var r of mr(e))t.indexOf(r)<0&&Lc.call(e,r)&&(n[r]=e[r]);return n},he=(e,t,n)=>(no(e,typeof t!="symbol"?t+"":t,n),n),na=c.createContext({});function Ne(){return c.useContext(na)}var IE=(e=>(e.TransformSelected="transform_selected",e.TranslateSelected="translate_selected",e.TransformAll="transform_all",e.TranslateAll="translate_all",e))(IE||{}),_E=(e=>(e.Top="top_edge",e.Right="right_edge",e.Bottom="bottom_edge",e.Left="left_edge",e))(_E||{}),CE=(e=>(e.TopLeft="top_left_corner",e.TopRight="top_right_corner",e.BottomRight="bottom_right_corner",e.BottomLeft="bottom_left_corner",e))(CE||{}),xE=(e=>(e.minX="minX",e.midX="midX",e.maxX="maxX",e.minY="minY",e.midY="midY",e.maxY="maxY",e))(xE||{});String.prototype.replaceAll||(String.prototype.replaceAll=function(e,t){return Object.prototype.toString.call(e).toLowerCase()==="[object regexp]"?this.replace(e,t):this.replace(new RegExp(e,"g"),t)});var Rn=Math.PI*2,xe=class{static lerp(e,t,n){return n=xe.clamp(n,0,1),e*(1-n)+t*n}static lerpColor(e,t,n=.5){function r(l){let u=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(l);return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}function i(l){return"#"+((1<<24)+(l[0]<<16)+(l[1]<<8)+l[2]).toString(16).slice(1)}let o=r(e)||[0,0,0],a=r(t)||[0,0,0],s=o.slice();for(let l=0;l<3;l++)s[l]=Math.round(s[l]+n*(a[l]-o[l]));return i(s)}static modulate(e,t,n,r=!1){let[i,o]=t,[a,s]=n,l=a+(e-i)/(o-i)*(s-a);return r?a<s?Math.max(Math.min(l,s),a):Math.max(Math.min(l,a),s):l}static clamp(e,t,n){return Math.max(t,typeof n<"u"?Math.min(e,n):e)}static deepClone(e){if(e===null)return e;if(Array.isArray(e))return[...e];if(typeof e=="object"){let t=re({},e);return Object.keys(t).forEach(n=>t[n]=typeof e[n]=="object"?xe.deepClone(e[n]):e[n]),t}return e}static rng(e=""){let t=0,n=0,r=0,i=0;function o(){let a=t^t<<11;return t=n,n=r,r=i,i^=(i>>>19^a^a>>>8)>>>0,i/4294967296}for(let a=0;a<e.length+64;a++)t^=e.charCodeAt(a)|0,o();return o}static pointsToLineSegments(e,t=!1){let n=[];for(let r=1;r<e.length;r++)n.push([e[r-1],e[r]]);return t&&n.push([e[e.length-1],e[0]]),n}static getRectangleSides(e,t,n=0){let r=[e[0]+t[0]/2,e[1]+t[1]/2],i=_.rotWith(e,r,n),o=_.rotWith(_.add(e,[t[0],0]),r,n),a=_.rotWith(_.add(e,t),r,n),s=_.rotWith(_.add(e,[0,t[1]]),r,n);return[["top",[i,o]],["right",[o,a]],["bottom",[a,s]],["left",[s,i]]]}static circleFromThreePoints(e,t,n){let[r,i]=e,[o,a]=t,[s,l]=n,u=r*(a-l)-i*(o-s)+o*l-s*a,d=(r*r+i*i)*(l-a)+(o*o+a*a)*(i-l)+(s*s+l*l)*(a-i),f=(r*r+i*i)*(o-s)+(o*o+a*a)*(s-r)+(s*s+l*l)*(r-o),h=-d/(2*u),v=-f/(2*u);return[h,v,Math.hypot(h-r,v-i)]}static perimeterOfEllipse(e,t){let n=Math.pow(e-t,2)/Math.pow(e+t,2);return Math.PI*(e+t)*(1+3*n/(10+Math.sqrt(4-3*n)))}static shortAngleDist(e,t){let n=Math.PI*2,r=(t-e)%n;return 2*r%n-r}static longAngleDist(e,t){return Math.PI*2-xe.shortAngleDist(e,t)}static lerpAngles(e,t,n){return e+xe.shortAngleDist(e,t)*n}static angleDelta(e,t){return xe.shortAngleDist(e,t)}static getSweep(e,t,n){return xe.angleDelta(_.angle(e,t),_.angle(e,n))}static clampRadians(e){return(Math.PI*2+e)%(Math.PI*2)}static snapAngleToSegments(e,t){let n=Math.PI*2/t;return Math.floor((xe.clampRadians(e)+n/2)/n)*n}static isAngleBetween(e,t,n){if(n===e||n===t)return!0;let r=(t-e+Rn)%Rn,i=(n-e+Rn)%Rn;return r<=Math.PI!=i>r}static degreesToRadians(e){return e*Math.PI/180}static radiansToDegrees(e){return e*180/Math.PI}static getArcLength(e,t,n,r){let i=xe.getSweep(e,n,r);return t*(2*Math.PI)*(i/(2*Math.PI))}static getSweepFlag(e,t,n){let r=_.angle(e,n);return(_.angle(e,t)-r+3*Math.PI)%(2*Math.PI)-Math.PI>0?0:1}static getLargeArcFlag(e,t,n){let r=_.angle(n,e),i=(_.angle(n,t)-r+3*Math.PI)%(2*Math.PI)-Math.PI;return Math.abs(i)>Math.PI/2?0:1}static getArcDashOffset(e,t,n,r,i){let o=xe.getSweepFlag(e,n,r),a=xe.getArcLength(e,t,n,r);return-(o<0?a:2*Math.PI*e[2]-a)/2+i}static getEllipseDashOffset(e,t){return-(2*Math.PI*e[2])/2+-t}static pointInCircle(e,t,n){return _.dist(e,t)<=n}static pointInEllipse(e,t,n,r,i=0){i=i||0;let o=Math.cos(i),a=Math.sin(i),s=_.sub(e,t),l=o*s[0]+a*s[1],u=a*s[0]-o*s[1];return l*l/(n*n)+u*u/(r*r)<=1}static pointInRect(e,t){return!(e[0]<t[0]||e[0]>e[0]+t[0]||e[1]<t[1]||e[1]>e[1]+t[1])}static pointInPolygon(e,t){let n=0;return t.forEach((r,i)=>{let o=t[(i+1)%t.length];r[1]<=e[1]?o[1]>e[1]&&_.cross(r,o,e)>0&&(n+=1):o[1]<=e[1]&&_.cross(r,o,e)<0&&(n-=1)}),n!==0}static pointInBounds(e,t){return!(e[0]<t.minX||e[0]>t.maxX||e[1]<t.minY||e[1]>t.maxY)}static pointInPolyline(e,t,n=3){for(let r=1;r<t.length;r++)if(_.distanceToLineSegment(t[r-1],t[r],e)<n)return!0;return!1}static getBoundsSides(e){return this.getRectangleSides([e.minX,e.minY],[e.width,e.height])}static expandBounds(e,t){return{minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,width:e.width+t*2,height:e.height+t*2}}static boundsCollide(e,t){return!(e.maxX<t.minX||e.minX>t.maxX||e.maxY<t.minY||e.minY>t.maxY)}static boundsContain(e,t){return e.minX<t.minX&&e.minY<t.minY&&e.maxY>t.maxY&&e.maxX>t.maxX}static boundsContained(e,t){return xe.boundsContain(t,e)}static boundsAreEqual(e,t){return!(t.maxX!==e.maxX||t.minX!==e.minX||t.maxY!==e.maxY||t.minY!==e.minY)}static getBoundsFromPoints(e,t=0){let n=1/0,r=1/0,i=-1/0,o=-1/0;if(e.length<2)n=0,r=0,i=1,o=1;else for(let[a,s]of e)n=Math.min(a,n),r=Math.min(s,r),i=Math.max(a,i),o=Math.max(s,o);return t!==0?xe.getBoundsFromPoints(e.map(a=>_.rotWith(a,[(n+i)/2,(r+o)/2],t))):{minX:n,minY:r,maxX:i,maxY:o,width:Math.max(1,i-n),height:Math.max(1,o-r)}}static centerBounds(e,t){let n=this.getBoundsCenter(e),r=t[0]-n[0],i=t[1]-n[1];return this.translateBounds(e,[r,i])}static snapBoundsToGrid(e,t){let n=Math.round(e.minX/t)*t,r=Math.round(e.minY/t)*t,i=Math.round(e.maxX/t)*t,o=Math.round(e.maxY/t)*t;return{minX:n,minY:r,maxX:i,maxY:o,width:Math.max(1,i-n),height:Math.max(1,o-r)}}static translateBounds(e,t){return{minX:e.minX+t[0],minY:e.minY+t[1],maxX:e.maxX+t[0],maxY:e.maxY+t[1],width:e.width,height:e.height}}static rotateBounds(e,t,n){let[r,i]=_.rotWith([e.minX,e.minY],t,n),[o,a]=_.rotWith([e.maxX,e.maxY],t,n);return{minX:r,minY:i,maxX:o,maxY:a,width:e.width,height:e.height}}static getRotatedEllipseBounds(e,t,n,r,i=0){let o=Math.cos(i),a=Math.sin(i),s=Math.hypot(n*o,r*a),l=Math.hypot(n*a,r*o);return{minX:e+n-s,minY:t+r-l,maxX:e+n+s,maxY:t+r+l,width:s*2,height:l*2}}static getExpandedBounds(e,t){let n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),i=Math.max(e.maxX,t.maxX),o=Math.max(e.maxY,t.maxY),a=Math.abs(i-n),s=Math.abs(o-r);return{minX:n,minY:r,maxX:i,maxY:o,width:a,height:s}}static getCommonBounds(e){if(e.length<2)return e[0];let t=e[0];for(let n=1;n<e.length;n++)t=xe.getExpandedBounds(t,e[n]);return t}static getRotatedCorners(e,t=0){let n=[e.minX+e.width/2,e.minY+e.height/2];return[[e.minX,e.minY],[e.maxX,e.minY],[e.maxX,e.maxY],[e.minX,e.maxY]].map(r=>_.rotWith(r,n,t))}static getTransformedBoundingBox(e,t,n,r=0,i=!1){let[o,a]=[e.minX,e.minY],[s,l]=[e.maxX,e.maxY],[u,d]=[e.minX,e.minY],[f,h]=[e.maxX,e.maxY];if(t==="center")return{minX:u+n[0],minY:d+n[1],maxX:f+n[0],maxY:h+n[1],width:f-u,height:h-d,scaleX:1,scaleY:1};let[v,y]=_.rot(n,-r);switch(t){case"top_edge":case"top_left_corner":case"top_right_corner":{d+=y;break}case"bottom_edge":case"bottom_left_corner":case"bottom_right_corner":{h+=y;break}}switch(t){case"left_edge":case"top_left_corner":case"bottom_left_corner":{u+=v;break}case"right_edge":case"top_right_corner":case"bottom_right_corner":{f+=v;break}}let p=s-o,m=l-a,b=(f-u)/p,E=(h-d)/m,O=b<0,x=E<0,C=Math.abs(f-u),S=Math.abs(h-d);if(i){let w=p/m,I=w<C/S,T=C*(E<0?1:-1)*(1/w),P=S*(b<0?1:-1)*w;switch(t){case"top_left_corner":{I?d=h+T:u=f+P;break}case"top_right_corner":{I?d=h+T:f=u-P;break}case"bottom_right_corner":{I?h=d-T:f=u-P;break}case"bottom_left_corner":{I?h=d-T:u=f+P;break}case"bottom_edge":case"top_edge":{let $=(u+f)/2,z=S*w;u=$-z/2,f=$+z/2;break}case"left_edge":case"right_edge":{let $=(d+h)/2,z=C/w;d=$-z/2,h=$+z/2;break}}}if(r%(Math.PI*2)!==0){let w=[0,0],I=_.med([o,a],[s,l]),T=_.med([u,d],[f,h]);switch(t){case"top_left_corner":{w=_.sub(_.rotWith([f,h],T,r),_.rotWith([s,l],I,r));break}case"top_right_corner":{w=_.sub(_.rotWith([u,h],T,r),_.rotWith([o,l],I,r));break}case"bottom_right_corner":{w=_.sub(_.rotWith([u,d],T,r),_.rotWith([o,a],I,r));break}case"bottom_left_corner":{w=_.sub(_.rotWith([f,d],T,r),_.rotWith([s,a],I,r));break}case"top_edge":{w=_.sub(_.rotWith(_.med([u,h],[f,h]),T,r),_.rotWith(_.med([o,l],[s,l]),I,r));break}case"left_edge":{w=_.sub(_.rotWith(_.med([f,d],[f,h]),T,r),_.rotWith(_.med([s,a],[s,l]),I,r));break}case"bottom_edge":{w=_.sub(_.rotWith(_.med([u,d],[f,d]),T,r),_.rotWith(_.med([o,a],[s,a]),I,r));break}case"right_edge":{w=_.sub(_.rotWith(_.med([u,d],[u,h]),T,r),_.rotWith(_.med([o,a],[o,l]),I,r));break}}[u,d]=_.sub([u,d],w),[f,h]=_.sub([f,h],w)}return f<u&&([f,u]=[u,f]),h<d&&([h,d]=[d,h]),{minX:u,minY:d,maxX:f,maxY:h,width:f-u,height:h-d,scaleX:(f-u)/(s-o||1)*(O?-1:1),scaleY:(h-d)/(l-a||1)*(x?-1:1)}}static getTransformAnchor(e,t,n){let r=e;switch(e){case"top_left_corner":{t&&n?r="bottom_right_corner":t?r="top_right_corner":n?r="bottom_left_corner":r="bottom_right_corner";break}case"top_right_corner":{t&&n?r="bottom_left_corner":t?r="top_left_corner":n?r="bottom_right_corner":r="bottom_left_corner";break}case"bottom_right_corner":{t&&n?r="top_left_corner":t?r="bottom_left_corner":n?r="top_right_corner":r="top_left_corner";break}case"bottom_left_corner":{t&&n?r="top_right_corner":t?r="bottom_right_corner":n?r="top_left_corner":r="top_right_corner";break}}return r}static getRelativeTransformedBoundingBox(e,t,n,r,i){let o=(r?t.maxX-n.maxX:n.minX-t.minX)/t.width,a=(i?t.maxY-n.maxY:n.minY-t.minY)/t.height,s=n.width/t.width,l=n.height/t.height,u=e.minX+e.width*o,d=e.minY+e.height*a,f=e.width*s,h=e.height*l;return{minX:u,minY:d,maxX:u+f,maxY:d+h,width:f,height:h}}static getRotatedSize(e,t){let n=_.div(e,2),r=[[0,0],[e[0],0],e,[0,e[1]]].map(o=>_.rotWith(o,n,t)),i=xe.getBoundsFromPoints(r);return[i.width,i.height]}static getBoundsCenter(e){return[e.minX+e.width/2,e.minY+e.height/2]}static getBoundsWithCenter(e){let t=xe.getBoundsCenter(e);return rt(re({},e),{midX:t[0],midY:t[1]})}static getCommonTopLeft(e){let t=[1/0,1/0];return e.forEach(n=>{t[0]=Math.min(t[0],n[0]),t[1]=Math.min(t[1],n[1])}),t}static getFromCache(e,t,n){let r=e.get(t);if(r===void 0&&(e.set(t,n()),r=e.get(t),r===void 0))throw Error("Cache did not include item!");return r}static uniqueId(e=""){return e?((Number(e)^Math.random()*16)>>Number(e)/4).toString(16):`${1e7}-${1e3}-${4e3}-${8e3}-${1e11}`.replace(/[018]/g,xe.uniqueId)}static rotateArray(e,t){return e.map((n,r)=>e[(r+t)%e.length])}static debounce(e,t=0){let n;return function(...r){clearTimeout(n),n=setTimeout(()=>e.apply(r),t)}}static getSvgPathFromStroke(e,t=!0){let n=e.length;if(n<4)return"";let r=e[0],i=e[1],o=e[2],a=`M${r[0].toFixed(2)},${r[1].toFixed(2)} Q${i[0].toFixed(2)},${i[1].toFixed(2)} ${ft(i[0],o[0]).toFixed(2)},${ft(i[1],o[1]).toFixed(2)} T`;for(let s=2,l=n-1;s<l;s++)r=e[s],i=e[s+1],a+=`${ft(r[0],i[0]).toFixed(2)},${ft(r[1],i[1]).toFixed(2)} `;return t&&(a+="Z"),a}static getSvgPathFromStrokePoints(e,t=!1){let n=e.length;if(n<4)return"";let r=e[0].point,i=e[1].point,o=e[2].point,a=`M${r[0].toFixed(2)},${r[1].toFixed(2)} Q${i[0].toFixed(2)},${i[1].toFixed(2)} ${ft(i[0],o[0]).toFixed(2)},${ft(i[1],o[1]).toFixed(2)} T`;for(let s=2,l=n-1;s<l;s++)r=e[s].point,i=e[s+1].point,a+=`${ft(r[0],i[0]).toFixed(2)},${ft(r[1],i[1]).toFixed(2)} `;return t&&(a+="Z"),a}static getPerfectDashProps(e,t,n,r=1,i=!0,o=2){let a,s,l;if(n.toLowerCase()==="dashed")a=t*o,l=1,s=i?(a/2).toString():"0";else if(n.toLowerCase()==="dotted")a=t/100,l=100,s="0";else return{strokeDasharray:"none",strokeDashoffset:"none"};let u=Math.floor(e/a/(2*l));u-=u%r,u=Math.max(u,4);let d=Math.max(a,(e-u*a)/(i?u:u-1));return{strokeDasharray:[a,d].join(" "),strokeDashoffset:s}}static isMobileSafari(){if(typeof window>"u")return!1;let e=window.navigator.userAgent,t=!!e.match(/iPad/i)||!!e.match(/iPhone/i),n=!!e.match(/WebKit/i);return t&&n&&!e.match(/CriOS/i)}static throttle(e,t){let n,r;return function(...i){return n||(n=!0,setTimeout(()=>n=!1,t),r=e(...i)),r}}static isDarwin(){return/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)}static metaKey(e){return xe.isDarwin()?e.metaKey:e.ctrlKey}static lns(e){let t=e.split("");return t.push(...t.splice(0,Math.round(t.length/5))),t.push(...t.splice(0,Math.round(t.length/4))),t.push(...t.splice(0,Math.round(t.length/3))),t.push(...t.splice(0,Math.round(t.length/2))),t.reverse().map(n=>+n?+n<5?5+ +n:+n>5?+n-5:n:n).join("")}},me=xe;he(me,"getSnapPoints",(e,t,n)=>{let r=re({},e),i=[0,0],o=[],a={minX:{id:"minX",isSnapped:!1},midX:{id:"midX",isSnapped:!1},maxX:{id:"maxX",isSnapped:!1},minY:{id:"minY",isSnapped:!1},midY:{id:"midY",isSnapped:!1},maxY:{id:"maxY",isSnapped:!1}},s=["midX","minX","maxX"],l=["midY","minY","maxY"],u=t.map(y=>{let p=s.flatMap((b,E)=>s.map((O,x)=>{let C=r[b]-y[O],S=Math.abs(C);return{f:b,t:O,gap:C,distance:S,isCareful:E===0||E+x===3}})),m=l.flatMap((b,E)=>l.map((O,x)=>{let C=r[b]-y[O],S=Math.abs(C);return{f:b,t:O,gap:C,distance:S,isCareful:E===0||E+x===3}}));return[y,p,m]}),d=1/0,f=1/0,h=1/0,v=1/0;return u.forEach(([y,p,m])=>{p.forEach(b=>{b.distance<n&&b.distance<h&&(h=b.distance,d=b.gap)}),m.forEach(b=>{b.distance<n&&b.distance<v&&(v=b.distance,f=b.gap)})}),u.forEach(([y,p,m])=>{d!==1/0&&p.forEach(b=>{Math.abs(b.gap-d)<2&&(a[b.f]=rt(re({},a[b.f]),{isSnapped:!0,to:y[b.t],B:y,distance:b.distance}))}),f!==1/0&&m.forEach(b=>{Math.abs(b.gap-f)<2&&(a[b.f]=rt(re({},a[b.f]),{isSnapped:!0,to:y[b.t],B:y,distance:b.distance}))})}),i[0]=d===1/0?0:d,i[1]=f===1/0?0:f,r.minX-=i[0],r.midX-=i[0],r.maxX-=i[0],r.minY-=i[1],r.midY-=i[1],r.maxY-=i[1],s.forEach(y=>{let p=a[y];if(!p.isSnapped)return;let{id:m,B:b}=p,E=r[m];o.push(m==="minX"?[[E,r.midY],[E,b.minY],[E,b.maxY]]:[[E,r.minY],[E,r.maxY],[E,b.minY],[E,b.maxY]])}),l.forEach(y=>{let p=a[y];if(!p.isSnapped)return;let{id:m,B:b}=p,E=r[m];o.push(m==="midY"?[[r.midX,E],[b.minX,E],[b.maxX,E]]:[[r.minX,E],[r.maxX,E],[b.minX,E],[b.maxX,E]])}),{offset:i,snapLines:o}}),he(me,"deepMerge",(e,t)=>{let n=re({},e),r=Object.entries(t);for(let[i,o]of r)n[i]=o===Object(o)&&!Array.isArray(o)?xe.deepMerge(n[i],o):o;return n});function ft(e,t){return(e+t)/2}var Be=me;function TE(e,t){let n=c.useRef(void 0),r=c.useRef(void 0),i=c.useRef([0,0]),o=c.useRef(0),{inputs:a,bounds:s,callbacks:l}=Ne();c.useEffect(()=>{let v=y=>y.preventDefault();return document.addEventListener("gesturestart",v),document.addEventListener("gesturechange",v),()=>{document.removeEventListener("gesturestart",v),document.removeEventListener("gesturechange",v)}},[]);let u=c.useCallback(({event:v})=>{var y,p,m,b;if(v.preventDefault(),a.isPinching||v.timeStamp<=o.current)return;o.current=v.timeStamp;let[E,O,x]=DE(v);if((v.altKey||v.ctrlKey||v.metaKey)&&v.buttons===0){let w=[...(p=(y=a.pointer)==null?void 0:y.point)!=null?p:[s.width/2,s.height/2],x*.618],I=a.pan(w,v);(m=l.onZoom)==null||m.call(l,rt(re({},I),{delta:w}),v);return}let C=_.mul(v.shiftKey&&!Be.isDarwin()?[O,0]:[E,O],.5);if(_.isEqual(C,[0,0]))return;let S=a.pan(C,v);(b=l.onPan)==null||b.call(l,S,v)},[l,a,s]),d=c.useCallback(({origin:v,event:y})=>{var p;if(y instanceof WheelEvent)return;let m=t.current;if(!m||!(y.target===m||m.contains(y.target)))return;let b=a.pinch(v,v);a.isPinching=!0,(p=l.onPinchStart)==null||p.call(l,b,y),r.current=b.point,n.current=b.origin,i.current=[0,0]},[l,a,s]),f=c.useCallback(({origin:v,offset:y,event:p})=>{var m;if(p instanceof WheelEvent)return;let b=t.current;if(!(p.target===b||b!=null&&b.contains(p.target))||!n.current)return;let E=a.pinch(v,n.current),O=_.sub(E.delta,i.current);i.current=E.delta,(m=l.onPinch)==null||m.call(l,rt(re({},E),{point:E.point,origin:n.current,delta:[...O,y[0]]}),p),r.current=v},[l,a,s]),h=c.useCallback(({origin:v,event:y})=>{var p;let m=t.current;if(!(y.target===m||m!=null&&m.contains(y.target)))return;let b=a.pinch(v,v);a.isPinching=!1,(p=l.onPinchEnd)==null||p.call(l,b,y),r.current=void 0,n.current=void 0,i.current=[0,0]},[]);iE({onWheel:u,onPinchStart:d,onPinch:f,onPinchEnd:h},{target:t,eventOptions:{passive:!1},pinch:{from:[e.current,0],scaleBounds:()=>({from:e.current,max:5,min:.1})}})}var Il=10;function DE(e){let{deltaY:t,deltaX:n}=e,r=0;if(e.ctrlKey||e.metaKey){let i=Math.sign(e.deltaY),o=Math.abs(e.deltaY),a=t;o>Il&&(a=Il*i),r=a}return[n,t,r]}function PE(){let{callbacks:e}=Ne();c.useEffect(()=>{function t(){var n;(n=e.onShapeBlur)==null||n.call(e)}return Be.isMobileSafari()?(document.addEventListener("focusout",t),()=>document.removeEventListener("focusout",t)):()=>null},[e])}function $E(){let{callbacks:e,inputs:t}=Ne();return c.useMemo(()=>({onPointerDown:n=>{var r,i,o;if(n.dead||(n.dead=!0,!t.pointerIsValid(n)))return;if(n.currentTarget.setPointerCapture(n.pointerId),n.button===2){(r=e.onRightPointCanvas)==null||r.call(e,t.pointerDown(n,"canvas"),n);return}let a=t.pointerDown(n,"canvas");n.button===0&&((i=e.onPointCanvas)==null||i.call(e,a,n)),(o=e.onPointerDown)==null||o.call(e,a,n)},onPointerMove:n=>{var r,i;if(n.dead||(n.dead=!0,!t.pointerIsValid(n)))return;let o=t.pointerMove(n,"canvas");n.buttons===1&&n.currentTarget.hasPointerCapture(n.pointerId)&&((r=e.onDragCanvas)==null||r.call(e,o,n)),(i=e.onPointerMove)==null||i.call(e,o,n)},onPointerUp:n=>{var r,i,o,a,s;if(n.dead||(n.dead=!0,t.activePointer=void 0,!t.pointerIsValid(n)))return;let l=t.isDoubleClick(),u=t.pointerUp(n,"canvas");if(n.button===2){(r=e.onPointerUp)==null||r.call(e,u,n);return}n.currentTarget.hasPointerCapture(n.pointerId)&&((i=n.currentTarget)==null||i.releasePointerCapture(n.pointerId)),n.button===0&&(l&&!(u.altKey||u.metaKey)&&((o=e.onDoubleClickCanvas)==null||o.call(e,u,n)),(a=e.onReleaseCanvas)==null||a.call(e,u,n)),(s=e.onPointerUp)==null||s.call(e,u,n)},onDrop:e.onDrop,onDragOver:e.onDragOver}),[e,t])}function kE(e){let{rPageState:t,rSelectionBounds:n,callbacks:r,inputs:i}=c.useContext(na);return c.useMemo(()=>({onPointerDown:o=>{var a,s,l,u,d,f,h;if(o.dead||(o.dead=!0,!i.pointerIsValid(o)))return;if(o.button===2){(a=r.onRightPointShape)==null||a.call(r,i.pointerDown(o,e),o);return}let v=i.pointerDown(o,e);if((s=o.currentTarget)==null||s.setPointerCapture(o.pointerId),n.current&&me.pointInBounds(v.point,n.current)&&!t.current.selectedIds.includes(e)){o.button===0&&((l=r.onPointBounds)==null||l.call(r,i.pointerDown(o,"bounds"),o),(u=r.onPointShape)==null||u.call(r,v,o)),(d=r.onPointerDown)==null||d.call(r,v,o);return}o.button===0&&((f=r.onPointShape)==null||f.call(r,v,o)),(h=r.onPointerDown)==null||h.call(r,v,o)},onPointerUp:o=>{var a,s,l,u;if(o.dead||(o.dead=!0,!i.pointerIsValid(o))||o.button===2)return;i.activePointer=void 0;let d=i.isDoubleClick(),f=i.pointerUp(o,e);o.pointerId&&o.currentTarget.hasPointerCapture(o.pointerId)&&((a=o.currentTarget)==null||a.releasePointerCapture(o.pointerId)),o.button===0&&(d&&!(f.altKey||f.metaKey)&&((s=r.onDoubleClickShape)==null||s.call(r,f,o)),(l=r.onReleaseShape)==null||l.call(r,f,o)),(u=r.onPointerUp)==null||u.call(r,f,o)},onPointerMove:o=>{var a,s;if(o.dead||(o.dead=!0,o.buttons===2||!i.pointerIsValid(o)||i.pointer&&o.pointerId!==i.pointer.pointerId))return;let l=i.pointerMove(o,e);o.buttons===1&&o.currentTarget.hasPointerCapture(o.pointerId)&&((a=r.onDragShape)==null||a.call(r,l,o)),(s=r.onPointerMove)==null||s.call(r,l,o)},onPointerEnter:o=>{var a;if(!i.pointerIsValid(o))return;let s=i.pointerEnter(o,e);(a=r.onHoverShape)==null||a.call(r,s,o)},onPointerLeave:o=>{var a;if(!i.pointerIsValid(o))return;let s=i.pointerEnter(o,e);(a=r.onUnhoverShape)==null||a.call(r,s,o)}}),[i,r,e])}function zc(e,t,n,r,i,o=!1,a=!1,s,l){let u={shape:e,asset:e.assetId?i[e.assetId]:void 0,meta:s,isChildOfSelected:a,isGhost:e.isGhost||o,isEditing:r.editingId===e.id,isBinding:l===e.id,isSelected:r.selectedIds.includes(e.id),isHovered:r.hoveredId===e.id||e.children!==void 0&&(r.hoveredId&&e.children.includes(r.hoveredId)||e.children.some(d=>r.selectedIds.includes(d)))};t.push(u),e.children&&(u.children=[],e.children.map(d=>n[d]).filter(d=>n[d.id]).sort((d,f)=>d.childIndex-f.childIndex).forEach(d=>zc(d,u.children,n,r,i,u.isGhost,u.isSelected||u.isChildOfSelected,s)))}function RE(e,t){return me.boundsContain(t,e)||me.boundsCollide(t,e)}function AE(e,t,n,r){let{callbacks:i,shapeUtils:o,bounds:a}=Ne(),s=c.useRef(),l=c.useRef(-1),u=c.useRef(new Set),d=c.useRef(new Set),{selectedIds:f,camera:h}=t,[v,y]=_.sub(_.div([0,0],h.zoom),h.point),[p,m]=_.sub(_.div([a.width,a.height],h.zoom),h.point),b={minX:v,minY:y,maxX:p,maxY:m,height:p-v,width:m-y},E=d.current,O=u.current;E.clear(),O.clear(),Object.values(e.shapes).filter(S=>o[S.type].isStateful||f.includes(S.id)||RE(o[S.type].getBounds(S),b)).forEach(S=>{if(S.parentId===e.id){O.add(S.id),E.add(S);return}let w=e.shapes[S.parentId];if(w===void 0)throw Error(`A shape (${S.id}) has a parent (${S.parentId}) that does not exist!`);O.add(w.id),E.add(w)}),E.size!==l.current&&(s.current&&clearTimeout(s.current),s.current=requestAnimationFrame(()=>{var S;(S=i.onRenderCountChange)==null||S.call(i,Array.from(O.values()))}),l.current=E.size);let x=t.bindingId?e.bindings[t.bindingId].toId:void 0,C=[];return E.forEach(S=>{if(S===void 0)throw Error("Rendered shapes included a missing shape");zc(S,C,e.shapes,t,n,S.isGhost,!1,r,x)}),C.sort((S,w)=>S.shape.childIndex-w.shape.childIndex),C}var hi=new Map;function ME(e,t){return Object.keys(t).reduce((n,r)=>{let i=t[r];return i?n+`${`--${e}-${r}`}: ${i};
`:n},"")}function NE(e,t,n=":root"){c.useLayoutEffect(()=>{let r=document.createElement("style"),i=ME(e,t);return r.setAttribute("id",`${e}-theme`),r.setAttribute("data-selector",n),r.innerHTML=`
        ${n} {
          ${i}
        }
      `,document.head.appendChild(r),()=>{r&&document.head.contains(r)&&document.head.removeChild(r)}},[e,t,n])}function LE(e,t){c.useLayoutEffect(()=>{if(hi.get(e))return()=>{};let n=document.createElement("style");return n.innerHTML=t,n.setAttribute("id",e),document.head.appendChild(n),hi.set(e,n),()=>{n&&document.head.contains(n)&&(document.head.removeChild(n),hi.delete(e))}},[e,t])}var zE=(e,...t)=>e.reduce((n,r,i)=>n+r+(i<t.length?t[i]:""),""),HE={accent:"rgb(255, 0, 0)",brushFill:"rgba(0,0,0,.05)",brushStroke:"rgba(0,0,0,.25)",brushDashStroke:"rgba(0,0,0,.6)",selectStroke:"rgb(66, 133, 244)",selectFill:"rgba(65, 132, 244, 0.05)",binding:"rgba(65, 132, 244, 0.12)",background:"rgb(248, 249, 250)",foreground:"rgb(51, 51, 51)",grid:"rgba(144, 144, 144, 1)"},FE=zE`
  .tl-container {
    --tl-zoom: 1;
    --tl-scale: calc(1 / var(--tl-zoom));
    --tl-padding: calc(64px * max(1, var(--tl-scale)));
    --tl-performance-all: auto;
    --tl-performance-selected: auto;
    position: relative;
    top: 0px;
    left: 0px;
    width: 100%;
    height: 100%;
    max-width: 100%;
    max-height: 100%;
    box-sizing: border-box;
    padding: 0px;
    margin: 0px;
    z-index: 100;
    overflow: hidden;
    touch-action: none;
    overscroll-behavior: none;
    background-color: var(--tl-background);
  }
  .tl-container * {
    box-sizing: border-box;
  }
  .tl-overlay {
    position: absolute;
    width: 100%;
    height: 100%;
    touch-action: none;
    pointer-events: none;
  }
  .tl-grid {
    position: absolute;
    width: 100%;
    height: 100%;
    touch-action: none;
    pointer-events: none;
    user-select: none;
  }
  .tl-snap-line {
    stroke: var(--tl-accent);
    stroke-width: calc(1px * var(--tl-scale));
  }
  .tl-snap-point {
    stroke: var(--tl-accent);
    stroke-width: calc(1px * var(--tl-scale));
  }
  .tl-canvas {
    position: absolute;
    width: 100%;
    height: 100%;
    touch-action: none;
    pointer-events: all;
    overflow: clip;
  }
  .tl-layer {
    position: absolute;
    top: 0px;
    left: 0px;
    height: 0px;
    width: 0px;
    contain: layout style size;
  }
  .tl-absolute {
    position: absolute;
    top: 0px;
    left: 0px;
    transform-origin: center center;
    contain: layout style size;
  }
  .tl-positioned {
    position: absolute;
    top: 0px;
    left: 0px;
    transform-origin: center center;
    pointer-events: none;
    display: flex;
    align-items: center;
    justify-content: center;
    contain: layout style size;
    will-change: var(--tl-performance-all);
  }
  .tl-positioned-svg {
    width: 100%;
    height: 100%;
    overflow: hidden;
    contain: layout style size;
  }
  .tl-positioned-div {
    position: relative;
    width: 100%;
    height: 100%;
    overflow: hidden;
    padding: var(--tl-padding);
    overflow: hidden;
    contain: layout style size;
  }
  .tl-positioned-selected {
    will-change: var(--tl-performance-selected);
  }
  .tl-inner-div {
    position: relative;
    width: 100%;
    height: 100%;
  }
  .tl-stroke-hitarea {
    fill: none;
    stroke: transparent;
    stroke-width: calc(24px * var(--tl-scale));
    pointer-events: stroke;
    stroke-linecap: round;
    stroke-linejoin: round;
  }
  .tl-fill-hitarea {
    fill: transparent;
    stroke: transparent;
    stroke-width: calc(24px * var(--tl-scale));
    pointer-events: all;
    stroke-linecap: round;
    stroke-linejoin: round;
  }
  .tl-counter-scaled {
    transform: scale(var(--tl-scale));
  }
  .tl-dashed {
    stroke-dasharray: calc(2px * var(--tl-scale)), calc(2px * var(--tl-scale));
  }
  .tl-transparent {
    fill: transparent;
    stroke: transparent;
  }
  .tl-cursor-ns {
    cursor: ns-resize;
  }
  .tl-cursor-ew {
    cursor: ew-resize;
  }
  .tl-cursor-nesw {
    cursor: nesw-resize;
  }
  .tl-cursor-nwse {
    cursor: nwse-resize;
  }
  .tl-corner-handle {
    stroke: var(--tl-selectStroke);
    fill: var(--tl-background);
    stroke-width: calc(1.5px * var(--tl-scale));
  }
  .tl-rotate-handle {
    stroke: var(--tl-selectStroke);
    fill: var(--tl-background);
    stroke-width: calc(1.5px * var(--tl-scale));
    cursor: grab;
  }
  .tl-binding {
    fill: var(--tl-selectFill);
    stroke: var(--tl-selectStroke);
    stroke-width: calc(1px * var(--tl-scale));
    pointer-events: none;
  }
  .tl-user {
    left: calc(-15px * var(--tl-scale));
    top: calc(-15px * var(--tl-scale));
    height: calc(35px * var(--tl-scale));
    width: calc(35px * var(--tl-scale));
    transform: scale(var(--tl-scale));
    pointer-events: none;
    will-change: transform;
  }
  .tl-animated {
    transition: transform 200ms linear;
  }
  .tl-indicator {
    fill: transparent;
    stroke-width: calc(1.5px * var(--tl-scale));
    pointer-events: none;
  }
  .tl-user-indicator-bounds {
    border-style: solid;
    border-width: calc(1px * var(--tl-scale));
  }
  .tl-hovered {
    stroke: var(--tl-selectStroke);
  }
  .tl-selected {
    stroke: var(--tl-selectStroke);
  }
  .tl-locked {
    stroke-dasharray: calc(3px * var(--tl-scale)) calc(3px * var(--tl-scale));
  }
  .tl-editing {
    stroke-width: calc(2.5px * min(5, var(--tl-scale)));
  }
  .tl-performance {
    will-change: transform, contents;
  }
  .tl-clone-target {
    pointer-events: all;
  }
  .tl-clone-target:hover .tl-clone-button {
    opacity: 1;
  }
  .tl-clone-button-target {
    cursor: pointer;
    pointer-events: all;
  }
  .tl-clone-button-target:hover .tl-clone-button {
    fill: var(--tl-selectStroke);
  }
  .tl-clone-button {
    opacity: 0;
    r: calc(8px * var(--tl-scale));
    stroke-width: calc(1.5px * var(--tl-scale));
    stroke: var(--tl-selectStroke);
    fill: var(--tl-background);
  }
  .tl-bounds {
    pointer-events: none;
    contain: layout style size;
  }
  .tl-bounds-bg {
    stroke: none;
    fill: var(--tl-selectFill);
    pointer-events: all;
    contain: layout style size;
  }
  .tl-bounds-center {
    fill: transparent;
    stroke: var(--tl-selectStroke);
    stroke-width: calc(1.5px * var(--tl-scale));
  }
  .tl-brush {
    fill: var(--tl-brushFill);
    stroke: var(--tl-brushStroke);
    stroke-width: calc(1px * var(--tl-scale));
    pointer-events: none;
    contain: layout style size;
  }
  .tl-dashed-brush-line {
    fill: none;
    stroke: var(--tl-brushDashStroke);
    stroke-width: calc(1px * var(--tl-scale));
    pointer-events: none;
  }
  .tl-brush.dashed {
    stroke: none;
  }
  .tl-handle {
    pointer-events: all;
    cursor: grab;
  }
  .tl-handle:hover .tl-handle-bg {
    fill: var(--tl-selectFill);
  }
  .tl-handle:hover .tl-handle-bg > * {
    stroke: var(--tl-selectFill);
  }
  .tl-handle:active .tl-handle-bg {
    cursor: grabbing;
    fill: var(--tl-selectFill);
  }
  .tl-handle:active .tl-handle-bg > * {
    stroke: var(--tl-selectFill);
  }
  .tl-handle {
    fill: var(--tl-background);
    stroke: var(--tl-selectStroke);
    stroke-width: 1.5px;
  }
  .tl-handle-bg {
    fill: transparent;
    stroke: none;
    pointer-events: all;
    r: calc(16px / max(1, var(--tl-zoom)));
  }
  .tl-binding-indicator {
    fill: transparent;
    stroke: var(--tl-binding);
  }
  .tl-centered-g {
    transform: translate(var(--tl-padding), var(--tl-padding));
  }
  .tl-current-parent > *[data-shy='true'] {
    opacity: 1;
  }
  .tl-binding {
    fill: none;
    stroke: var(--tl-selectStroke);
    stroke-width: calc(2px * var(--tl-scale));
  }
  .tl-grid-dot {
    fill: var(--tl-grid);
  }
  .tl-erase-line {
    stroke-linejoin: round;
    stroke-linecap: round;
    pointer-events: none;
    fill: var(--tl-grid);
    opacity: 0.32;
  }
`;function jE(e,t){let n=c.useMemo(()=>re(re({},HE),e),[e]);NE("tl",n,t),LE("tl-canvas",FE)}function Ft(e){let{callbacks:t,inputs:n}=Ne(),r=c.useCallback(l=>{var u,d,f,h;if(l.dead||(l.dead=!0,!n.pointerIsValid(l)))return;(u=l.currentTarget)==null||u.setPointerCapture(l.pointerId);let v=n.pointerDown(l,e);if(l.button===2){(d=t.onRightPointBoundsHandle)==null||d.call(t,v,l);return}l.button===0&&((f=t.onPointBoundsHandle)==null||f.call(t,v,l)),(h=t.onPointerDown)==null||h.call(t,v,l)},[n,t,e]),i=c.useCallback(l=>{var u,d,f;if(l.dead||(l.dead=!0,l.button===2||!n.pointerIsValid(l)))return;let h=n.pointerUp(l,e),v=n.isDoubleClick();l.button===0&&(v&&!(h.altKey||h.metaKey)&&((u=t.onDoubleClickBoundsHandle)==null||u.call(t,h,l)),(d=t.onReleaseBoundsHandle)==null||d.call(t,h,l)),(f=t.onPointerUp)==null||f.call(t,h,l)},[n,t,e]),o=c.useCallback(l=>{var u,d;if(l.dead||(l.dead=!0,!n.pointerIsValid(l))||l.buttons===2)return;let f=n.pointerMove(l,e);l.buttons===1&&l.currentTarget.hasPointerCapture(l.pointerId)&&((u=t.onDragBoundsHandle)==null||u.call(t,f,l)),(d=t.onPointerMove)==null||d.call(t,f,l)},[n,t,e]),a=c.useCallback(l=>{var u;!n.pointerIsValid(l)||(u=t.onHoverBoundsHandle)==null||u.call(t,n.pointerEnter(l,e),l)},[n,t,e]),s=c.useCallback(l=>{var u;!n.pointerIsValid(l)||(u=t.onUnhoverBoundsHandle)==null||u.call(t,n.pointerEnter(l,e),l)},[n,t,e]);return{onPointerDown:r,onPointerUp:i,onPointerEnter:a,onPointerMove:o,onPointerLeave:s}}function BE(e,t,n){let r=c.useRef(),i=c.useRef();c.useLayoutEffect(()=>{let{zoom:o,point:a}=n.camera,s=o!==r.current,l=a!==i.current;if(r.current=o,i.current=a,s||l){let u=e.current;if(t&&"current"in t){let d=t.current;s&&d&&d.style.setProperty("--tl-zoom",o.toString()),u&&u.style.setProperty("transform",`scale(${o}) translateX(${a[0]}px) translateY(${a[1]}px)`)}}},[n.camera.zoom,n.camera.point])}function _l(e,t){return[(e[0]+t.point[0])*t.zoom,(e[1]+t.point[1])*t.zoom]}function pi(e,t){return e[t.type]}function KE(e,t,n){let{rSelectionBounds:r}=Ne(),{selectedIds:i}=t,o=c.useRef(),a,s=0,l=!1,u=!1;if(i.length===1){let f=i[0],h=e.shapes[f];if(!h)throw Error(`selectedIds is set to the id of a shape that doesn't exist: ${f}`);s=h.rotation||0,l=h.isLocked||!1;let v=pi(n,h);a=v.hideBounds?void 0:v.getBounds(h)}else if(i.length>1){let f=i.map(h=>e.shapes[h]);s=0,l=f.every(h=>h.isLocked),a=f.reduce((h,v,y)=>y===0?pi(n,v).getRotatedBounds(v):Be.getExpandedBounds(h,pi(n,v).getRotatedBounds(v)),{})}if(a){let[f,h]=_l([a.minX,a.minY],t.camera),[v,y]=_l([a.maxX,a.maxY],t.camera);u=!!Object.values(e.bindings).find(p=>i.includes(p.toId)||i.includes(p.fromId)),r.current={minX:f,minY:h,maxX:v,maxY:y,width:v-f,height:y-h}}else r.current=null;let d=o.current;return!d||!a?o.current=a:a&&d.minX===a.minX&&d.minY===a.minY&&d.maxX===a.maxX&&d.maxY===a.maxY&&(a=o.current),{bounds:a,rotation:s,isLocked:l,isLinked:u}}function UE(e){let{inputs:t,callbacks:n}=Ne();return c.useMemo(()=>({onPointerDown:r=>{var i,o,a;if(r.dead||(r.dead=!0,!t.pointerIsValid(r))||r.button===2)return;(i=r.currentTarget)==null||i.setPointerCapture(r.pointerId);let s=t.pointerDown(r,e);r.button===0&&((o=n.onPointHandle)==null||o.call(n,s,r)),(a=n.onPointerDown)==null||a.call(n,s,r)},onPointerUp:r=>{var i,o,a,s;if(r.dead||(r.dead=!0,!t.pointerIsValid(r))||r.button===2)return;let l=t.isDoubleClick(),u=t.pointerUp(r,e);r.currentTarget.hasPointerCapture(r.pointerId)&&((i=r.currentTarget)==null||i.releasePointerCapture(r.pointerId),r.button===0&&(l&&!(u.altKey||u.metaKey)&&((o=n.onDoubleClickHandle)==null||o.call(n,u,r)),(a=n.onReleaseHandle)==null||a.call(n,u,r))),(s=n.onPointerUp)==null||s.call(n,u,r)},onPointerMove:r=>{var i,o;if(r.dead||(r.dead=!0,!t.pointerIsValid(r))||r.buttons===2)return;let a=t.pointerMove(r,e);r.buttons===1&&r.currentTarget.hasPointerCapture(r.pointerId)&&((i=n.onDragHandle)==null||i.call(n,a,r)),(o=n.onPointerMove)==null||o.call(n,a,r)},onPointerEnter:r=>{var i;if(!t.pointerIsValid(r))return;let o=t.pointerEnter(r,e);(i=n.onHoverHandle)==null||i.call(n,o,r)},onPointerLeave:r=>{var i;if(!t.pointerIsValid(r))return;let o=t.pointerEnter(r,e);(i=n.onUnhoverHandle)==null||i.call(n,o,r)}}),[t,n,e])}function WE(e){let{bounds:t}=Ne();c.useEffect(()=>{let n=o=>{o.preventDefault()},r=o=>{let a=o.touches[0].pageX,s=o.touches[0].radiusX||0;(a-s<10||a+s>t.width-10)&&o.preventDefault()},i=e.current;return i?(i.addEventListener("gestureend",n),i.addEventListener("gesturechange",n),i.addEventListener("gesturestart",n),i.addEventListener("touchstart",r),()=>{i&&(i.removeEventListener("gestureend",n),i.removeEventListener("gesturechange",n),i.removeEventListener("gesturestart",n),i.removeEventListener("touchstart",r))}):()=>{}},[e,t.width])}function qE(){let{callbacks:e,inputs:t}=Ne();return c.useMemo(()=>({onPointerDown:n=>{var r,i,o,a;if(n.dead||(n.dead=!0,!t.pointerIsValid(n)))return;if(n.button===2){(r=e.onRightPointBounds)==null||r.call(e,t.pointerDown(n,"bounds"),n);return}let s=t.pointerDown(n,"bounds");(i=n.currentTarget)==null||i.setPointerCapture(n.pointerId),n.button===0&&((o=e.onPointBounds)==null||o.call(e,s,n)),(a=e.onPointerDown)==null||a.call(e,s,n)},onPointerUp:n=>{var r,i,o,a;if(n.dead||(n.dead=!0,n.button===2)||(t.activePointer=void 0,!t.pointerIsValid(n)))return;let s=t.isDoubleClick(),l=t.pointerUp(n,"bounds");n.currentTarget.hasPointerCapture(n.pointerId)&&((r=n.currentTarget)==null||r.releasePointerCapture(n.pointerId)),n.button===0&&(s&&!(l.altKey||l.metaKey)&&((i=e.onDoubleClickBounds)==null||i.call(e,l,n)),(o=e.onReleaseBounds)==null||o.call(e,l,n)),(a=e.onPointerUp)==null||a.call(e,l,n)},onPointerMove:n=>{var r,i;if(n.dead||(n.dead=!0,!t.pointerIsValid(n)))return;n.buttons===1&&n.currentTarget.hasPointerCapture(n.pointerId)&&((r=e.onDragBounds)==null||r.call(e,t.pointerMove(n,"bounds"),n));let o=t.pointerMove(n,"bounds");(i=e.onPointerMove)==null||i.call(e,o,n)},onPointerEnter:n=>{var r;!t.pointerIsValid(n)||(r=e.onHoverBounds)==null||r.call(e,t.pointerEnter(n,"bounds"),n)},onPointerLeave:n=>{var r;!t.pointerIsValid(n)||(r=e.onUnhoverBounds)==null||r.call(e,t.pointerEnter(n,"bounds"),n)}}),[t,e])}function Hc(e,t=0){let n=c.useRef(null);return c.useLayoutEffect(()=>{let r=n.current,i=`
    translate(
      calc(${e.minX}px - var(--tl-padding)),
      calc(${e.minY}px - var(--tl-padding))
    )
    rotate(${t+(e.rotation||0)}rad)`;r.style.setProperty("transform",i),r.style.setProperty("width",`calc(${Math.floor(e.width)}px + (var(--tl-padding) * 2))`),r.style.setProperty("height",`calc(${Math.floor(e.height)}px + (var(--tl-padding) * 2))`)},[e,t]),n}function YE(){let{inputs:e,callbacks:t}=Ne();c.useEffect(()=>{let n=i=>{var o;(o=t.onKeyDown)==null||o.call(t,i.key,e.keydown(i),i)},r=i=>{var o;e.keyup(i),(o=t.onKeyUp)==null||o.call(t,i.key,e.keyup(i),i)};return window.addEventListener("keydown",n),window.addEventListener("keyup",r),()=>{window.removeEventListener("keydown",n),window.removeEventListener("keyup",r)}},[e,t])}function XE(e,t){c.useLayoutEffect(()=>{if(t&&"current"in t){let n=t==null?void 0:t.current;if(!n)return;switch(e){case"transform_selected":{n.style.setProperty("--tl-performance-all","auto"),n.style.setProperty("--tl-performance-selected","transform, contents");break}case"transform_all":{n.style.setProperty("--tl-performance-all","transform, contents"),n.style.setProperty("--tl-performance-selected","transform, contents");break}case"translate_selected":{n.style.setProperty("--tl-performance-all","auto"),n.style.setProperty("--tl-performance-selected","transform");break}case"translate_all":{n.style.setProperty("--tl-performance-all","transform"),n.style.setProperty("--tl-performance-selected","transform");break}default:n.style.setProperty("--tl-performance-all","auto"),n.style.setProperty("--tl-performance-selected","auto")}}},[e])}function QE(e){var t=e,{id:n,bounds:r,rotation:i=0,isGhost:o=!1,isSelected:a=!1,children:s}=t,l=Qt(t,["id","bounds","rotation","isGhost","isSelected","children"]);let u=Hc(r,i);return c.createElement("div",re({id:n,ref:u,className:`tl-positioned${o?" tl-ghost":""}${a?" tl-positioned-selected":""}`,"aria-label":"container","data-testid":"container"},l),s)}var On=c.memo(QE);function VE({brush:e,zoom:t,dashed:n}){return c.createElement(On,{bounds:e,rotation:0},c.createElement(zr,null,c.createElement("rect",{className:"tl-brush"+(n?" dashed":""),opacity:1,x:0,y:0,width:e.width,height:e.height,"aria-label":"brush"}),n&&c.createElement("g",{className:"tl-dashed-brush-line"},c.createElement(An,{x1:0,y1:0,x2:e.width,y2:0,zoom:t}),c.createElement(An,{x1:e.width,y1:0,x2:e.width,y2:e.height,zoom:t}),c.createElement(An,{x1:0,y1:e.height,x2:e.width,y2:e.height,zoom:t}),c.createElement(An,{x1:0,y1:0,x2:0,y2:e.height,zoom:t}))))}var GE=c.memo(VE);function An({x1:e,y1:t,x2:n,y2:r,zoom:i}){let o=Be.getPerfectDashProps(Math.hypot(n-e,r-t),1/i,"dashed",1,!0,3);return c.createElement("line",{x1:e,y1:t,x2:n,y2:r,strokeWidth:1/i,strokeDasharray:o.strokeDasharray,strokeDashoffset:o.strokeDashoffset})}var ZE=c.memo(({color:e})=>c.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 35 35",fill:"none",fillRule:"evenodd"},c.createElement("g",{fill:"rgba(0,0,0,.2)",transform:"translate(1,1)"},c.createElement("path",{d:"m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z"}),c.createElement("path",{d:"m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z"})),c.createElement("g",{fill:"white"},c.createElement("path",{d:"m12 24.4219v-16.015l11.591 11.619h-6.781l-.411.124z"}),c.createElement("path",{d:"m21.0845 25.0962-3.605 1.535-4.682-11.089 3.686-1.553z"})),c.createElement("g",{fill:e},c.createElement("path",{d:"m19.751 24.4155-1.844.774-3.1-7.374 1.841-.775z"}),c.createElement("path",{d:"m13 10.814v11.188l2.969-2.866.428-.139h4.768z"}))));function JE({points:e,zoom:t}){if(e.length===0)return null;let n=Be.getSvgPathFromStroke(gE(e,{size:16/t,start:{taper:!0}}));return c.createElement("path",{d:n,className:"tl-erase-line"})}var ew=c.memo(JE),Cl=[[-1,.15,64],[.05,.375,16],[.15,1,4],[.7,2.5,1]];function tw({grid:e,camera:t}){return c.createElement("svg",{className:"tl-grid",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},c.createElement("defs",null,Cl.map(([n,r,i],o)=>{let a=i*e*t.zoom,s=t.point[0]*t.zoom,l=t.point[1]*t.zoom,u=s>0?s%a:a+s%a,d=l>0?l%a:a+l%a,f=t.zoom<r?Be.modulate(t.zoom,[n,r],[0,1]):1;return c.createElement("pattern",{key:`grid-pattern-${o}`,id:`grid-${o}`,width:a,height:a,patternUnits:"userSpaceOnUse"},c.createElement("circle",{className:"tl-grid-dot",cx:u,cy:d,r:1,opacity:f}))})),Cl.map((n,r)=>c.createElement("rect",{key:`grid-rect-${r}`,width:"100%",height:"100%",fill:`url(#grid-${r})`})))}function nw({camera:{zoom:e,point:t},children:n}){let r=2.5/e;return c.createElement("svg",{className:"tl-overlay"},c.createElement("defs",null,c.createElement("g",{id:"tl-snap-point"},c.createElement("path",{className:"tl-snap-point",d:`M ${-r},${-r} L ${r},${r} M ${-r},${r} L ${r},${-r}`}))),c.createElement("g",{transform:`scale(${e}) translate(${t})`},n))}var rw=c.memo(nw),zr=c.memo(c.forwardRef(function(e,t){var n=e,{id:r,className:i="",children:o}=n,a=Qt(n,["id","className","children"]);return c.createElement("svg",re({ref:t,className:`tl-positioned-svg ${i}`},a),c.createElement("g",{id:r,className:"tl-centered-g"},o))}));function iw({bounds:e,isLocked:t,isHidden:n}){return c.createElement("rect",{className:["tl-bounds-center",t?"tl-dashed":""].join(" "),x:-1,y:-1,width:e.width+2,height:e.height+2,opacity:n?0:1,pointerEvents:"none","aria-label":"center handle"})}var ow=c.memo(iw),aw={right:0,bottomRight:45,bottom:90,bottomLeft:135,left:180,topLeft:225,top:270,topRight:315};function sw({bounds:e,side:t,targetSize:n,size:r}){let i=n*2,o={left:-i,topLeft:-i,bottomLeft:-i,right:e.width,topRight:e.width,bottomRight:e.width,top:e.width/2-i/2,bottom:e.width/2-i/2}[t],a={left:e.height/2-i/2,right:e.height/2-i/2,top:-i*2,topLeft:-i,topRight:-i,bottom:e.height,bottomLeft:e.height,bottomRight:e.height}[t],{callbacks:s,inputs:l}=Ne(),u=c.useCallback(d=>{var f;d.stopPropagation();let h=l.pointerDown(d,t);(f=s.onShapeClone)==null||f.call(s,h,d)},[s.onShapeClone]);return c.createElement("g",{className:"tl-clone-target",transform:`translate(${o}, ${a})`,"aria-label":"clone button"},c.createElement("rect",{className:"tl-transparent",width:n*2,height:n*2}),c.createElement("g",{className:"tl-clone-button-target",onPointerDown:u,transform:`translate(${n}, ${n}) rotate(${aw[t]})`},c.createElement("circle",{className:"tl-transparent ",r:n}),c.createElement("path",{className:"tl-clone-button",d:`M -${r/2},-${r/2} L ${r/2},0 -${r/2},${r/2} Z`,strokeLinejoin:"round"})))}var ht=c.memo(sw);function lw({targetSize:e,size:t,bounds:n}){return c.createElement(c.Fragment,null,c.createElement(ht,{targetSize:e,size:t,bounds:n,side:"top"}),c.createElement(ht,{targetSize:e,size:t,bounds:n,side:"right"}),c.createElement(ht,{targetSize:e,size:t,bounds:n,side:"bottom"}),c.createElement(ht,{targetSize:e,size:t,bounds:n,side:"left"}),c.createElement(ht,{targetSize:e,size:t,bounds:n,side:"topLeft"}),c.createElement(ht,{targetSize:e,size:t,bounds:n,side:"topRight"}),c.createElement(ht,{targetSize:e,size:t,bounds:n,side:"bottomLeft"}),c.createElement(ht,{targetSize:e,size:t,bounds:n,side:"bottomRight"}))}var uw=c.memo(lw),cw={top_left_corner:"tl-cursor-nwse",top_right_corner:"tl-cursor-nesw",bottom_right_corner:"tl-cursor-nwse",bottom_left_corner:"tl-cursor-nesw"};function dw({size:e,targetSize:t,isHidden:n,corner:r,bounds:i}){let o=Ft(r),a=r==="top_left_corner"||r==="top_right_corner",s=r==="top_left_corner"||r==="bottom_left_corner";return c.createElement("g",{opacity:n?0:1},c.createElement("rect",re({className:"tl-transparent "+(n?"":cw[r]),"aria-label":"corner transparent",x:(s?-1:i.width+1)-t,y:(a?-1:i.height+1)-t,width:t*2,height:t*2,pointerEvents:n?"none":"all"},o)),c.createElement("rect",{className:"tl-corner-handle","aria-label":"corner handle",x:(s?-1:i.width+1)-e/2,y:(a?-1:i.height+1)-e/2,width:e,height:e,pointerEvents:"none"}))}var Mn=c.memo(dw),fw={top_edge:"tl-cursor-ns",right_edge:"tl-cursor-ew",bottom_edge:"tl-cursor-ns",left_edge:"tl-cursor-ew"};function hw({size:e,isHidden:t,bounds:n,edge:r}){let i=Ft(r),o=r==="top_edge"||r==="bottom_edge",a=r==="right_edge"||r==="bottom_edge",{height:s,width:l}=n;return c.createElement("rect",re({pointerEvents:t?"none":"all",className:"tl-transparent tl-edge-handle "+(t?"":fw[r]),"aria-label":`${r} handle`,opacity:t?0:1,x:o?e/2:(a?l+1:-1)-e/2,y:o?(a?s+1:-1)-e/2:e/2,width:o?Math.max(0,l+1-e):e,height:o?e:Math.max(0,s+1-e)},i))}var Nn=c.memo(hw);function pw({size:e,bounds:t,isHidden:n}){let r=Ft("left"),i=Ft("center"),o=Ft("right");return c.createElement("g",{cursor:"grab",transform:`translate(${t.width/2-e*4}, ${t.height+e*2})`,"aria-label":"link handle"},c.createElement("g",{className:"tl-transparent",pointerEvents:n?"none":"all"},c.createElement("rect",re({x:0,y:0,width:e*2,height:e*2},r)),c.createElement("rect",re({x:e*3,y:0,width:e*2,height:e*2},i)),c.createElement("rect",re({x:e*6,y:0,width:e*2,height:e*2},o))),c.createElement("g",{className:"tl-rotate-handle",transform:`translate(${e/2}, ${e/2})`,"aria-label":"link rotate handle"},c.createElement("path",{d:`M 0,${e/2} L ${e},${e} ${e},0 Z`,pointerEvents:"none",opacity:n?0:1}),c.createElement("path",{transform:`translate(${e*3}, 0)`,d:`M 0,0 L ${e},0 ${e/2},${e} Z`,pointerEvents:"none",opacity:n?0:1}),c.createElement("path",{transform:`translate(${e*6}, 0)`,d:`M ${e},${e/2} L 0,0 0,${e} Z`,pointerEvents:"none",opacity:n?0:1})))}var gw=c.memo(pw);function mw({bounds:e,targetSize:t,size:n,isHidden:r}){let i=Ft("rotate");return c.createElement("g",{cursor:"grab",opacity:r?0:1},c.createElement("circle",re({className:"tl-transparent","aria-label":"rotate handle transparent",cx:e.width/2,cy:n*-2,r:t,pointerEvents:r?"none":"all"},i)),c.createElement("circle",{className:"tl-rotate-handle","aria-label":"rotate handle",cx:e.width/2,cy:n*-2,r:n/2,pointerEvents:"none"}))}var vw=c.memo(mw),yw=function({zoom:e,bounds:t,viewportWidth:n,rotation:r,isHidden:i,isLocked:o,hideCloneHandles:a,hideResizeHandles:s,hideRotateHandle:l,hideBindingHandles:u}){let d=(n<768?16:8)/e,f=8/e,h=Math.min(t.width,t.height)*e,v=!l&&!i&&!o&&h>32,y=!i&&!o&&h>24,p=!i&&!o&&h>20,m=!a&&h>24;return c.createElement(On,{bounds:t,rotation:r},c.createElement(zr,null,c.createElement(ow,{bounds:t,isLocked:o,isHidden:i}),!s&&!o?c.createElement(c.Fragment,null,c.createElement(Nn,{targetSize:d,size:f,bounds:t,edge:"top_edge",isHidden:!y}),c.createElement(Nn,{targetSize:d,size:f,bounds:t,edge:"right_edge",isHidden:!y}),c.createElement(Nn,{targetSize:d,size:f,bounds:t,edge:"bottom_edge",isHidden:!y}),c.createElement(Nn,{targetSize:d,size:f,bounds:t,edge:"left_edge",isHidden:!y}),c.createElement(Mn,{targetSize:d,size:f,bounds:t,isHidden:i||!p,corner:"top_left_corner"}),c.createElement(Mn,{targetSize:d,size:f,bounds:t,isHidden:i||!p,corner:"top_right_corner"}),c.createElement(Mn,{targetSize:d,size:f,bounds:t,isHidden:i||!p,corner:"bottom_right_corner"}),c.createElement(Mn,{targetSize:d,size:f,bounds:t,isHidden:i||!p,corner:"bottom_left_corner"})):null,v&&c.createElement(vw,{targetSize:d,size:f,bounds:t,isHidden:!y}),m&&c.createElement(uw,{bounds:t,targetSize:d,size:f}),!u&&c.createElement(gw,{targetSize:d,size:f,bounds:t,isHidden:!y})))},bw=c.memo(yw);function Ew({bounds:e,rotation:t,isHidden:n}){let r=qE();return c.createElement(On,{bounds:e,rotation:t},c.createElement(zr,null,c.createElement("rect",re({className:"tl-bounds-bg","aria-label":"bounds bg",width:e.width,height:e.height,opacity:n?0:1},r))))}var ww=c.memo(Ew);function Sw({id:e,point:t}){let n=UE(e);return c.createElement(On,{bounds:Be.translateBounds({minX:0,minY:0,maxX:0,maxY:0,width:0,height:0},t)},c.createElement(zr,null,c.createElement("g",re({className:"tl-handle","aria-label":"handle"},n),c.createElement("circle",{className:"tl-handle-bg",pointerEvents:"all"}),c.createElement("circle",{className:"tl-counter-scaled tl-handle",pointerEvents:"none",r:4}))))}var Ow=c.memo(Sw);function Iw({shape:e,zoom:t}){if(e.handles===void 0)return null;let n=null,r=Object.values(e.handles).reduce((i,o)=>{let a=_.add(o.point,e.point);return(!n||_.dist(a,n)*t>=32)&&(i.push(o),n=a),i},[]);return r.length===1?null:c.createElement(c.Fragment,null,r.map(i=>c.createElement(Ow,{key:e.id+"_"+i.id,id:i.id,point:_.add(i.point,e.point)})))}var _w=c.memo(Iw);function Cw(e){let t=e.utils.getRef(e.shape);return c.createElement(e.utils.Component,re({ref:t},e))}var xw=c.memo(Cw,(e,t)=>e.isHovered!==t.isHovered||e.isSelected!==t.isSelected||e.isEditing!==t.isEditing||e.isBinding!==t.isBinding||e.isGhost!==t.isGhost||e.meta!==t.meta?!1:t.shape!==e.shape?!t.utils.shouldRender(t.shape,e.shape):!0);function Tw(e){var t=e,{shape:n,utils:r,meta:i}=t,o=Qt(t,["shape","utils","meta"]);let{callbacks:a}=Ne(),s=r.getBounds(n),l=kE(n.id);return c.createElement(On,{id:n.id,bounds:s,rotation:n.rotation,"data-shape":n.type,isGhost:o.isGhost,isSelected:o.isSelected},c.createElement(xw,re({shape:n,utils:r,meta:i,events:l,bounds:s,onShapeChange:a.onShapeChange,onShapeBlur:a.onShapeBlur},o)))}var Dw=c.memo(Tw);function Pw(e){var t=e,{shape:n,utils:r,meta:i,children:o}=t,a=Qt(t,["shape","utils","meta","children"]);return c.createElement(c.Fragment,null,c.createElement(Dw,re({shape:n,utils:r[n.type],meta:i},a)),o&&o.map(s=>c.createElement(Fc,re({key:s.shape.id,utils:r},s))))}var Fc=c.memo(Pw);function $w({isHovered:e=!1,isSelected:t=!1,isEditing:n=!1,shape:r,user:i,meta:o}){let{shapeUtils:a}=Ne(),s=a[r.type],l=s.getBounds(r),u=Hc(l,r.rotation);return c.createElement("div",{ref:u,draggable:!1,className:["tl-indicator","tl-absolute",t&&!i?"tl-selected":"tl-hovered",n?"tl-editing":"",r.isLocked?"tl-locked":""].join(" ")},c.createElement("svg",{width:"100%",height:"100%"},c.createElement("g",{className:"tl-centered-g",stroke:i==null?void 0:i.color},c.createElement(s.Indicator,{shape:r,meta:o,user:i,bounds:l,isSelected:t,isHovered:e}))))}var ro=c.memo($w);function kw({page:e,pageState:t,assets:n,hideBounds:r,hideHandles:i,hideIndicators:o,hideBindingHandles:a,hideCloneHandles:s,hideRotateHandle:l,hideResizeHandles:u,meta:d}){let{bounds:f,shapeUtils:h}=Ne(),v=AE(e,t,n,d),{bounds:y,isLinked:p,isLocked:m,rotation:b}=KE(e,t,h),{selectedIds:E,hoveredId:O,editingId:x,camera:{zoom:C}}=t,S=o,w=!0,I=!1,T,P=E.map($=>e.shapes[$]);if(P.length===1){let $=P[0];I=x===$.id,I&&(S=!0);let z=h[$.type];w=s||!z.showCloneHandles,$.handles!==void 0&&!I&&(T=$)}return c.createElement(c.Fragment,null,y&&c.createElement(ww,{bounds:y,rotation:b,isHidden:r}),v.map($=>c.createElement(Fc,re({key:$.shape.id,utils:h},$))),!S&&P.map($=>c.createElement(ro,{key:"selected_"+$.id,shape:$,meta:d,isSelected:!0,isEditing:I})),!S&&O&&O!==x&&c.createElement(ro,{key:"hovered_"+O,shape:e.shapes[O],meta:d,isHovered:!0}),y&&c.createElement(bw,{zoom:C,bounds:y,viewportWidth:f.width,isLocked:m,rotation:b,isHidden:r,hideRotateHandle:l,hideResizeHandles:u,hideBindingHandles:a||!p,hideCloneHandles:w}),!i&&T&&c.createElement(_w,{shape:T,zoom:C}))}var Rw=c.memo(kw);function Aw({snapLines:e}){return c.createElement(c.Fragment,null,e.map((t,n)=>c.createElement(Nw,{key:n,snapLine:t})))}function Mw({snapLine:e}){let t=Be.getBoundsFromPoints(e);return c.createElement(c.Fragment,null,c.createElement("line",{className:"tl-snap-line",x1:t.minX,y1:t.minY,x2:t.maxX,y2:t.maxY}),e.map(([n,r],i)=>c.createElement("use",{key:i,href:"#tl-snap-point",x:n,y:r})))}var Nw=c.memo(Mw),Lw=c.memo(Aw);function zw({user:e,Cursor:t}){let n=c.useRef(null);return c.useLayoutEffect(()=>{n.current&&(n.current.style.transform=`translate(${e.point[0]}px, ${e.point[1]}px)`)},[e.point]),c.createElement("div",{ref:n,className:`tl-absolute tl-user tl-counter-scaled ${e.session?"":"tl-animated"}`},c.createElement(t,{id:e.id,color:e.color,metadata:e.metadata}))}function Hw({userId:e,users:t,Cursor:n}){return c.createElement(c.Fragment,null,Object.values(t).filter(r=>r&&r.id!==e).map(r=>c.createElement(zw,{key:r.id,user:r,Cursor:n})))}function Fw({userId:e,users:t,meta:n,page:r}){let{shapeUtils:i}=Ne();return c.createElement(c.Fragment,null,Object.values(t).filter(Boolean).filter(o=>o.id!==e&&o.selectedIds.length>0).map(o=>{let a=o.selectedIds.map(l=>r.shapes[l]).filter(Boolean);if(a.length===0)return null;let s=Be.getCommonBounds(a.map(l=>i[l.type].getBounds(l)));return c.createElement(c.Fragment,{key:o.id+"_shapes"},c.createElement("div",{className:"tl-absolute tl-user-indicator-bounds",style:{backgroundColor:o.color+"0d",borderColor:o.color+"78",transform:`translate(${s.minX}px, ${s.minY}px)`,width:s.width,height:s.height,pointerEvents:"none"}}),a.map(l=>c.createElement(ro,{key:`${o.id}_${l.id}_indicator`,shape:l,user:o,meta:n,isHovered:!0})))}))}var jw=e=>{let t=e.parentElement;for(;t;){if(t===document.body)return document;let{overflowY:n}=window.getComputedStyle(t);if(t.scrollHeight>t.clientHeight&&(n==="auto"||n==="scroll"||n==="overlay"))return t;t=t.parentElement}return document};function Bw(e,t){let{inputs:n,callbacks:r}=Ne(),i=c.useRef(!1),o=c.useCallback(()=>{var a,s;if(i.current){let l=(a=e.current)==null?void 0:a.getBoundingClientRect();if(l){let u={minX:l.left,maxX:l.left+l.width,minY:l.top,maxY:l.top+l.height,width:l.width,height:l.height};n.bounds=u,t(u),(s=r.onBoundsChange)==null||s.call(r,u)}}else i.current=!0},[e,n,r.onBoundsChange]);c.useEffect(()=>{let a=e.current?jw(e.current):document,s=me.debounce(o,100);return a.addEventListener("scroll",s),window.addEventListener("resize",s),()=>{a.removeEventListener("scroll",s),window.removeEventListener("resize",s)}},[]),c.useEffect(()=>{let a=new ResizeObserver(s=>{n.isPinching||s[0].contentRect&&o()});return e.current&&a.observe(e.current),()=>{a.disconnect()}},[e,n]),c.useEffect(()=>{o()},[e])}function Kw({id:e,page:t,pageState:n,assets:r,snapLines:i,eraseLine:o,grid:a,users:s,userId:l,components:u={},meta:d,performanceMode:f,showDashedBrush:h,hideHandles:v,hideBounds:y,hideIndicators:p,hideBindingHandles:m,hideCloneHandles:b,hideResizeHandles:E,hideRotateHandle:O,hideGrid:x,onBoundsChange:C,hideCursors:S}){var w;let I=c.useRef(null),T=c.useRef(n.camera.zoom);T.current=n.camera.zoom,TE(T,I),Bw(I,C),PE(),WE(I);let P=c.useRef(null),$=c.useRef(null);BE($,P,n),XE(f,P),YE();let z=$E();return c.createElement("div",{id:e,className:"tl-container",ref:P},c.createElement("div",re({id:"canvas",className:"tl-absolute tl-canvas",ref:I},z),!x&&a&&c.createElement(tw,{grid:a,camera:n.camera}),c.createElement("div",{ref:$,className:"tl-absolute tl-layer","data-testid":"layer"},c.createElement(Rw,{page:t,pageState:n,assets:r,hideBounds:y,hideIndicators:p,hideHandles:v,hideBindingHandles:m,hideCloneHandles:b,hideResizeHandles:E,hideRotateHandle:O,meta:d}),s&&l&&c.createElement(Fw,{userId:l,users:s,page:t,meta:d}),n.brush&&c.createElement(GE,{brush:n.brush,dashed:h,zoom:n.camera.zoom}),s&&!S&&c.createElement(Hw,{userId:l,users:s,Cursor:(w=u==null?void 0:u.Cursor)!=null?w:ZE})),c.createElement(rw,{camera:n.camera},o&&c.createElement(ew,{points:o,zoom:n.camera.zoom}),i&&c.createElement(Lw,{snapLines:i}))))}var Uw=c.memo(Kw),Ww=250,Ie=class{constructor(){he(this,"pointer"),he(this,"keyboard"),he(this,"keys",{}),he(this,"isPinching",!1),he(this,"bounds",{minX:0,maxX:640,minY:0,maxY:480,width:640,height:480}),he(this,"pointerUpTime",0),he(this,"activePointer"),he(this,"panStart",e=>{var t,n;let{shiftKey:r,ctrlKey:i,metaKey:o,altKey:a}=e,s={target:"wheel",pointerId:((t=this.pointer)==null?void 0:t.pointerId)||0,origin:((n=this.pointer)==null?void 0:n.origin)||[0,0],delta:[0,0],pressure:.5,point:Ie.getPoint(e,this.bounds),shiftKey:r,ctrlKey:i,metaKey:o,altKey:a,spaceKey:this.keys[" "]};return this.pointer=s,s}),he(this,"pan",(e,t)=>{if(!this.pointer||this.pointer.target!=="wheel")return this.panStart(t);let{shiftKey:n,ctrlKey:r,metaKey:i,altKey:o}=t,a=this.pointer,s=Ie.getPoint(t,this.bounds),l=rt(re({},a),{target:"wheel",delta:e,point:s,shiftKey:n,ctrlKey:r,metaKey:i,altKey:o,spaceKey:this.keys[" "]});return this.pointer=l,l}),he(this,"keydown",e=>{var t,n;let{shiftKey:r,ctrlKey:i,metaKey:o,altKey:a}=e;return this.keys[e.key]=!0,{point:((t=this.pointer)==null?void 0:t.point)||[0,0],origin:((n=this.pointer)==null?void 0:n.origin)||[0,0],key:e.key,keys:Object.keys(this.keys),shiftKey:r,ctrlKey:i,metaKey:me.isDarwin()?o:i,altKey:a}}),he(this,"keyup",e=>{var t,n;let{shiftKey:r,ctrlKey:i,metaKey:o,altKey:a}=e;return delete this.keys[e.key],{point:((t=this.pointer)==null?void 0:t.point)||[0,0],origin:((n=this.pointer)==null?void 0:n.origin)||[0,0],key:e.key,keys:Object.keys(this.keys),shiftKey:r,ctrlKey:i,metaKey:me.isDarwin()?o:i,altKey:a}})}pointerIsValid(e){if("pointerId"in e&&this.activePointer&&this.activePointer!==e.pointerId)return!1;if("touches"in e){let t=e.changedTouches[0];if(this.activePointer&&this.activePointer!==t.identifier)return!1}return!0}touchStart(e,t){let{shiftKey:n,ctrlKey:r,metaKey:i,altKey:o}=e,a=e.changedTouches[0];this.activePointer=a.identifier;let s={target:t,pointerId:a.identifier,origin:Ie.getPoint(a,this.bounds),delta:[0,0],point:Ie.getPoint(a,this.bounds),pressure:Ie.getPressure(a),shiftKey:n,ctrlKey:r,metaKey:me.isDarwin()?i:r,altKey:o,spaceKey:this.keys[" "]};return this.pointer=s,s}touchEnd(e,t){let{shiftKey:n,ctrlKey:r,metaKey:i,altKey:o}=e,a=e.changedTouches[0],s={target:t,pointerId:a.identifier,origin:Ie.getPoint(a,this.bounds),delta:[0,0],point:Ie.getPoint(a,this.bounds),pressure:Ie.getPressure(a),shiftKey:n,ctrlKey:r,metaKey:me.isDarwin()?i:r,altKey:o,spaceKey:this.keys[" "]};return this.pointer=s,this.activePointer=void 0,s}touchMove(e,t){let{shiftKey:n,ctrlKey:r,metaKey:i,altKey:o}=e,a=e.changedTouches[0],s=this.pointer,l=Ie.getPoint(a,this.bounds),u=s!=null&&s.point?_.sub(l,s.point):[0,0],d=rt(re({origin:l},s),{target:t,pointerId:a.identifier,point:l,delta:u,pressure:Ie.getPressure(a),shiftKey:n,ctrlKey:r,metaKey:me.isDarwin()?i:r,altKey:o,spaceKey:this.keys[" "]});return this.pointer=d,d}pointerDown(e,t){let{shiftKey:n,ctrlKey:r,metaKey:i,altKey:o}=e,a=Ie.getPoint(e,this.bounds);this.activePointer=e.pointerId;let s={target:t,pointerId:e.pointerId,origin:a,point:a,delta:[0,0],pressure:Ie.getPressure(e),shiftKey:n,ctrlKey:r,metaKey:me.isDarwin()?i:r,altKey:o,spaceKey:this.keys[" "]};return this.pointer=s,s}pointerEnter(e,t){let{shiftKey:n,ctrlKey:r,metaKey:i,altKey:o}=e,a=Ie.getPoint(e,this.bounds),s={target:t,pointerId:e.pointerId,origin:a,delta:[0,0],point:a,pressure:Ie.getPressure(e),shiftKey:n,ctrlKey:r,metaKey:me.isDarwin()?i:r,altKey:o,spaceKey:this.keys[" "]};return this.pointer=s,s}pointerMove(e,t){let{shiftKey:n,ctrlKey:r,metaKey:i,altKey:o}=e,a=this.pointer,s=Ie.getPoint(e,this.bounds),l=a!=null&&a.point?_.sub(s,a.point):[0,0],u=rt(re({origin:s},a),{target:t,pointerId:e.pointerId,point:s,delta:l,pressure:Ie.getPressure(e),shiftKey:n,ctrlKey:r,metaKey:me.isDarwin()?i:r,altKey:o,spaceKey:this.keys[" "]});return this.pointer=u,u}pointerUp(e,t){let{shiftKey:n,ctrlKey:r,metaKey:i,altKey:o}=e,a=this.pointer,s=Ie.getPoint(e,this.bounds),l=a!=null&&a.point?_.sub(s,a.point):[0,0];this.activePointer=void 0;let u=rt(re({origin:s},a),{target:t,pointerId:e.pointerId,point:s,delta:l,pressure:Ie.getPressure(e),shiftKey:n,ctrlKey:r,metaKey:me.isDarwin()?i:r,altKey:o,spaceKey:this.keys[" "]});return this.pointer=u,this.pointerUpTime=performance.now(),u}isDoubleClick(){if(!this.pointer)return!1;let{origin:e,point:t}=this.pointer,n=performance.now()-this.pointerUpTime<Ww&&_.dist(e,t)<4;return n&&(this.activePointer=void 0),n}clear(){this.pointer=void 0}resetDoubleClick(){this.pointerUpTime=0}pinch(e,t){let{shiftKey:n,ctrlKey:r,metaKey:i,altKey:o}=this.keys,a=_.sub(t,e),s={pointerId:0,target:"pinch",origin:t,delta:a,point:_.sub(_.toFixed(e),[this.bounds.minX,this.bounds.minY]),pressure:.5,shiftKey:n,ctrlKey:r,metaKey:me.isDarwin()?i:r,altKey:o,spaceKey:this.keys[" "]};return this.pointer=s,s}reset(){this.pointerUpTime=0,this.pointer=void 0,this.keyboard=void 0,this.activePointer=void 0,this.keys={}}static getPoint(e,t){return[+e.clientX.toFixed(2)-t.minX,+e.clientY.toFixed(2)-t.minY]}static getPressure(e){return"pressure"in e&&+e.pressure.toFixed(2)||.5}static commandKey(){return me.isDarwin()?"⌘":"Ctrl"}};new Ie;var qw=Object.freeze({});function Yw(e){var t=e,{id:n="tl",shapeUtils:r,page:i,pageState:o,assets:a=qw,users:s,userId:l,theme:u,meta:d,snapLines:f,eraseLine:h,grid:v,containerRef:y,performanceMode:p,components:m,hideHandles:b=!1,hideIndicators:E=!1,hideCloneHandles:O=!1,hideBindingHandles:x=!1,hideResizeHandles:C=!1,hideRotateHandles:S=!1,hideBounds:w=!1,hideGrid:I=!0,showDashedBrush:T=!1,hideCursors:P}=t,$=Qt(t,["id","shapeUtils","page","pageState","assets","users","userId","theme","meta","snapLines","eraseLine","grid","containerRef","performanceMode","components","hideHandles","hideIndicators","hideCloneHandles","hideBindingHandles","hideResizeHandles","hideRotateHandles","hideBounds","hideGrid","showDashedBrush","hideCursors"]);jE(u,"#"+n);let z=c.useRef(null),ee=c.useRef(o);c.useEffect(()=>{ee.current=o},[o]);let[Z,ue]=c.useState(()=>({callbacks:$,shapeUtils:r,rSelectionBounds:z,rPageState:ee,bounds:{minX:0,minY:0,maxX:1/0,maxY:1/0,width:1/0,height:1/0},inputs:new Ie})),le=c.useCallback(M=>{ue(q=>rt(re({},q),{bounds:M}))},[]);return c.createElement(na.Provider,{value:Z},c.createElement(Uw,{id:n,page:i,pageState:o,assets:a,snapLines:f,eraseLine:h,grid:v,users:s,userId:l,externalContainerRef:y,hideBounds:w,hideIndicators:E,hideHandles:b,hideCloneHandles:O,hideBindingHandles:x,hideRotateHandle:S,hideResizeHandles:C,hideGrid:I,showDashedBrush:T,onBoundsChange:le,performanceMode:p,components:m,meta:d,hideCursors:P}))}var Xw=c.memo(Yw),io=c.memo(c.forwardRef(function(e,t){var n=e,{children:r,className:i=""}=n,o=Qt(n,["children","className"]);return c.createElement("div",re({ref:t,className:`tl-positioned-div ${i}`,draggable:!1},o),c.createElement("div",{className:"tl-inner-div"},r))})),gt=class{constructor(){he(this,"refMap",new Map),he(this,"boundsCache",new WeakMap),he(this,"showCloneHandles",!1),he(this,"hideBounds",!1),he(this,"isStateful",!1),he(this,"shouldRender",(e,t)=>!0),he(this,"getRef",e=>(this.refMap.has(e.id)||this.refMap.set(e.id,c.createRef()),this.refMap.get(e.id))),he(this,"hitTestBounds",(e,t)=>{let n=this.getBounds(e),r=Be.getRotatedCorners(n,e.rotation);return r.every(i=>Be.pointInBounds(i,t))||EE(r,t).length>0}),he(this,"getRotatedBounds",e=>Be.getBoundsFromPoints(Be.getRotatedCorners(this.getBounds(e),e.rotation)))}};he(gt,"Component",e=>c.forwardRef(e)),he(gt,"Indicator",e=>e);/**
* String.prototype.replaceAll() polyfill
* https://gomakethings.com/how-to-replace-a-section-of-a-string-with-another-one-with-vanilla-js/
* @author Chris Ferdinandi
* @license MIT
*/function jc(e,t){const n=c.useRef(null);return c.useEffect(()=>{if(!n.current||e.visibility!=="measuring")return;function r(){if(!n.current)return;const u=n.current.getBoundingClientRect();u.height>0&&$e.send("UPDATE_DIMENSIONS",{id:e.id,width:u.width,height:u.height})}function i(){return Boolean(n.current.querySelector('[data-fwoosh-fallback="true"]'))}const o=i(),a=document.getElementById(t);if(!o&&a&&a.childNodes.length>0){r();return}function s(){return i()||!a||a.childNodes.length===0?(requestAnimationFrame(s),!0):(r(),cancelAnimationFrame(l),!1)}const l=requestAnimationFrame(s);return()=>{cancelAnimationFrame(l)}},[e.id,e.visibility]),n}const Qw=Q("div",{borderRadius:"$round",borderWidth:"$sm",borderStyle:"$solid",borderColor:"$gray7",pointerEvents:"auto",width:"fit-content"}),Vw=Q("div",{height:"$10",background:"$gray3",px:4,py:2,display:"flex",alignItems:"center",text:"sm",color:"$gray11",overflow:"hidden",borderTopRightRadius:"$round",borderTopLeftRadius:"$round"}),Gw=Q("div",{flex:1,width:"$10"}),Zw=Q("div",{fontWeight:300,mr:3,color:"$gray9"}),Jw=Q("div",{p:4,width:"max-content"}),eS=c.memo(({item:e,storyId:t,shape:n})=>{const{grouping:r,slug:i,title:o}=e,a=r.split("/"),s=yn(),{ref:l}=To({id:s,slug:e.slug}),u=jc(n,s);return c.createElement(Qw,{ref:u,css:{boxShadow:t===e.slug?"0 0 0 4px $colors$gray8":void 0}},c.createElement(Vw,{as:se.Link,to:`/canvas/workbench/${i}`},c.createElement(Zw,null,a[a.length-1])," ",o,c.createElement(Gw,null),c.createElement(an,{message:"Open story"},c.createElement(sn,{as:se.Link,to:`/workbench/${i}`},c.createElement(_d,null)))),c.createElement(Jw,null,c.createElement("div",{id:s,ref:l})))}),tS=gt.Component(({shape:e,events:t,meta:n},r)=>{const i=Od(je)[e.id];return i?c.createElement(io,{ref:r,...t},e.visibility!=="hidden"&&c.createElement(eS,{item:i,...n,shape:e})):c.createElement(io,{ref:r,...t},"")}),nS=gt.Indicator(({shape:e})=>c.createElement("rect",{fill:"none",stroke:"dodgerblue",strokeWidth:1,width:e.size[0],height:e.size[1]}));class rS extends gt{constructor(){super(...arguments),this.Component=tS,this.Indicator=nS,this.getBounds=t=>{const[n,r]=t.size,i={minX:0,maxX:n,minY:0,maxY:r,width:n,height:r};return me.translateBounds(i,t.point)},this.getShape=t=>({...t,type:"story",parentId:"canvas",size:[0,0],point:[0,0],visibility:"hidden",rotation:0})}}function iS(e){let t=0,n=0;for(const s of e)t+=s.w*s.h,n=Math.max(n,s.w);e.sort((s,l)=>l.h-s.h);const i=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}];let o=0,a=0;for(const s of e)for(let l=i.length-1;l>=0;l--){const u=i[l];if(!(s.w>u.w||s.h>u.h)){if(s.x=u.x,s.y=u.y,a=Math.max(a,s.y+s.h),o=Math.max(o,s.x+s.w),s.w===u.w&&s.h===u.h){const d=i.pop();l<i.length&&(i[l]=d)}else s.h===u.h?(u.x+=s.w,u.w-=s.w):s.w===u.w?(u.y+=s.h,u.h-=s.h):(i.push({x:u.x+s.w,y:u.y,w:u.w-s.w,h:s.h}),u.y+=s.h,u.h-=s.h);break}}return{w:o,h:a,fill:t/(o*a)||0}}function xl(e){return{...e,name:e.id,type:"group",parentId:"canvas",rotation:0,childIds:[],stories:[],size:[0,0],contentSize:[0,0],visibility:"hidden",point:[0,0]}}function oo(e){const[t,n]=e.size,r={minX:0,maxX:t,minY:0,maxY:n,width:t,height:n};return me.translateBounds(r,e.point)}const oS={group:oo,story:oo},Bc=16,aS=64;function sS(e,t){return e.filter(Boolean).map(n=>({h:n.size[1]+t,w:n.size[0]+t,x:n.point[0],y:n.point[1],id:n.id}))}function Kc(e,t,n){[...e.childIds||[],...e.stories].forEach(i=>{const o=t[i];o&&(o.point=te.add(o.point,n),o.type==="group"&&Kc(o,t,n))})}function Tl(e,t,n=[0,0],r){const i=sS(e,r);return iS(i),i.forEach(o=>{const a=t[o.id],s=a.point;a.point=te.add([o.x,o.y],n);const l=te.sub(a.point,s);a.type==="group"&&a.stories[0]!==a.id&&Kc(a,t,l)}),i}function Uc(e,t,n=Bc){const r=[];for(const i of e){const o=t[i.id];if(o)if(i.type==="story"&&i.story.type==="basic")r.push(t[i.id]);else{const a="children"in i?Uc(i.children,t):[],s="childIds"in o&&o.childIds.length>0||"stories"in o&&o.stories.length>0,u=Tl([...s?[{...o,size:o.contentSize}]:[],...a],t,[0,"contentSize"in o?o.contentSize[1]+n:0],n).map(f=>{const h=t[f.id];return oS[h.type](h)}),d=me.getCommonBounds(u);d&&(o.size=[d.width,d.height]),r.push(o)}}return Tl(r,t,void 0,n),r}const Wc=Q("div",{pointerEvents:"auto",width:"max-content",padding:"$2"}),lS=Q(Wc,{width:"800px"}),uS=Q(co,{borderWidth:"$sm",borderStyle:"$solid",borderColor:"$gray7",borderRadius:"$round"}),cS=Q("div",{display:"flex",flexDirection:"column",gap:"$4"}),dS=[et.h1,et.h2,et.h3,et.h4,et.h5,et.h6],fS=c.memo(function({shape:t,mode:n,...r}){const i=t.name.split("-"),o=i.length-1,a=dS[o],{basicStories:s,mdxStories:l}=c.useMemo(()=>{const f=Id(je),h=t.stories.map(v=>f[v]);return{basicStories:h.filter(v=>v.type==="story"&&v.story.type==="basic"),mdxStories:h.filter(v=>v.type==="story"&&v.story.type==="mdx")}},[t.stories]),u=`group-${t.id}`,d=jc(t,u);return t.visibility==="hidden"?null:n==="docs"?c.createElement(lS,{id:u,"data-here":!0,ref:d},s.length===0&&c.createElement(a,{css:{margin:"$6 0 $10 0 !important"}},i[o]),s.length>0&&c.createElement(sc,{name:i[o],stories:s}),l.length>0&&c.createElement(cS,null,l.map(f=>f.story.type==="mdx"?c.createElement(uS,{key:f.id},c.createElement(f.story.component,null)):null))):c.createElement(Wc,{id:u,ref:d,style:{width:"100%"}},c.createElement(a,{css:{margin:"$4 0 0 0 !important"}},i[o]))}),hS=gt.Component(({shape:e,events:t,meta:n},r)=>c.createElement(io,{ref:r,...t},e.visibility!=="hidden"&&c.createElement(c.Suspense,null,c.createElement(fS,{...n,shape:e})))),pS=gt.Indicator(()=>c.createElement("rect",{fill:"none",stroke:"dodgerblue",strokeWidth:1}));class gS extends gt{constructor(){super(...arguments),this.Component=hS,this.Indicator=pS,this.getBounds=oo}}const ao={story:new rS,group:new gS},mS=1;function ra(e,t={},n){return e.reduce((i,o,a)=>{if(o.name==="Canvas"||o.name==="Changelog")return i;const s=Object.keys(i).length;if(o.type==="story"){if(o.story.type==="mdx"){if(n.shape==="docs"){const l=xl({id:o.id,childIndex:a});l.stories.push(o.id),i[o.id]=l}return i}n.shape==="workbench"&&(i[o.id]=ao.story.getShape({...o,childIndex:s,grouping:o.story.grouping.split("/")}))}else if(o.type==="tree"){const l=xl({id:o.id,childIndex:a}),u=[];o.children.forEach((d,f)=>{if(d.type==="story"){if(d.story.type==="basic"&&n.shape==="workbench"){i[d.id]=ao.story.getShape({...d,childIndex:f,grouping:d.story.grouping.split("/")}),l.stories.push(d.id);return}if(d.story.type==="basic"&&n.shape==="docs"){l.stories.push(d.id);return}if(d.story.type==="mdx"&&n.shape==="docs"){l.stories.push(d.id);return}}else l.childIds.push(d.id),u.push(d)}),ra(u,i,n),(l.stories.length>0||l.childIds.some(d=>i[d]))&&(i[o.id]=l)}return i},t)}const qc={id:"canvas",shapes:window.FWOOSH_DOCS_CANVAS_SHAPES?window.FWOOSH_DOCS_CANVAS_SHAPES:ra(je,{},{shape:"docs"}),bindings:{}},vS={id:"page1",selectedIds:[],camera:{point:[100,100],zoom:1},brush:null,pointedId:null,hoveredId:null,editingId:null,bindingId:null},ia={id:"myDocument",version:mS,page:qc,pageState:vS,overlays:{snapLines:[]},meta:{storyId:"",containerRef:{current:null},tree:je,hasMeasured:!1,mode:"docs"},performanceMode:void 0},yS={...ia,meta:{storyId:"",containerRef:{current:null},tree:je,hasMeasured:!1,mode:"workbench"},page:{...qc,shapes:window.FWOOSH_WORKBENCH_CANVAS_SHAPES?window.FWOOSH_WORKBENCH_CANVAS_SHAPES:ra(je,{},{shape:"workbench"})}},Yc=c.createContext({containerRef:{current:null}}),bS=e=>{const t=Object.values(e.page.shapes)[0];Object.assign(t,{visibility:"measuring"})},ES=(e,t)=>{const n=e.page.shapes[t.id];Object.assign(n,{size:[t.width,t.height],visibility:"hidden"}),n.type==="group"&&Object.assign(n,{contentSize:[t.width,t.height]});const r=Object.keys(e.page.shapes),i=r.indexOf(t.id),o=e.page.shapes[r[i+1]];o?Object.assign(o,{visibility:"measuring"}):(Object.values(e.page.shapes).forEach(a=>{a.point=[0,0],a.size="contentSize"in a?a.contentSize:a.size}),Uc(e.meta.tree,e.page.shapes,e.meta.mode==="docs"?aS:Bc),Object.values(e.page.shapes).forEach(a=>{Object.assign(a,{visibility:"visible"})}))},vr={snapshot:ia,initialPoint:[0,0],currentPoint:[0,0],previousPoint:[0,0],rendererBounds:me.getBoundsFromPoints([[0,0],[100,100]]),viewport:me.getBoundsFromPoints([[0,0],[100,100]]),rawPoints:[],isCloning:!1,pointedShapeId:void 0,pointedHandleId:void 0,pointedBoundsHandleId:void 0,initialCommonBounds:void 0,snapInfo:void 0},wS=e=>{e.pageState.camera.zoom=1},SS=e=>{const{camera:t}=e.pageState,n=Math.round(e.pageState.camera.zoom*100/25),r=Math.min(5,(n+1)*.25),i=[vr.rendererBounds.width/2,vr.rendererBounds.height/2],o=te.sub(te.div(i,t.zoom),i),a=te.sub(te.div(i,r),i),s=te.toFixed(te.add(t.point,te.sub(a,o)));e.pageState.camera.zoom=r,e.pageState.camera.point=s},OS=e=>{const{camera:t}=e.pageState,n=Math.round(e.pageState.camera.zoom*100/25),r=Math.max(.25,(n-1)*.25),i=[vr.rendererBounds.width/2,vr.rendererBounds.height/2],o=te.sub(te.div(i,t.zoom),i),a=te.sub(te.div(i,r),i),s=te.toFixed(te.add(t.point,te.sub(a,o)));e.pageState.camera.zoom=r,e.pageState.camera.point=s},IS=(e,t)=>{const{camera:n}=e.pageState,r=t.delta[2],i=te.sub(n.point,te.div(t.delta,n.zoom)),o=te.sub(te.div(t.point,n.zoom),i),a=te.sub(te.div(t.point,r),i);e.pageState.camera.point=te.toFixed(te.add(i,te.sub(a,o))),e.pageState.camera.zoom=r},_S=(e,t)=>{const{point:n,zoom:r}=e.pageState.camera;e.pageState.camera.point=te.sub(n,te.div(t.delta,r))},CS=(e,t)=>{const n=e.page.shapes[t.id],r=te.div(n.size,2),i=te.add(n.point,r),o=te.div([t.client.width,t.client.height],2);e.pageState.camera.zoom=1,e.pageState.camera.point=te.add(te.mul(i,-1),o)},xS=Object.freeze(Object.defineProperty({__proto__:null,centerShape:CS,panCamera:_S,pinchCamera:IS,startMeasure:bS,updateDimensions:ES,zoomIn:SS,zoomOut:OS,zoomReset:wS},Symbol.toStringTag,{value:"Module"})),$e=pr({data:ia,on:{PANNED:"panCamera",PINCHED:"pinchCamera",ZOOMED_IN:"zoomIn",ZOOMED_OUT:"zoomOut",ZOOMED_RESET:"zoomReset",CENTER_SHAPE:"centerShape",START_MEASURE:"startMeasure",UPDATE_DIMENSIONS:"updateDimensions"},initial:"select",states:{select:{initial:"idle",states:{idle:{}}}},actions:xS}),TS=Q("div",{position:"absolute",height:"100%",width:"100%",background:"$gray0",zIndex:1e6,inset:0}),DS=Q("div",{position:"relative",height:"100%",width:"100%"}),PS=Q("div",{position:"absolute",top:0,right:0,display:"flex",alignItems:"center",flexDirection:"column",gap:"$2",margin:"$3 $2",pointerEvents:"auto",zIndex:100,background:"$gray0",padding:"$2"}),$S=(e,t)=>{$e.send("PINCHED",e)},kS=(e,t)=>{$e.send("PANNED",e)},RS=()=>{$e.send("ZOOMED_IN")},AS=()=>{$e.send("ZOOMED_OUT")},MS=()=>{$e.send("ZOOMED_RESET")},NS=(e,t,n)=>{switch(e){case"Alt":case"Meta":case"Control":case"Shift":{$e.send("TOGGLED_MODIFIER",t);break}case"=":{(t.metaKey||t.ctrlKey)&&(n.preventDefault(),$e.send("ZOOMED_IN",t));break}case"-":{(t.metaKey||t.ctrlKey)&&(n.preventDefault(),$e.send("ZOOMED_OUT",t));break}}},LS=(e,t,n)=>{switch(e){case"Alt":case"Meta":case"Control":case"Shift":{$e.send("TOGGLED_MODIFIER",t);break}}},Xc=c.memo(({appState:e,mode:t})=>{var n,r;const i=c.useRef(null),o=ot(),a=Object.values(e.data.page.shapes).length,s=Object.values(e.data.page.shapes).filter(u=>u.size[0]>0),l=s.length===a;return l&&console.log("window.FWOOSH_CANVAS_SHAPE",e.data.page.shapes),c.useEffect(()=>{window.FWOOSH_WORKBENCH_CANVAS_SHAPES||$e.send("START_MEASURE")},[]),qf(l)&&l&&$e.send("CENTER_SHAPE",{id:o,client:{height:(n=i.current)===null||n===void 0?void 0:n.clientHeight,width:(r=i.current)===null||r===void 0?void 0:r.clientWidth}}),c.createElement(Yl,{components:et},c.createElement(DS,{ref:i},c.createElement(Xw,{theme:{background:"transparent"},page:e.data.page,pageState:e.data.pageState,shapeUtils:ao,onKeyDown:NS,onKeyUp:LS,onPinch:$S,onPan:kS,meta:{storyId:o,containerRef:i,mode:t}}),c.createElement(PS,null,c.createElement(an,{side:"left",message:"Zoom in"},c.createElement(sn,{onClick:RS},c.createElement(Cd,null))),c.createElement(an,{side:"left",message:"Zoom out"},c.createElement(sn,{onClick:AS},c.createElement(kf,null))),c.createElement(an,{side:"left",message:"Reset zoom"},c.createElement(sn,{onClick:MS},c.createElement(zf,null)))),!l&&c.createElement(TS,null,c.createElement(Ee,{delay:500,size:8},"Measuring shapes (",s.length+1," / ",a,")"))))});function zS(){const e=c.useMemo(()=>($e.data=yS,$e),[]),t=Cc(e),n=ot(),r=c.useRef(null);return c.useEffect(()=>{var i,o;n&&$e.send("CENTER_SHAPE",{id:n,client:{height:(i=r.current)===null||i===void 0?void 0:i.clientHeight,width:(o=r.current)===null||o===void 0?void 0:o.clientWidth}})},[n]),c.createElement(Yc.Provider,{value:{containerRef:r}},c.createElement(zo,null),c.createElement(yr,null,c.createElement(br,null,c.createElement(Er,null,c.createElement(c.Suspense,{fallback:c.createElement(Ee,{delay:2e3,size:8})},c.createElement(Vu,null)))),c.createElement(wr,{ref:r},c.createElement(Xc,{appState:t,mode:"workbench"}))))}function HS(){const e=Cc($e),t=ot(),n=c.useRef(null);return c.useEffect(()=>{var r,i;t&&$e.send("CENTER_SHAPE",{id:t,client:{height:(r=n.current)===null||r===void 0?void 0:r.clientHeight,width:(i=n.current)===null||i===void 0?void 0:i.clientWidth}})},[t]),c.createElement(Yc.Provider,{value:{containerRef:n}},c.createElement(zo,null),c.createElement(yr,null,c.createElement(br,null,c.createElement(Er,null,c.createElement(c.Suspense,{fallback:c.createElement(Ee,{delay:2e3,size:8})},c.createElement(tc,null)))),c.createElement(wr,{ref:n},c.createElement(Xc,{appState:e,mode:"docs"}))))}const FS=new Fd({defaultOptions:{queries:{suspense:!0}}}),Dl=()=>{const e=ql(je,{mdx:!0});if(!e)throw new Error('No stories found. Did you forget to add a "meta" export?');return g.createElement(se.Navigate,{to:"/docs/"+Sr(e.grouping)})},jS=()=>{const e=ql(je,{mdx:lo.includeMdxInWorkbench});if(!e)throw new Error('No stories found. Did you forget to add a "meta" export?');return e.type==="mdx"?g.createElement(se.Navigate,{to:"/workbench/docs/"+e.slug}):g.createElement(se.Navigate,{to:"/workbench/"+e.slug})};function BS(){const e=se.useRouteError();return g.createElement(Et,{error:e})}const KS=se.createBrowserRouter([{path:"/",errorElement:g.createElement(BS,null),element:g.createElement(kl,null,g.createElement(Lt,null,g.createElement(Et,{fullScreen:!0},g.createElement(gb,null),g.createElement(jl,null,g.createElement(ob,null),g.createElement(se.Outlet,null),g.createElement(se.ScrollRestoration,null),g.createElement(g.Suspense,null,g.createElement(pb,null)))))),children:[{index:!0,element:g.createElement(g.Suspense,{fallback:g.createElement(Ee,{delay:2e3})},g.createElement(Dl,null))},{path:"story/:storyId",element:g.createElement(Et,null,g.createElement(iu,null))},{path:"workbench",element:g.createElement(iy,null),children:[{index:!0,element:g.createElement(jS,null)},{path:":storyId",element:g.createElement(ib,null)},{path:"docs",children:[{path:":docsPath",element:g.createElement(Hs,null)}]}]},{path:"docs",element:g.createElement(g.Suspense,{fallback:g.createElement(Ee,{delay:2e3})},g.createElement(fy,null)),children:[{index:!0,element:g.createElement(Dl,null)},{path:":docsPath",element:g.createElement(Hs,null)}]},{path:"canvas",children:[{path:"workbench/:storyId?",element:g.createElement(zS,null)},{path:"docs/:docsPath?",element:g.createElement(HS,null)}]}]}],{basename:"/"}),US=td({mark:{background:"$primary6"},html:{background:"$gray1"},"html, body, #root":{height:"100%"},".syntax-dark":{display:"none"},[`.${Vn} .syntax-light`]:{display:"none"},[`.${Vn} .syntax-dark`]:{display:"block"}}),WS=()=>{const[e,t]=g.useState();return US(),g.useEffect(()=>{t(so()),window.addEventListener("fwoosh-color-mode-change",n=>t(n.detail.colorMode))},[]),g.createElement(g.Fragment,null,g.createElement(Ud,{client:FS},g.createElement(nd.Provider,{value:e},g.createElement(jl,{"data-color-mode":e},g.createElement(se.RouterProvider,{router:KS})))))};const Qc=document.getElementById("root");if(!Qc)throw new Error("No container element found");const qS=go(Qc);qS.render(g.createElement(WS,null));export{Wf as a,Ey as u};
